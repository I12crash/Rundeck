//# sourceMappingURL=jobEditPage_bundle.js.map
function showError(a){appendHtml($("editerror"),a);$("editerror").show()}function showRowSelected(a,b,f){f=document.getElementsByClassName(f,b);for(b=0;b<f.length;b++)$(f[b]).removeClassName("selected");a&&$(a)&&$(a).addClassName("selected")}var jobEdittedHandler;function _onJobEdit(a){jobEdittedHandler=a}function jobWasEdited(){"function"==typeof jobEdittedHandler&&jobEdittedHandler()}var _jobOptionData=[];function _optionData(a){_jobOptionData=a||[]}
function _addOption(a){_jobOptionData.push(a)}function _removeOptionName(a){var b=_jobOptionData.find(function(b){return b.name===a});0<=b&&_jobOptionData.splice(b,1)}var _VAR_DATA={job:[],node:[],eh:[],globals:[]};function _jobGlobalVarData(){if(1>_VAR_DATA.globals.length){var a=loadJsonData("globalVarData");a&&a.each(function(a){_VAR_DATA.globals.push({key:"globals."+a,category:"Global Vars"})})}return _VAR_DATA.globals}
function _jobVarData(){if(1>_VAR_DATA.job.length){var a={id:{title:"Job ID"},execid:{title:"Execution ID"},name:{title:"Job Name"},group:{title:"Job Group"},username:{title:"Name of user executing the job"},project:{title:"Project name"},loglevel:{title:"Execution log level",desc:"Logging level, one of: INFO, DEBUG"},"user.email":{title:"Email of user executing the job"},retryAttempt:{title:"Retry attempt number"},wasRetry:{title:"True if execution is a retry"}};"id execid name group username project loglevel user.email retryAttempt wasRetry".split(" ").each(function(b){_VAR_DATA.job.push({key:"job."+
b,category:"Job",title:a[b].title,desc:a[b].desc})})}return _VAR_DATA.job}
function _jobNodeData(){if(1>_VAR_DATA.node.length){var a={name:{title:"Node Name"},hostname:{title:"Node Hostname"},username:{title:"Node username"},description:{title:"Node description"},tags:{title:"Node tags"},"os-name":{title:"OS Name"},"os-family":{title:"OS Family"},"os-arch":{title:"OS Architecture"},"os-version":{title:"OS Version"}};"name hostname username description tags os-name os-family os-arch os-version".split(" ").each(function(b){_VAR_DATA.node.push({key:"node."+b,category:"Node",
title:a[b].title,desc:"(only available in node step context)"})})}return _VAR_DATA.node}
function _jobEhData(){if(1>_VAR_DATA.eh.length){var a={message:{title:"Error Message"},resultCode:{title:"Result Code",desc:"Exit code from an execution (if available)"},failedNodes:{title:"Failed Nodes List"},reason:{title:"Error Reason",desc:"A code indicating the reason the step failed"}};["message","resultCode","failedNodes","reason"].each(function(b){_VAR_DATA.eh.push({key:"result."+b,category:"Error Handler",title:a[b].title,desc:a[b].desc})})}return _VAR_DATA.eh}
function postLoadItemEdit(a,b,f){var e=jQuery(a);e.find("input[type=text]").each(function(a,b){b.observe("keypress",noenter)});0<e.find("input[type=text]").length&&e.find("input[type=text]")[0].focus();f=f||e.data("wfitemnodestep");addWfAutocomplete(e,b,function(){var a=e.find("input[name=nodeStep][type=radio]:checked");return a.length?"true"==a.val():f},function(a){return jQuery(a).hasClass("_wfscriptitem")},function(a,b){if(jQuery(a).hasClass("_wfscriptitem")){var f=e.find("._wfiedit").data("rkey");
f&&workflowEditor.scriptSteps()[f].guessAceMode.subscribe(function(a){setAceSyntaxMode(a,b)})}},function(a){return jQuery(a).hasClass("context_env_autocomplete")?(a=e.find("._wfiedit").data("rkey"))&&workflowEditor.scriptSteps()[a]&&workflowEditor.scriptSteps()[a].guessAceMode()||"sh":null})}
function addWfAutocomplete(a,b,f,e,d,g){var q=[].concat(_jobVarData()),q=q.concat(_jobGlobalVarData());b&&(q=q.concat(_jobEhData()));var r=function(a){return("RD_"+a).toUpperCase().replace(/[^a-zA-Z0-9_]/g,"_").replace(/[{}$]/,"")},n={sh:function(a){return"$"+r(a)},powershell:function(a){return"$env:"+r(a)},batchfile:function(a){return"%"+r(a)+"%"}},F=function(a,b,d){a=a||"${";b=b||"}";var e=[],g=[].concat(q);f&&f()&&(g=g.concat(_jobNodeData()));for(var c=n[d]||n.sh,r=0;r<g.length;r++)e.push({value:a+
g[r].key+b,data:g[r]}),d&&e.push({value:c(g[r].key),data:g[r]});for(g=0;g<_jobOptionData.length;g++)e.push({value:a+("option."+_jobOptionData[g].name)+b,data:{category:"Options",title:"Option value",desc:"For option: "+_jobOptionData[g].name}}),d&&e.push({value:c("option."+_jobOptionData[g].name),data:{category:"Options",title:"Option value",desc:"For option: "+_jobOptionData[g].name}}),"file"==_jobOptionData[g].type&&(e.push({value:a+("file."+_jobOptionData[g].name)+b,data:{category:"File Option",
title:"The local file path",desc:"For file option: "+_jobOptionData[g].name}}),e.push({value:a+("file."+_jobOptionData[g].name+".fileName")+b,data:{category:"File Option",title:"The original File name",desc:"For file option: "+_jobOptionData[g].name}}),e.push({value:a+("file."+_jobOptionData[g].name+".sha")+b,data:{category:"File Option",title:"The file contents SHA256 value",desc:"For file option: "+_jobOptionData[g].name}}),d&&(e.push({value:c("file."+_jobOptionData[g].name),data:{category:"File Option",
title:"The local file path",desc:"For file option: "+_jobOptionData[g].name}}),e.push({value:c("file."+_jobOptionData[g].name+".fileName"),data:{category:"File Option",title:"The original File name",desc:"For file option:"+_jobOptionData[g].name}}),e.push({value:c("file."+_jobOptionData[g].name+".sha"),data:{category:"File Option",title:"The file contents SHA256 value",desc:"For file option: "+_jobOptionData[g].name}})));return e};a.find("textarea.apply_ace").each(function(a,b){var f=e&&e(b),g=_addAceTextarea(b,
null,function(a,c,b,d){a=getAceSyntaxMode(a);return(f?F("@","@",a):F(null,null,a)).map(function(c){return{name:c.value,value:c.value,score:1,meta:c.data&&c.data.category||null,title:c.data&&c.data.title||null,desc:c.data&&c.data.desc||null,type:"rdvar"}})});d&&d(b,g)});a.find(".context_env_autocomplete,.context_var_autocomplete").each(function(a,b){var d=jQuery(b),e=g&&g(b)||null;d.devbridgeAutocomplete({delimiter:/( |(?=\$))/,tabDisabled:!0,lookup:function(a,c){var b=a.toLowerCase(),d=jQuery.grep(F(null,
null,e),function(c){return-1!==c.value.toLowerCase().indexOf(b)});c({suggestions:d})},groupBy:"category",formatResult:function(a,c){return a.data.title?jQuery.Autocomplete.formatResult(a,c)+" - "+a.data.title:jQuery.Autocomplete.formatResult(a,c)}})})}
function _initJobPickerAutocomplete(a,b,f){var e=jQuery("#schedEditFrameworkProject").val();jQuery("#"+a).devbridgeAutocomplete({minChars:0,deferRequestBy:500,lookup:function(a,b){var q=f&&jQuery("#"+f).val()||e;jQuery.ajax({url:_genUrl(appLinks.menuJobSearchJson,{jobFilter:a,project:q,runAuthRequired:!0}),success:function(a,d){b({suggestions:jQuery.map(a,function(a){return{value:a.name,data:a}})})}})},onSelect:function(a){jQuery("#"+b).val(a.data.group)}})}var _iseditting=null;
function _wfiedit(a,b,f){_iseditting||(jobWasEdited(),b={num:b,isErrorHandler:f?!0:!1,key:a},getCurSEID()&&(b.scheduledExecutionId=getCurSEID()),jQuery("#wfli_"+a).load(_genUrl(appLinks.workflowEdit,b),function(b,d,g){_hideWFItemControls(a);postLoadItemEdit("#wfli_"+a,f)}))}function _wficopy(a,b,f){_ajaxWFAction(appLinks.workflowCopy,{num:b,edit:!0})}
function _wfiview(a,b,f){b={num:b,edit:!0,key:a,isErrorHandler:f?!0:!1};getCurSEID()&&(b.scheduledExecutionId=getCurSEID());jQuery("#wfli_"+a).load(_genUrl(appLinks.workflowRender,b),_showWFItemControls)}
function _wfisave(a,b,f,e){jobWasEdited();f=jQuery("#"+f+" :input").serialize();jQuery.ajax({type:"POST",url:_genUrl(appLinks.workflowSave),data:f,beforeSend:_ajaxSendTokens.curry("job_edit_tokens"),success:function(d,f,q){f=jQuery("#wfli_"+a);f.html(d);1>f.find("div.wfitemEditForm").size()?(_showWFItemControls(),e&&_hideWFItemControlsAddEH(b)):postLoadItemEdit("#wfli_"+a,e)}}).success(_ajaxReceiveTokens.curry("job_edit_tokens"))}var newitemElem;
function _wfiaddnew(a,b){jobWasEdited();var f={newitemtype:a,newitemnodestep:b?!0:!1};getCurSEID()&&(f.scheduledExecutionId=getCurSEID());clearHtml("wfnewitem");jQuery("#wfnewtypes").hide();_hideWFItemControls("new");var e=jQuery("#workflowContent"),d=e.find("ol").first(),g=e.find("ol > li").length;f.key=g;e=jQuery('<li><span></span><div></div><ul class="wfhandleritem" style="display:none"><li></li></ul></li>');1==g%2&&e.addClass("alternate");e.data("wfitemnum",g);e.find("div").attr("id","wfivis_"+
g);e.find("ul").data("wfitemnum",g);e.find("ul li").attr("id","wfli_eh_"+g);d.append(e);newitemElem=e.find("span").first()[0];jQuery(newitemElem).attr("id","wfli_"+g);jQuery(newitemElem).data("wfitemnodestep",b);jQuery(newitemElem).load(_genUrl(appLinks.workflowEdit,f),function(){postLoadItemEdit("#wfli_"+g,!1,b?!0:!1)})}function _addAceTextarea(a,b,f){return _setupAceTextareaEditor(a,function(a){jobWasEdited();b&&b(a)},f)}
function _wfisavenew(a){jobWasEdited();a=jQuery("#"+a+" :input").serialize();jQuery.ajax({type:"POST",url:_genUrl(appLinks.workflowSave),data:a,beforeSend:_ajaxSendTokens.curry("job_edit_tokens"),success:function(a,f,e){jQuery(newitemElem).html(a);0<jQuery(newitemElem).find(".wfitemEditForm").length?postLoadItemEdit(newitemElem):(a=jQuery(newitemElem.parentNode),a.highlight(),jQuery("#wfnewbutton").show(),_showWFItemControls(),jQuery("#workflowDropfinal").data("wfitemnum",parseInt(a.data("wfitemnum"))+
1),newitemElem=null)}}).success(_ajaxReceiveTokens.curry("job_edit_tokens"))}function _wficancelnew(){jQuery(newitemElem.parentNode).remove();newitemElem=null;jQuery("#wfnewbutton").show();_showWFItemControls()}function _findParentAttr(a,b){return jQuery(a).closest("["+b+"]").attr(b)}function _evtNewStepChooseType(a){a=a.element();a=_findParentAttr(a,"data-step-type");_wfiaddnew(a,!1)}function _evtNewNodeStepChooseType(a){a=a.element();a=_findParentAttr(a,"data-node-step-type");_wfiaddnew(a,!0)}
function _evtNewStepCancel(a){jQuery("#wfnewtypes").hide();jQuery("#wfnewbutton").show()}function _hideWFItemControls(a){jQuery("#workflowContent").find("span.wfitemcontrols").hide();jQuery("#wfundoredo,#wfnewbutton").hide();_iseditting=a}function _updateEmptyMessage(){0<jQuery("#workflowContent").find("ol li").length?jQuery("#wfempty").hide():jQuery("#wfempty").show()}
function _showWFItemControls(){jQuery("#workflowContent").find("span.wfitemcontrols").show();jQuery("#wfundoredo,#wfnewbutton").show();_updateWFUndoRedo();_enableWFDragdrop();_updateEmptyMessage();_iseditting=null}function _hideWFItemControlsAddEH(a){jQuery("#wfli_"+a).find(".wfitem_add_errorhandler").hide()}function _evtNewEHChooseType(a){a=a.element();var b=_findParentAttr(a,"data-step-type");_wfiaddNewErrorHandler(a,b,null,!1)}
function _evtNewEHNodeStepType(a){a=a.element();var b=_findParentAttr(a,"data-node-step-type");_wfiaddNewErrorHandler(a,b,null,!0)}function _hideAddNewEHLinks(){jQuery("span.wfitem_add_errorhandler").hide()}function _showAddNewEHLinks(){jQuery("span.wfitem_add_errorhandler").show()}function _evtNewEHCancel(a){jQuery(a.element()).closest("ul.wfhandleritem").hide();_hideAddNewEH();_showWFItemControls()}
function _wficancelnewEH(a){jQuery(a).closest("ul.wfhandleritem").hide();a=jQuery(a).closest("ul.wfhandleritem li").first();clearHtml(a[0]);_showWFItemControls()}function _hideAddNewEH(){var a=jQuery("#wfnewtypes"),b=jQuery("#wfnew_eh_types");b.hide();b.detach();a.append(b)}
function _wfishownewErrorHandler(a,b,f){b=jQuery("#wfnew_eh_types");a=jQuery("#wfli_eh_"+a);clearHtml(a[0]);b.detach();a.append(b);var e=jQuery("#wf_strat_node_first").is(":checked");f=!(f&&e);e=b.find(".step_section");f?e.show():e.hide();b.show();a.parent().show();_hideWFItemControls("eh")}
function _wfiaddNewErrorHandler(a,b,f,e){null==f&&(a=jQuery(a).closest("ul.wfhandleritem"),1==a.length&&(f=a.data("wfitemnum")));a="eh_"+f;b={newitemtype:b,key:a,num:f,isErrorHandler:!0,newitemnodestep:e?!0:!1};getCurSEID()&&(b.scheduledExecutionId=getCurSEID());var d=jQuery("#wfli_"+a);_hideAddNewEH();d.data("wfitemnodestep",e);d.load(_genUrl(appLinks.workflowEdit,b),function(){postLoadItemEdit(d,!0,e)})}
function _doMoveItem(a,b){_ajaxWFAction(appLinks.workflowReorder,{fromnum:a,tonum:b,edit:!0})}function _doRemoveItem(a,b,f){var e={delnum:b,edit:!0,key:a,isErrorHandler:f};jQuery("#wfivis_"+a).fadeOut("fast",function(a){_ajaxWFAction(appLinks.workflowRemove,e)})}function _doUndoWFAction(){_ajaxWFAction(appLinks.workflowUndo,{edit:!0})}function _doRedoWFAction(){_ajaxWFAction(appLinks.workflowRedo,{edit:!0})}function _doResetWFAction(){_ajaxWFAction(appLinks.workflowRevert,{edit:!0})}
function _ajaxWFAction(a,b){jobWasEdited();getCurSEID()&&(b.scheduledExecutionId=getCurSEID());jQuery.ajax({type:"POST",url:_genUrl(a),data:b,beforeSend:_ajaxSendTokens.curry("reqtoken_undo_workflow"),success:function(a,b,d){jQuery("#workflowContent").find("ol").html(a);newitemElem=null;jQuery("#wfnewbutton").show();_showWFItemControls()}})}function _updateWFUndoRedo(){var a={};getCurSEID()&&(a.scheduledExecutionId=getCurSEID());jQuery("#wfundoredo").load(_genUrl(appLinks.workflowRenderUndo,a))}
function moveDragItem(a,b){var f=jQuery(a).data("wfitemnum"),e=jQuery(b).data("wfitemnum");e>f&&--e;_doMoveItem(f,e)}function _enableWFDragdrop(){_enableDragdrop("#workflowContent ol>li","workflowDropfinal",moveDragItem)}
function _enableDragdrop(a,b,f){$$(a).each(function(a){new Draggable(a,{revert:"failure",ghosting:!1,constraint:"vertical",handle:"dragHandle",scroll:window,onStart:function(a){$(b).show()},onEnd:function(a){$(b).hide()}});Droppables.add(a,{hoverclass:"hoverActive",onDrop:f});$(a).addClassName("ready")});$$("#"+b).each(function(a){Droppables.add(a,{hoverclass:"hoverActive",onDrop:f});$(a).addClassName("ready")})}
function _doRevertAction(a){return"workflow"==a?_doResetWFAction():"opts"==a?_doRevertOptsAction():null}function _doRedoAction(a){return"workflow"==a?_doRedoWFAction():"opts"==a?_doRedoOptsAction():null}function _doUndoAction(a){return"workflow"==a?_doUndoWFAction():"opts"==a?_doUndoOptsAction():null}var newoptli;
function _showOptControls(){$$("#optionsContent .opteditcontrols").each(Element.show);$("optnewbutton").show();_updateOptsUndoRedo();_showOptEmptyMessage();_enableOptDragDrop();clearHtml("optsload")}function _enableOptDragDrop(){_enableDragdrop("#optionContent ul>li","optionDropFinal",_dragReorderOption)}function _showOptEmptyMessage(){$("optionsContent").down("ul li")?($("optempty").hide(),$("optheader").show()):($("optempty").show(),$("optheader").hide())}
function _hideOptControls(){$$("#optionsContent .opteditcontrols").each(Element.hide);$("optnewbutton").hide();clearHtml("optsload")}function _updateOptsUndoRedo(){var a={};getCurSEID()&&(a.scheduledExecutionId=getCurSEID());jQuery("#optundoredo").load(_genUrl(appLinks.editOptsRenderUndo,a))}
function _configureInputRestrictions(a){$(a).select("input").each(function(a){"text"==a.type&&a.observe("keypress",noenter)});$(a).select("input.restrictOptName").each(function(a){"text"==a.type&&a.observe("keypress",function(a){return controlkeycode(a)||onlychars("[a-zA-Z_0-9.\\t-]",a)})})}function _isjobScheduled(){return"true"==jQuery("#scheduledTrue:checked").val()}
function _optedit(a,b){jobWasEdited();var f={name:a};getCurSEID()&&(f.scheduledExecutionId=getCurSEID());f.jobWasScheduled=_isjobScheduled();$("optsload").loading();jQuery.ajax({type:"GET",url:_genUrl(appLinks.editOptsEdit,f),success:function(a,d,f){jQuery(b).html(a);_hideOptControls();_configureInputRestrictions(b)},failure:function(a,b,f){alert("error: "+b)}})}
function _optview(a,b){var f={name:a,edit:!0};getCurSEID()&&(f.scheduledExecutionId=getCurSEID());f.jobWasScheduled=_isjobScheduled();jQuery(b).load(_genUrl(appLinks.editOptsRender,f),_showOptControls)}
function _optsave(a,b,f){jobWasEdited();$("optsload").loading();jQuery.ajax({type:"POST",url:_genUrl(appLinks.editOptsSave,{jobWasScheduled:_isjobScheduled()}),data:jQuery("#"+a+" :input").serialize(),beforeSend:_ajaxSendTokens.curry(b),success:function(a,b,g){jQuery(f).html(a);1>jQuery(f).find("div.optEditForm").length?(_showOptControls(),jQuery(f).highlight()):(_configureInputRestrictions(f),_hideOptControls())}})}
function _optaddnewIfNone(){var a=$$("#optionsContent ul li");a&&0!=a.length||_optaddnew()}
function _optaddnew(){jobWasEdited();var a={newoption:!0};getCurSEID()&&(a.scheduledExecutionId=getCurSEID());_hideOptControls();var b=$("optionsContent").down("ul"),f=$$("#optionsContent ul li").length;newoptli=new Element("li");1==f%2&&newoptli.addClassName("alternate");newoptli.addClassName("optEntry");var e=new Element("div");e.setAttribute("id","optvis_"+f);newoptli.appendChild(e);b.appendChild(newoptli);$("optsload").loading();jQuery(e).load(_genUrl(appLinks.editOptsEdit,a),null,function(a,
b,f){"success"==b&&(_configureInputRestrictions(e),_hideOptControls());clearHtml("optsload")})}function _optcancelnew(){var a=$("optionsContent").down("ul");$(a).removeChild(newoptli);newoptli=null;_showOptControls()}
function _reloadOpts(){var a={newoption:!0,edit:!0};getCurSEID()&&(a.scheduledExecutionId=getCurSEID());$("optionsContent").down("ul.options");$("optsload").loading();jQuery("#optionsContent").find("ul.options").load(_genUrl(appLinks.editOptsRenderAll,a),function(a,f,e){_showOptControls()})}
function _summarizeOpts(){var a={newoption:!0,edit:!0};getCurSEID()&&(a.scheduledExecutionId=getCurSEID());$("optssummary");$("optsload").loading();jQuery("#optssummary").load(_genUrl(appLinks.editOptsRenderSummary,a),_showOptControls)}
function _optsavenew(a,b){jobWasEdited();var f=jQuery("#"+a+" :input").serialize(),e=jQuery("#"+a+" :input[name=name]").val(),d=jQuery("#"+a+" :input[name=type]").val();$("optsload").loading();jQuery.ajax({type:"POST",url:_genUrl(appLinks.editOptsSave,{jobWasScheduled:_isjobScheduled()}),data:f,beforeSend:_ajaxSendTokens.curry(b),success:function(a,b,f){jQuery(newoptli).html(a);_addOption({name:e,type:d});newoptli.down("div.optEditForm")?newoptli.down("div.optEditForm")&&(_configureInputRestrictions(newoptli),
_hideOptControls()):($(newoptli).highlight(),newoptli=null,_showOptControls(),_reloadOpts())}})}
function _doRemoveOption(a,b,f){jobWasEdited();var e={name:a,edit:!0};getCurSEID()&&(e.scheduledExecutionId=getCurSEID());$("optsload").loading();jQuery($(b)).slideUp("fast",function(b){jQuery.ajax({type:"POST",url:_genUrl(appLinks.editOptsRemove),data:e,beforeSend:_ajaxSendTokens.curry(f),success:function(b,d,e){_removeOptionName(a);jQuery("#optionsContent").find("ul").html(b);_showOptControls()}})})}
function _dragReorderOption(a,b){var f=jQuery(a).data("optName"),e=jQuery(b).data("optName"),d={},d=!e&&jQuery(b).data("isFinal")?{end:!0}:{before:e};_doReorderOption(f,d)}
function _doReorderOption(a,b){jobWasEdited();var f={name:a,edit:!0};b.pos?f.relativePosition=b.pos:b.end?f.last=!0:b.before&&(f.before=b.before);getCurSEID()&&(f.scheduledExecutionId=getCurSEID());$("optsload").loading();jQuery.ajax({type:"POST",url:_genUrl(appLinks.editOptsReorder,f),beforeSend:_ajaxSendTokens.curry("reqtoken_undo_opts"),success:function(a,b,f){jQuery("#optionsContent").find("ul").html(a);_showOptControls()}})}
function _doUndoOptsAction(){var a={edit:!0};getCurSEID()&&(a.scheduledExecutionId=getCurSEID());jQuery.ajax({type:"POST",url:_genUrl(appLinks.editOptsUndo),data:a,beforeSend:_ajaxSendTokens.curry("reqtoken_undo_opts"),success:function(a,f,e){jQuery("#optionsContent").find("ul").html(a);_showOptControls()}})}
function _doRedoOptsAction(){var a={edit:!0};getCurSEID()&&(a.scheduledExecutionId=getCurSEID());jQuery.ajax({type:"POST",url:_genUrl(appLinks.editOptsRedo),data:a,beforeSend:_ajaxSendTokens.curry("reqtoken_undo_opts"),success:function(a,f,e){jQuery("#optionsContent").find("ul").html(a);_showOptControls()}})}
function _doRevertOptsAction(){var a={edit:!0};getCurSEID()&&(a.scheduledExecutionId=getCurSEID());jQuery.ajax({type:"POST",url:_genUrl(appLinks.editOptsRevert),data:a,beforeSend:_ajaxSendTokens.curry("reqtoken_undo_opts"),success:function(a,f,e){jQuery("#optionsContent").find("ul").html(a);_showOptControls()}})}var jobNameFieldId,jobGroupFieldId;
function jobChosen(a,b,f){jobWasEdited();jobNameFieldId&&jobGroupFieldId&&(jQuery("#"+jobNameFieldId).val(a),jQuery("#"+jobGroupFieldId).val(b),doyftsuccess(jobNameFieldId),doyftsuccess(jobGroupFieldId));1===jQuery(f).closest(".modal").length&&jQuery(f).closest(".modal").modal("hide")}
function loadJobChooserModal(a,b,f,e,d,g){jQuery(a).hasClass("active")?jQuery("#"+d).modal("hide"):(jobNameFieldId=b,jobGroupFieldId=f,b=selFrameworkProject,e&&(b=jQuery("#"+e).val()),jQuery(a).button("loading").addClass("active"),jQuery.ajax({url:_genUrl(appLinks.menuJobsPicker,{jobsjscallback:"true",runAuthRequired:!0,projFilter:b}),success:function(b,e,f){jQuery(a).button("reset").removeClass("active");jQuery("#"+g).html(b);jQuery("#"+d).modal("show")},error:function(b,d,e){showError("Error performing request: menuJobsPicker: "+
transport);jQuery(a).button("reset").removeClass("active")}}))}function groupChosen(a){jobWasEdited();jQuery("#schedJobGroup").val(a);jQuery("#schedJobGroup").highlight();jQuery("#groupChooseBtn").popover("hide")}
function loadGroupChooser(){var a=jQuery("#groupChooseBtn");a.button("loading");jQuery("#schedEditFrameworkProject").val();"true"==a.data("grouptreeshown")?(a.popover("hide"),a.button("reset")):jQuery.get(appLinks.scheduledExecutionGroupTreeFragment+"?jscallback=true",function(a){var f=jQuery("#groupChooseBtn");f.popover({html:!0,container:"body",placement:"left",content:a,trigger:"manual"}).popover("show");f.button("reset")})}
jQuery(window).load(function(){jQuery("#groupChooseBtn").click(loadGroupChooser);jQuery("#groupChooseBtn").on("shown.bs.popover",function(a){jQuery("#groupChooseBtn").data("grouptreeshown","true")});jQuery("#groupChooseBtn").on("hide.bs.popover",function(a){jQuery("#groupChooseBtn").data("grouptreeshown","false")});jQuery(".notifyFields").each(function(a,b){addWfAutocomplete(jQuery(b))})});
(function(){(function(a){var b=this||(0,eval)("this"),f=b.document,e=b.navigator,d=b.jQuery,g=b.JSON;(function(a){"function"===typeof define&&define.amd?define(["exports","require"],a):"object"===typeof exports&&"object"===typeof module?a(module.exports||exports):a(b.ko={})})(function(q,r){function n(c,a){return null===c||typeof c in B?c===a:!1}function F(b,d){var e;return function(){e||(e=c.a.setTimeout(function(){e=a;b()},d))}}function P(a,b){var d;return function(){clearTimeout(d);d=c.a.setTimeout(a,
b)}}function K(c,a){a&&a!==R?"beforeChange"===a?this.Kb(c):this.Ha(c,a):this.Lb(c)}function ba(c,a){null!==a&&a.k&&a.k()}function ca(c,a){var b=this.Hc,d=b[C];d.R||(this.lb&&this.Ma[a]?(b.Pb(a,c,this.Ma[a]),this.Ma[a]=null,--this.lb):d.r[a]||b.Pb(a,c,d.s?{ia:c}:b.uc(c)))}function V(a,b,d,e){c.d[a]={init:function(a,l,f,m,v){var w,g;c.m(function(){var A=c.a.c(l()),f=!d!==!A,m=!g;if(m||b||f!==w)m&&c.va.Aa()&&(g=c.a.ua(c.f.childNodes(a),!0)),f?(m||c.f.da(a,c.a.ua(g)),c.eb(e?e(v,A):v,a)):c.f.xa(a),w=f},
null,{i:a});return{controlsDescendantBindings:!0}}};c.h.ta[a]=!1;c.f.Z[a]=!0}var c="undefined"!==typeof q?q:{};c.b=function(a,b){for(var d=a.split("."),e=c,f=0;f<d.length-1;f++)e=e[d[f]];e[d[d.length-1]]=b};c.G=function(c,a,b){c[a]=b};c.version="3.4.0";c.b("version",c.version);c.options={deferUpdates:!1,useOnlyNativeEvents:!1};c.a=function(){function l(c,a){for(var b in c)c.hasOwnProperty(b)&&a(b,c[b])}function t(c,a){if(a)for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c}function h(c,a){c.__proto__=
a;return c}function x(a,b,d,l){var e=a[b].match(E)||[];c.a.q(d.match(E),function(a){c.a.pa(e,a,l)});a[b]=e.join(" ")}var za={__proto__:[]}instanceof Array,D="function"===typeof Symbol,y={},m={};y[e&&/Firefox\/2/i.test(e.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];y.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");l(y,function(c,a){if(a.length)for(var b=0,d=a.length;b<d;b++)m[a[b]]=c});var v={propertychange:!0},w=
f&&function(){for(var c=3,b=f.createElement("div"),d=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++c+"]><i></i><![endif]--\x3e",d[0];);return 4<c?c:a}(),E=/\S+/g;return{cc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],q:function(c,a){for(var b=0,d=c.length;b<d;b++)a(c[b],b)},o:function(c,a){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(c,a);for(var b=0,d=c.length;b<d;b++)if(c[b]===a)return b;return-1},Sb:function(c,a,b){for(var d=
0,e=c.length;d<e;d++)if(a.call(b,c[d],d))return c[d];return null},La:function(a,b){var d=c.a.o(a,b);0<d?a.splice(d,1):0===d&&a.shift()},Tb:function(a){a=a||[];for(var b=[],d=0,e=a.length;d<e;d++)0>c.a.o(b,a[d])&&b.push(a[d]);return b},fb:function(c,a){c=c||[];for(var b=[],d=0,e=c.length;d<e;d++)b.push(a(c[d],d));return b},Ka:function(c,a){c=c||[];for(var b=[],d=0,e=c.length;d<e;d++)a(c[d],d)&&b.push(c[d]);return b},ra:function(c,a){if(a instanceof Array)c.push.apply(c,a);else for(var b=0,d=a.length;b<
d;b++)c.push(a[b]);return c},pa:function(a,b,d){var e=c.a.o(c.a.zb(a),b);0>e?d&&a.push(b):d||a.splice(e,1)},ka:za,extend:t,Xa:h,Ya:za?h:t,D:l,Ca:function(c,a){if(!c)return c;var b={},d;for(d in c)c.hasOwnProperty(d)&&(b[d]=a(c[d],d,c));return b},ob:function(a){for(;a.firstChild;)c.removeNode(a.firstChild)},jc:function(a){a=c.a.V(a);for(var b=(a[0]&&a[0].ownerDocument||f).createElement("div"),d=0,e=a.length;d<e;d++)b.appendChild(c.$(a[d]));return b},ua:function(a,b){for(var d=0,e=a.length,l=[];d<e;d++){var h=
a[d].cloneNode(!0);l.push(b?c.$(h):h)}return l},da:function(a,b){c.a.ob(a);if(b)for(var d=0,e=b.length;d<e;d++)a.appendChild(b[d])},qc:function(a,b){var d=a.nodeType?[a]:a;if(0<d.length){for(var e=d[0],l=e.parentNode,h=0,t=b.length;h<t;h++)l.insertBefore(b[h],e);h=0;for(t=d.length;h<t;h++)c.removeNode(d[h])}},za:function(c,a){if(c.length){for(a=8===a.nodeType&&a.parentNode||a;c.length&&c[0].parentNode!==a;)c.splice(0,1);for(;1<c.length&&c[c.length-1].parentNode!==a;)c.length--;if(1<c.length){var b=
c[0],d=c[c.length-1];for(c.length=0;b!==d;)c.push(b),b=b.nextSibling;c.push(d)}}return c},sc:function(c,a){7>w?c.setAttribute("selected",a):c.selected=a},$a:function(c){return null===c||c===a?"":c.trim?c.trim():c.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},nd:function(c,a){c=c||"";return a.length>c.length?!1:c.substring(0,a.length)===a},Mc:function(c,a){if(c===a)return!0;if(11===c.nodeType)return!1;if(a.contains)return a.contains(3===c.nodeType?c.parentNode:c);if(a.compareDocumentPosition)return 16==
(a.compareDocumentPosition(c)&16);for(;c&&c!=a;)c=c.parentNode;return!!c},nb:function(a){return c.a.Mc(a,a.ownerDocument.documentElement)},Qb:function(a){return!!c.a.Sb(a,c.a.nb)},A:function(c){return c&&c.tagName&&c.tagName.toLowerCase()},Wb:function(a){return c.onError?function(){try{return a.apply(this,arguments)}catch(b){throw c.onError&&c.onError(b),b;}}:a},setTimeout:function(a,b){return setTimeout(c.a.Wb(a),b)},$b:function(a){setTimeout(function(){c.onError&&c.onError(a);throw a;},0)},p:function(a,
b,e){var l=c.a.Wb(e);e=w&&v[b];if(c.options.useOnlyNativeEvents||e||!d)if(e||"function"!=typeof a.addEventListener)if("undefined"!=typeof a.attachEvent){var h=function(c){l.call(a,c)},t="on"+b;a.attachEvent(t,h);c.a.F.oa(a,function(){a.detachEvent(t,h)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else a.addEventListener(b,l,!1);else d(a).bind(b,l)},Da:function(a,e){if(!a||!a.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var l;"input"===
c.a.A(a)&&a.type&&"click"==e.toLowerCase()?(l=a.type,l="checkbox"==l||"radio"==l):l=!1;if(c.options.useOnlyNativeEvents||!d||l)if("function"==typeof f.createEvent)if("function"==typeof a.dispatchEvent)l=f.createEvent(m[e]||"HTMLEvents"),l.initEvent(e,!0,!0,b,0,0,0,0,0,!1,!1,!1,!1,0,a),a.dispatchEvent(l);else throw Error("The supplied element doesn't support dispatchEvent");else if(l&&a.click)a.click();else if("undefined"!=typeof a.fireEvent)a.fireEvent("on"+e);else throw Error("Browser doesn't support triggering events");
else d(a).trigger(e)},c:function(a){return c.H(a)?a():a},zb:function(a){return c.H(a)?a.t():a},bb:function(a,b,d){var e;b&&("object"===typeof a.classList?(e=a.classList[d?"add":"remove"],c.a.q(b.match(E),function(c){e.call(a.classList,c)})):"string"===typeof a.className.baseVal?x(a.className,"baseVal",b,d):x(a,"className",b,d))},Za:function(b,d){var e=c.a.c(d);if(null===e||e===a)e="";var l=c.f.firstChild(b);!l||3!=l.nodeType||c.f.nextSibling(l)?c.f.da(b,[b.ownerDocument.createTextNode(e)]):l.data=
e;c.a.Rc(b)},rc:function(c,a){c.name=a;if(7>=w)try{c.mergeAttributes(f.createElement("<input name='"+c.name+"'/>"),!1)}catch(b){}},Rc:function(c){9<=w&&(c=1==c.nodeType?c:c.parentNode,c.style&&(c.style.zoom=c.style.zoom))},Nc:function(c){if(w){var a=c.style.width;c.style.width=0;c.style.width=a}},hd:function(a,b){a=c.a.c(a);b=c.a.c(b);for(var d=[],e=a;e<=b;e++)d.push(e);return d},V:function(c){for(var a=[],b=0,d=c.length;b<d;b++)a.push(c[b]);return a},Yb:function(c){return D?Symbol(c):c},rd:6===w,
sd:7===w,C:w,ec:function(a,b){for(var d=c.a.V(a.getElementsByTagName("input")).concat(c.a.V(a.getElementsByTagName("textarea"))),e="string"==typeof b?function(c){return c.name===b}:function(c){return b.test(c.name)},l=[],h=d.length-1;0<=h;h--)e(d[h])&&l.push(d[h]);return l},ed:function(a){return"string"==typeof a&&(a=c.a.$a(a))?g&&g.parse?g.parse(a):(new Function("return "+a))():null},Eb:function(a,b,d){if(!g||!g.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");
return g.stringify(c.a.c(a),b,d)},fd:function(a,b,d){d=d||{};var e=d.params||{},h=d.includeFields||this.cc,t=a;if("object"==typeof a&&"form"===c.a.A(a))for(var t=a.action,x=h.length-1;0<=x;x--)for(var m=c.a.ec(a,h[x]),w=m.length-1;0<=w;w--)e[m[w].name]=m[w].value;b=c.a.c(b);var v=f.createElement("form");v.style.display="none";v.action=t;v.method="post";for(var g in b)a=f.createElement("input"),a.type="hidden",a.name=g,a.value=c.a.Eb(c.a.c(b[g])),v.appendChild(a);l(e,function(c,a){var b=f.createElement("input");
b.type="hidden";b.name=c;b.value=a;v.appendChild(b)});f.body.appendChild(v);d.submitter?d.submitter(v):v.submit();setTimeout(function(){v.parentNode.removeChild(v)},0)}}}();c.b("utils",c.a);c.b("utils.arrayForEach",c.a.q);c.b("utils.arrayFirst",c.a.Sb);c.b("utils.arrayFilter",c.a.Ka);c.b("utils.arrayGetDistinctValues",c.a.Tb);c.b("utils.arrayIndexOf",c.a.o);c.b("utils.arrayMap",c.a.fb);c.b("utils.arrayPushAll",c.a.ra);c.b("utils.arrayRemoveItem",c.a.La);c.b("utils.extend",c.a.extend);c.b("utils.fieldsIncludedWithJsonPost",
c.a.cc);c.b("utils.getFormFields",c.a.ec);c.b("utils.peekObservable",c.a.zb);c.b("utils.postJson",c.a.fd);c.b("utils.parseJson",c.a.ed);c.b("utils.registerEventHandler",c.a.p);c.b("utils.stringifyJson",c.a.Eb);c.b("utils.range",c.a.hd);c.b("utils.toggleDomNodeCssClass",c.a.bb);c.b("utils.triggerEvent",c.a.Da);c.b("utils.unwrapObservable",c.a.c);c.b("utils.objectForEach",c.a.D);c.b("utils.addOrRemoveItem",c.a.pa);c.b("utils.setTextContent",c.a.Za);c.b("unwrap",c.a.c);Function.prototype.bind||(Function.prototype.bind=
function(c){var a=this;if(1===arguments.length)return function(){return a.apply(c,arguments)};var b=Array.prototype.slice.call(arguments,1);return function(){var d=b.slice(0);d.push.apply(d,arguments);return a.apply(c,d)}});c.a.e=new function(){function c(l,f){var g=l[d];if(!g||"null"===g||!e[g]){if(!f)return a;g=l[d]="ko"+b++;e[g]={}}return e[g]}var b=0,d="__ko__"+(new Date).getTime(),e={};return{get:function(b,d){var e=c(b,!1);return e===a?a:e[d]},set:function(b,d,e){if(e!==a||c(b,!1)!==a)c(b,!0)[d]=
e},clear:function(c){var a=c[d];return a?(delete e[a],c[d]=null,!0):!1},I:function(){return b++ +d}}};c.b("utils.domData",c.a.e);c.b("utils.domData.clear",c.a.e.clear);c.a.F=new function(){function b(d,e){var l=c.a.e.get(d,h);l===a&&e&&(l=[],c.a.e.set(d,h,l));return l}function e(a){var d=b(a,!1);if(d)for(var d=d.slice(0),h=0;h<d.length;h++)d[h](a);c.a.e.clear(a);c.a.F.cleanExternalData(a);if(g[a.nodeType])for(d=a.firstChild;a=d;)d=a.nextSibling,8===a.nodeType&&e(a)}var h=c.a.e.I(),f={1:!0,8:!0,9:!0},
g={1:!0,9:!0};return{oa:function(c,a){if("function"!=typeof a)throw Error("Callback must be a function");b(c,!0).push(a)},pc:function(d,e){var t=b(d,!1);t&&(c.a.La(t,e),0==t.length&&c.a.e.set(d,h,a))},$:function(a){if(f[a.nodeType]&&(e(a),g[a.nodeType])){var b=[];c.a.ra(b,a.getElementsByTagName("*"));for(var d=0,l=b.length;d<l;d++)e(b[d])}return a},removeNode:function(a){c.$(a);a.parentNode&&a.parentNode.removeChild(a)},cleanExternalData:function(c){d&&"function"==typeof d.cleanData&&d.cleanData([c])}}};
c.$=c.a.F.$;c.removeNode=c.a.F.removeNode;c.b("cleanNode",c.$);c.b("removeNode",c.removeNode);c.b("utils.domNodeDisposal",c.a.F);c.b("utils.domNodeDisposal.addDisposeCallback",c.a.F.oa);c.b("utils.domNodeDisposal.removeDisposeCallback",c.a.F.pc);(function(){var e=[0,"",""],t=[1,"<table>","</table>"],h=[3,"<table><tbody><tr>","</tr></tbody></table>"],x=[1,"<select multiple='multiple'>","</select>"],g={thead:t,tbody:t,tfoot:t,tr:[2,"<table><tbody>","</tbody></table>"],td:h,th:h,option:x,optgroup:x},
D=8>=c.a.C;c.a.ma=function(a,h){var t;if(d)if(d.parseHTML)t=d.parseHTML(a,h)||[];else{if((t=d.clean([a],h))&&t[0]){for(var x=t[0];x.parentNode&&11!==x.parentNode.nodeType;)x=x.parentNode;x.parentNode&&x.parentNode.removeChild(x)}}else{(t=h)||(t=f);var x=t.parentWindow||t.defaultView||b,E=c.a.$a(a).toLowerCase(),A=t.createElement("div"),k;k=(E=E.match(/^<([a-z]+)[ >]/))&&g[E[1]]||e;E=k[0];k="ignored<div>"+k[1]+a+k[2]+"</div>";for("function"==typeof x.innerShiv?A.appendChild(x.innerShiv(k)):(D&&t.appendChild(A),
A.innerHTML=k,D&&A.parentNode.removeChild(A));E--;)A=A.lastChild;t=c.a.V(A.lastChild.childNodes)}return t};c.a.Cb=function(b,e){c.a.ob(b);e=c.a.c(e);if(null!==e&&e!==a)if("string"!=typeof e&&(e=e.toString()),d)d(b).html(e);else for(var l=c.a.ma(e,b.ownerDocument),h=0;h<l.length;h++)b.appendChild(l[h])}})();c.b("utils.parseHtmlFragment",c.a.ma);c.b("utils.setHtml",c.a.Cb);c.M=function(){function b(a,d){if(a)if(8==a.nodeType){var e=c.M.lc(a.nodeValue);null!=e&&d.push({Lc:a,cd:e})}else if(1==a.nodeType)for(var e=
0,t=a.childNodes,f=t.length;e<f;e++)b(t[e],d)}var d={};return{wb:function(c){if("function"!=typeof c)throw Error("You can only pass a function to ko.memoization.memoize()");var a=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);d[a]=c;return"\x3c!--[ko_memo:"+a+"]--\x3e"},xc:function(c,b){var e=d[c];if(e===a)throw Error("Couldn't find any memo with ID "+c+". Perhaps it's already been unmemoized.");try{return e.apply(null,b||[]),
!0}finally{delete d[c]}},yc:function(a,d){var e=[];b(a,e);for(var t=0,f=e.length;t<f;t++){var m=e[t].Lc,v=[m];d&&c.a.ra(v,d);c.M.xc(e[t].cd,v);m.nodeValue="";m.parentNode&&m.parentNode.removeChild(m)}},lc:function(c){return(c=c.match(/^\[ko_memo\:(.*?)\]$/))?c[1]:null}}}();c.b("memoization",c.M);c.b("memoization.memoize",c.M.wb);c.b("memoization.unmemoize",c.M.xc);c.b("memoization.parseMemoText",c.M.lc);c.b("memoization.unmemoizeDomNodeAndDescendants",c.M.yc);c.Y=function(){function a(){if(x)for(var b=
x,d=0,l;D<x;)if(l=e[D++]){if(D>b){if(5E3<=++d){D=x;c.a.$b(Error("'Too much recursion' after processing "+d+" task groups."));break}b=x}try{l()}catch(t){c.a.$b(t)}}}function d(){a();D=x=e.length=0}var e=[],x=0,g=1,D=0;return{scheduler:b.MutationObserver?function(c){var a=f.createElement("div");(new MutationObserver(c)).observe(a,{attributes:!0});return function(){a.classList.toggle("foo")}}(d):f&&"onreadystatechange"in f.createElement("script")?function(c){var a=f.createElement("script");a.onreadystatechange=
function(){a.onreadystatechange=null;f.documentElement.removeChild(a);a=null;c()};f.documentElement.appendChild(a)}:function(c){setTimeout(c,0)},Wa:function(a){x||c.Y.scheduler(d);e[x++]=a;return g++},cancel:function(c){c-=g-x;c>=D&&c<x&&(e[c]=null)},resetForTesting:function(){var c=x-D;D=x=e.length=0;return c},md:a}}();c.b("tasks",c.Y);c.b("tasks.schedule",c.Y.Wa);c.b("tasks.runEarly",c.Y.md);c.ya={throttle:function(a,b){a.throttleEvaluation=b;var d=null;return c.B({read:a,write:function(e){clearTimeout(d);
d=c.a.setTimeout(function(){a(e)},b)}})},rateLimit:function(c,a){var b,d,e;"number"==typeof a?b=a:(b=a.timeout,d=a.method);c.cb=!1;e="notifyWhenChangesStop"==d?P:F;c.Ta(function(c){return e(c,b)})},deferred:function(b,d){if(!0!==d)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");b.cb||(b.cb=!0,b.Ta(function(d){var e;return function(){c.Y.cancel(e);e=c.Y.Wa(d);b.notifySubscribers(a,"dirty")}}))},notify:function(c,a){c.equalityComparer=
"always"==a?null:n}};var B={undefined:1,"boolean":1,number:1,string:1};c.b("extenders",c.ya);c.vc=function(a,b,d){this.ia=a;this.gb=b;this.Kc=d;this.R=!1;c.G(this,"dispose",this.k)};c.vc.prototype.k=function(){this.R=!0;this.Kc()};c.J=function(){c.a.Ya(this,X);X.rb(this)};var R="change",X={rb:function(c){c.K={};c.Nb=1},X:function(a,b,d){var e=this;d=d||R;var f=new c.vc(e,b?a.bind(b):a,function(){c.a.La(e.K[d],f);e.Ia&&e.Ia(d)});e.sa&&e.sa(d);e.K[d]||(e.K[d]=[]);e.K[d].push(f);return f},notifySubscribers:function(a,
b){b=b||R;b===R&&this.zc();if(this.Pa(b))try{c.l.Ub();for(var d=this.K[b].slice(0),e=0,f;f=d[e];++e)f.R||f.gb(a)}finally{c.l.end()}},Na:function(){return this.Nb},Uc:function(c){return this.Na()!==c},zc:function(){++this.Nb},Ta:function(a){var b=this,d=c.H(b),e,f,g;b.Ha||(b.Ha=b.notifySubscribers,b.notifySubscribers=K);var y=a(function(){b.Mb=!1;d&&g===b&&(g=b());e=!1;b.tb(f,g)&&b.Ha(f=g)});b.Lb=function(c){b.Mb=e=!0;g=c;y()};b.Kb=function(c){e||(f=c,b.Ha(c,"beforeChange"))}},Pa:function(c){return this.K[c]&&
this.K[c].length},Sc:function(a){if(a)return this.K[a]&&this.K[a].length||0;var b=0;c.a.D(this.K,function(c,a){"dirty"!==c&&(b+=a.length)});return b},tb:function(c,a){return!this.equalityComparer||!this.equalityComparer(c,a)},extend:function(a){var b=this;a&&c.a.D(a,function(a,d){var e=c.ya[a];"function"==typeof e&&(b=e(b,d)||b)});return b}};c.G(X,"subscribe",X.X);c.G(X,"extend",X.extend);c.G(X,"getSubscriptionsCount",X.Sc);c.a.ka&&c.a.Xa(X,Function.prototype);c.J.fn=X;c.hc=function(c){return null!=
c&&"function"==typeof c.X&&"function"==typeof c.notifySubscribers};c.b("subscribable",c.J);c.b("isSubscribable",c.hc);c.va=c.l=function(){function a(c){d.push(e);e=c}function b(){e=d.pop()}var d=[],e,f=0;return{Ub:a,end:b,oc:function(a){if(e){if(!c.hc(a))throw Error("Only subscribable things can act as dependencies");e.gb.call(e.Gc,a,a.Cc||(a.Cc=++f))}},w:function(c,d,e){try{return a(),c.apply(d,e||[])}finally{b()}},Aa:function(){if(e)return e.m.Aa()},Sa:function(){if(e)return e.Sa}}}();c.b("computedContext",
c.va);c.b("computedContext.getDependenciesCount",c.va.Aa);c.b("computedContext.isInitial",c.va.Sa);c.b("ignoreDependencies",c.qd=c.l.w);var J=c.a.Yb("_latestValue");c.N=function(a){function b(){if(0<arguments.length)return b.tb(b[J],arguments[0])&&(b.ga(),b[J]=arguments[0],b.fa()),this;c.l.oc(b);return b[J]}b[J]=a;c.a.ka||c.a.extend(b,c.J.fn);c.J.fn.rb(b);c.a.Ya(b,S);c.options.deferUpdates&&c.ya.deferred(b,!0);return b};var S={equalityComparer:n,t:function(){return this[J]},fa:function(){this.notifySubscribers(this[J])},
ga:function(){this.notifySubscribers(this[J],"beforeChange")}};c.a.ka&&c.a.Xa(S,c.J.fn);var Q=c.N.gd="__ko_proto__";S[Q]=c.N;c.Oa=function(b,d){return null===b||b===a||b[Q]===a?!1:b[Q]===d?!0:c.Oa(b[Q],d)};c.H=function(a){return c.Oa(a,c.N)};c.Ba=function(a){return"function"==typeof a&&a[Q]===c.N||"function"==typeof a&&a[Q]===c.B&&a.Vc?!0:!1};c.b("observable",c.N);c.b("isObservable",c.H);c.b("isWriteableObservable",c.Ba);c.b("isWritableObservable",c.Ba);c.b("observable.fn",S);c.G(S,"peek",S.t);c.G(S,
"valueHasMutated",S.fa);c.G(S,"valueWillMutate",S.ga);c.la=function(a){a=a||[];if("object"!=typeof a||!("length"in a))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");a=c.N(a);c.a.Ya(a,c.la.fn);return a.extend({trackArrayChanges:!0})};c.la.fn={remove:function(a){for(var b=this.t(),d=[],e="function"!=typeof a||c.H(a)?function(c){return c===a}:a,f=0;f<b.length;f++){var g=b[f];e(g)&&(0===d.length&&this.ga(),d.push(g),b.splice(f,1),f--)}d.length&&
this.fa();return d},removeAll:function(b){if(b===a){var d=this.t(),e=d.slice(0);this.ga();d.splice(0,d.length);this.fa();return e}return b?this.remove(function(a){return 0<=c.a.o(b,a)}):[]},destroy:function(a){var b=this.t(),d="function"!=typeof a||c.H(a)?function(c){return c===a}:a;this.ga();for(var e=b.length-1;0<=e;e--)d(b[e])&&(b[e]._destroy=!0);this.fa()},destroyAll:function(b){return b===a?this.destroy(function(){return!0}):b?this.destroy(function(a){return 0<=c.a.o(b,a)}):[]},indexOf:function(a){var b=
this();return c.a.o(b,a)},replace:function(c,a){var b=this.indexOf(c);0<=b&&(this.ga(),this.t()[b]=a,this.fa())}};c.a.ka&&c.a.Xa(c.la.fn,c.N.fn);c.a.q("pop push reverse shift sort splice unshift".split(" "),function(a){c.la.fn[a]=function(){var c=this.t();this.ga();this.Vb(c,a,arguments);var b=c[a].apply(c,arguments);this.fa();return b===c?this:b}});c.a.q(["slice"],function(a){c.la.fn[a]=function(){var c=this();return c[a].apply(c,arguments)}});c.b("observableArray",c.la);c.ya.trackArrayChanges=function(a,
b){function d(){if(!e){e=!0;var b=a.notifySubscribers;a.notifySubscribers=function(c,a){a&&a!==R||++y;return b.apply(this,arguments)};var h=[].concat(a.t()||[]);f=null;g=a.X(function(b){b=[].concat(b||[]);if(a.Pa("arrayChange")){var d;if(!f||1<y)f=c.a.ib(h,b,a.hb);d=f}h=b;f=null;y=0;d&&d.length&&a.notifySubscribers(d,"arrayChange")})}}a.hb={};b&&"object"==typeof b&&c.a.extend(a.hb,b);a.hb.sparse=!0;if(!a.Vb){var e=!1,f=null,g,y=0,m=a.sa,v=a.Ia;a.sa=function(c){m&&m.call(a,c);"arrayChange"===c&&d()};
a.Ia=function(c){v&&v.call(a,c);"arrayChange"!==c||a.Pa("arrayChange")||(g.k(),e=!1)};a.Vb=function(a,b,d){function l(c,a,b){return h[h.length]={status:c,value:a,index:b}}if(e&&!y){var h=[],g=a.length,t=d.length,v=0;switch(b){case "push":v=g;case "unshift":for(b=0;b<t;b++)l("added",d[b],v+b);break;case "pop":v=g-1;case "shift":g&&l("deleted",a[v],v);break;case "splice":b=Math.min(Math.max(0,0>d[0]?g+d[0]:d[0]),g);for(var g=1===t?g:Math.min(b+(d[1]||0),g),t=b+t-2,v=Math.max(g,t),m=[],D=[],k=2;b<v;++b,
++k)b<g&&D.push(l("deleted",a[b],b)),b<t&&m.push(l("added",d[k],b));c.a.dc(D,m);break;default:return}f=h}}}};var C=c.a.Yb("_state");c.m=c.B=function(b,d,e){function f(){if(0<arguments.length){if("function"===typeof g)g.apply(D.pb,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}c.l.oc(f);(D.S||D.s&&f.Qa())&&f.aa();return D.T}"object"===typeof b?e=b:(e=e||{},b&&(e.read=
b));if("function"!=typeof e.read)throw Error("Pass a function that returns the value of the ko.computed");var g=e.write,D={T:a,S:!0,Ra:!1,Fb:!1,R:!1,Va:!1,s:!1,jd:e.read,pb:d||e.owner,i:e.disposeWhenNodeIsRemoved||e.i||null,wa:e.disposeWhen||e.wa,mb:null,r:{},L:0,bc:null};f[C]=D;f.Vc="function"===typeof g;c.a.ka||c.a.extend(f,c.J.fn);c.J.fn.rb(f);c.a.Ya(f,G);e.pure?(D.Va=!0,D.s=!0,c.a.extend(f,k)):e.deferEvaluation&&c.a.extend(f,z);c.options.deferUpdates&&c.ya.deferred(f,!0);D.i&&(D.Fb=!0,D.i.nodeType||
(D.i=null));D.s||e.deferEvaluation||f.aa();D.i&&f.ba()&&c.a.F.oa(D.i,D.mb=function(){f.k()});return f};var G={equalityComparer:n,Aa:function(){return this[C].L},Pb:function(c,a,b){if(this[C].Va&&a===this)throw Error("A 'pure' computed must not be called recursively");this[C].r[c]=b;b.Ga=this[C].L++;b.na=a.Na()},Qa:function(){var c,a,b=this[C].r;for(c in b)if(b.hasOwnProperty(c)&&(a=b[c],a.ia.Uc(a.na)))return!0},bd:function(){this.Fa&&!this[C].Ra&&this.Fa()},ba:function(){return this[C].S||0<this[C].L},
ld:function(){this.Mb||this.ac()},uc:function(c){if(c.cb&&!this[C].i){var a=c.X(this.bd,this,"dirty"),b=c.X(this.ld,this);return{ia:c,k:function(){a.k();b.k()}}}return c.X(this.ac,this)},ac:function(){var a=this,b=a.throttleEvaluation;b&&0<=b?(clearTimeout(this[C].bc),this[C].bc=c.a.setTimeout(function(){a.aa(!0)},b)):a.Fa?a.Fa():a.aa(!0)},aa:function(a){var b=this[C],d=b.wa;if(!b.Ra&&!b.R){if(b.i&&!c.a.nb(b.i)||d&&d()){if(!b.Fb){this.k();return}}else b.Fb=!1;b.Ra=!0;try{this.Qc(a)}finally{b.Ra=!1}b.L||
this.k()}},Qc:function(b){var d=this[C],e=d.Va?a:!d.L,f={Hc:this,Ma:d.r,lb:d.L};c.l.Ub({Gc:f,gb:ca,m:this,Sa:e});d.r={};d.L=0;f=this.Pc(d,f);this.tb(d.T,f)&&(d.s||this.notifySubscribers(d.T,"beforeChange"),d.T=f,d.s?this.zc():b&&this.notifySubscribers(d.T));e&&this.notifySubscribers(d.T,"awake")},Pc:function(a,b){try{var d=a.jd;return a.pb?d.call(a.pb):d()}finally{c.l.end(),b.lb&&!a.s&&c.a.D(b.Ma,ba),a.S=!1}},t:function(){var c=this[C];(c.S&&!c.L||c.s&&this.Qa())&&this.aa();return c.T},Ta:function(a){c.J.fn.Ta.call(this,
a);this.Fa=function(){this.Kb(this[C].T);this[C].S=!0;this.Lb(this)}},k:function(){var a=this[C];!a.s&&a.r&&c.a.D(a.r,function(c,a){a.k&&a.k()});a.i&&a.mb&&c.a.F.pc(a.i,a.mb);a.r=null;a.L=0;a.R=!0;a.S=!1;a.s=!1;a.i=null}},k={sa:function(a){var b=this,d=b[C];if(!d.R&&d.s&&"change"==a){d.s=!1;if(d.S||b.Qa())d.r=null,d.L=0,d.S=!0,b.aa();else{var e=[];c.a.D(d.r,function(c,a){e[a.Ga]=c});c.a.q(e,function(c,a){var e=d.r[c],f=b.uc(e.ia);f.Ga=a;f.na=e.na;d.r[c]=f})}d.R||b.notifySubscribers(d.T,"awake")}},
Ia:function(b){var d=this[C];d.R||"change"!=b||this.Pa("change")||(c.a.D(d.r,function(c,a){a.k&&(d.r[c]={ia:a.ia,Ga:a.Ga,na:a.na},a.k())}),d.s=!0,this.notifySubscribers(a,"asleep"))},Na:function(){var a=this[C];a.s&&(a.S||this.Qa())&&this.aa();return c.J.fn.Na.call(this)}},z={sa:function(c){"change"!=c&&"beforeChange"!=c||this.t()}};c.a.ka&&c.a.Xa(G,c.J.fn);var p=c.N.gd;c.m[p]=c.N;G[p]=c.m;c.Xc=function(a){return c.Oa(a,c.m)};c.Yc=function(a){return c.Oa(a,c.m)&&a[C]&&a[C].Va};c.b("computed",c.m);
c.b("dependentObservable",c.m);c.b("isComputed",c.Xc);c.b("isPureComputed",c.Yc);c.b("computed.fn",G);c.G(G,"peek",G.t);c.G(G,"dispose",G.k);c.G(G,"isActive",G.ba);c.G(G,"getDependenciesCount",G.Aa);c.nc=function(a,b){if("function"===typeof a)return c.m(a,b,{pure:!0});a=c.a.extend({},a);a.pure=!0;return c.m(a,b)};c.b("pureComputed",c.nc);(function(){function b(c,f,g){g=g||new e;c=f(c);if("object"!=typeof c||null===c||c===a||c instanceof RegExp||c instanceof Date||c instanceof String||c instanceof
Number||c instanceof Boolean)return c;var y=c instanceof Array?[]:{};g.save(c,y);d(c,function(d){var e=f(c[d]);switch(typeof e){case "boolean":case "number":case "string":case "function":y[d]=e;break;case "object":case "undefined":var h=g.get(e);y[d]=h!==a?h:b(e,f,g)}});return y}function d(c,a){if(c instanceof Array){for(var b=0;b<c.length;b++)a(b);"function"==typeof c.toJSON&&a("toJSON")}else for(b in c)a(b)}function e(){this.keys=[];this.Ib=[]}c.wc=function(a){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");
return b(a,function(a){for(var b=0;c.H(a)&&10>b;b++)a=a();return a})};c.toJSON=function(a,b,d){a=c.wc(a);return c.a.Eb(a,b,d)};e.prototype={save:function(a,b){var d=c.a.o(this.keys,a);0<=d?this.Ib[d]=b:(this.keys.push(a),this.Ib.push(b))},get:function(b){b=c.a.o(this.keys,b);return 0<=b?this.Ib[b]:a}}})();c.b("toJS",c.wc);c.b("toJSON",c.toJSON);(function(){c.j={u:function(b){switch(c.a.A(b)){case "option":return!0===b.__ko__hasDomDataOptionValue__?c.a.e.get(b,c.d.options.xb):7>=c.a.C?b.getAttributeNode("value")&&
b.getAttributeNode("value").specified?b.value:b.text:b.value;case "select":return 0<=b.selectedIndex?c.j.u(b.options[b.selectedIndex]):a;default:return b.value}},ha:function(b,d,e){switch(c.a.A(b)){case "option":switch(typeof d){case "string":c.a.e.set(b,c.d.options.xb,a);"__ko__hasDomDataOptionValue__"in b&&delete b.__ko__hasDomDataOptionValue__;b.value=d;break;default:c.a.e.set(b,c.d.options.xb,d),b.__ko__hasDomDataOptionValue__=!0,b.value="number"===typeof d?d:""}break;case "select":if(""===d||
null===d)d=a;for(var f=-1,g=0,D=b.options.length,y;g<D;++g)if(y=c.j.u(b.options[g]),y==d||""==y&&d===a){f=g;break}if(e||0<=f||d===a&&1<b.size)b.selectedIndex=f;break;default:if(null===d||d===a)d="";b.value=d}}}})();c.b("selectExtensions",c.j);c.b("selectExtensions.readValue",c.j.u);c.b("selectExtensions.writeValue",c.j.ha);c.h=function(){function a(b){b=c.a.$a(b);123===b.charCodeAt(0)&&(b=b.slice(1,-1));var d=[],l=b.match(e),h,t=[],y=0;if(l){l.push(",");for(var k=0,ha;ha=l[k];++k){var p=ha.charCodeAt(0);
if(44===p){if(0>=y){d.push(h&&t.length?{key:h,value:t.join("")}:{unknown:h||t.join("")});h=y=0;t=[];continue}}else if(58===p){if(!y&&!h&&1===t.length){h=t.pop();continue}}else 47===p&&k&&1<ha.length?(p=l[k-1].match(f))&&!g[p[0]]&&(b=b.substr(b.indexOf(ha)+1),l=b.match(e),l.push(","),k=-1,ha="/"):40===p||123===p||91===p?++y:41===p||125===p||93===p?--y:h||t.length||34!==p&&39!==p||(ha=ha.slice(1,-1));t.push(ha)}}return d}var b=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,
e=/"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\/(?:[^/\\]|\\.)*\/w*|[^\s:,/][^,"'{}()/:[\]]*[^\s,"'{}()/:[\]]|[^\s]/g,f=/[\])"'A-Za-z0-9_$]+$/,g={"in":1,"return":1,"typeof":1},y={};return{ta:[],ea:y,yb:a,Ua:function(e,f){function g(a,e){var f;if(!D){var l=c.getBindingHandler(a);if(l&&l.preprocess&&!(e=l.preprocess(e,a,g)))return;if(l=y[a])f=e,0<=c.a.o(b,f)?f=!1:(l=f.match(d),f=null===l?!1:l[1]?"Object("+l[1]+")"+l[2]:f),l=f;l&&k.push("'"+a+"':function(_z){"+f+"=_z}")}p&&(e="function(){return "+e+" }");x.push("'"+
a+"':"+e)}f=f||{};var x=[],k=[],p=f.valueAccessors,D=f.bindingParams,za="string"===typeof e?a(e):e;c.a.q(za,function(c){g(c.key||c.unknown,c.value)});k.length&&g("_ko_property_writers","{"+k.join(",")+" }");return x.join(",")},ad:function(c,a){for(var b=0;b<c.length;b++)if(c[b].key==a)return!0;return!1},Ea:function(a,b,d,e,f){if(a&&c.H(a))!c.Ba(a)||f&&a.t()===e||a(e);else if((a=b.get("_ko_property_writers"))&&a[d])a[d](e)}}}();c.b("expressionRewriting",c.h);c.b("expressionRewriting.bindingRewriteValidators",
c.h.ta);c.b("expressionRewriting.parseObjectLiteral",c.h.yb);c.b("expressionRewriting.preProcessBindings",c.h.Ua);c.b("expressionRewriting._twoWayBindings",c.h.ea);c.b("jsonExpressionRewriting",c.h);c.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",c.h.Ua);(function(){function a(c){return 8==c.nodeType&&k.test(g?c.text:c.nodeValue)}function b(c){return 8==c.nodeType&&y.test(g?c.text:c.nodeValue)}function d(c,e){for(var f=c,g=1,h=[];f=f.nextSibling;){if(b(f)&&(g--,0===g))return h;h.push(f);
a(f)&&g++}if(!e)throw Error("Cannot find closing comment tag to match: "+c.nodeValue);return null}function e(c,a){var b=d(c,a);return b?0<b.length?b[b.length-1].nextSibling:c.nextSibling:null}var g=f&&"\x3c!--test--\x3e"===f.createComment("test").text,k=g?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,y=g?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,m={ul:!0,ol:!0};c.f={Z:{},childNodes:function(c){return a(c)?d(c):c.childNodes},xa:function(b){if(a(b)){b=c.f.childNodes(b);for(var d=
0,e=b.length;d<e;d++)c.removeNode(b[d])}else c.a.ob(b)},da:function(b,d){if(a(b)){c.f.xa(b);for(var e=b.nextSibling,f=0,g=d.length;f<g;f++)e.parentNode.insertBefore(d[f],e)}else c.a.da(b,d)},mc:function(c,b){a(c)?c.parentNode.insertBefore(b,c.nextSibling):c.firstChild?c.insertBefore(b,c.firstChild):c.appendChild(b)},gc:function(b,d,e){e?a(b)?b.parentNode.insertBefore(d,e.nextSibling):e.nextSibling?b.insertBefore(d,e.nextSibling):b.appendChild(d):c.f.mc(b,d)},firstChild:function(c){return a(c)?!c.nextSibling||
b(c.nextSibling)?null:c.nextSibling:c.firstChild},nextSibling:function(c){a(c)&&(c=e(c));return c.nextSibling&&b(c.nextSibling)?null:c.nextSibling},Tc:a,pd:function(c){return(c=(g?c.text:c.nodeValue).match(k))?c[1]:null},kc:function(d){if(m[c.a.A(d)]){var f=d.firstChild;if(f){do if(1===f.nodeType){var g;g=f.firstChild;var h=null;if(g){do if(h)h.push(g);else if(a(g)){var k=e(g,!0);k?g=k:h=[g]}else b(g)&&(h=[g]);while(g=g.nextSibling)}if(g=h)for(h=f.nextSibling,k=0;k<g.length;k++)h?d.insertBefore(g[k],
h):d.appendChild(g[k])}while(f=f.nextSibling)}}}}})();c.b("virtualElements",c.f);c.b("virtualElements.allowedBindings",c.f.Z);c.b("virtualElements.emptyNode",c.f.xa);c.b("virtualElements.insertAfter",c.f.gc);c.b("virtualElements.prepend",c.f.mc);c.b("virtualElements.setDomNodeChildren",c.f.da);(function(){c.Q=function(){this.Fc={}};c.a.extend(c.Q.prototype,{nodeHasBindings:function(a){switch(a.nodeType){case 1:return null!=a.getAttribute("data-bind")||c.g.getComponentNameForNode(a);case 8:return c.f.Tc(a);
default:return!1}},getBindings:function(a,b){var d=this.getBindingsString(a,b),d=d?this.parseBindingsString(d,b,a):null;return c.g.Ob(d,a,b,!1)},getBindingAccessors:function(a,b){var d=this.getBindingsString(a,b),d=d?this.parseBindingsString(d,b,a,{valueAccessors:!0}):null;return c.g.Ob(d,a,b,!0)},getBindingsString:function(a){switch(a.nodeType){case 1:return a.getAttribute("data-bind");case 8:return c.f.pd(a);default:return null}},parseBindingsString:function(a,b,d,e){try{var f=this.Fc,g=a+(e&&e.valueAccessors||
""),k;if(!(k=f[g])){var m,v="with($context){with($data||{}){return{"+c.h.Ua(a,e)+"}}}";m=new Function("$context","$element",v);k=f[g]=m}return k(b,d)}catch(w){throw w.message="Unable to parse bindings.\nBindings value: "+a+"\nMessage: "+w.message,w;}}});c.Q.instance=new c.Q})();c.b("bindingProvider",c.Q);(function(){function e(c){return function(){return c}}function f(c){return c()}function g(a){return c.a.Ca(c.l.w(a),function(c,b){return function(){return a()[b]}})}function x(a,b,d){return"function"===
typeof a?g(a.bind(null,b,d)):c.a.Ca(a,e)}function k(c,a){return g(this.getBindings.bind(this,c,a))}function p(a,b,d){var e,f=c.f.firstChild(b),g=c.Q.instance,h=g.preprocessNode;if(h){for(;e=f;)f=c.f.nextSibling(e),h.call(g,e);f=c.f.firstChild(b)}for(;e=f;)f=c.f.nextSibling(e),y(a,e,d)}function y(a,b,d){var e=!0,f=1===b.nodeType;f&&c.f.kc(b);if(f&&d||c.Q.instance.nodeHasBindings(b))e=v(b,null,a,d).shouldBindDescendants;e&&!E[c.a.A(b)]&&p(a,b,!f)}function m(a){var b=[],d={},e=[];c.a.D(a,function Ta(f){if(!d[f]){var g=
c.getBindingHandler(f);g&&(g.after&&(e.push(f),c.a.q(g.after,function(b){if(a[b]){if(-1!==c.a.o(e,b))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+e.join(", "));Ta(b)}}),e.length--),b.push({key:f,fc:g}));d[f]=!0}});return b}function v(b,d,e,g){var h=c.a.e.get(b,A);if(!d){if(h)throw Error("You cannot apply bindings multiple times to the same element.");c.a.e.set(b,A,!0)}!h&&g&&c.tc(b,e);var l;if(d&&"function"!==typeof d)l=d;else{var w=c.Q.instance,x=w.getBindingAccessors||
k,v=c.B(function(){(l=d?d(e,b):x.call(w,b,e))&&e.P&&e.P();return l},null,{i:b});l&&v.ba()||(v=null)}var y;if(l){var p=v?function(c){return function(){return f(v()[c])}}:function(c){return l[c]},E=function(){return c.a.Ca(v?v():l,f)};E.get=function(c){return l[c]&&f(p(c))};E.has=function(c){return c in l};g=m(l);c.a.q(g,function(d){var f=d.fc.init,g=d.fc.update,h=d.key;if(8===b.nodeType&&!c.f.Z[h])throw Error("The binding '"+h+"' cannot be used with virtual elements");try{"function"==typeof f&&c.l.w(function(){var c=
f(b,p(h),E,e.$data,e);if(c&&c.controlsDescendantBindings){if(y!==a)throw Error("Multiple bindings ("+y+" and "+h+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");y=h}}),"function"==typeof g&&c.B(function(){g(b,p(h),E,e.$data,e)},null,{i:b})}catch(w){throw w.message='Unable to process binding "'+h+": "+l[h]+'"\nMessage: '+w.message,w;}})}return{shouldBindDescendants:y===a}}function w(a){return a&&a instanceof c.U?a:new c.U(a)}
c.d={};var E={script:!0,textarea:!0,template:!0};c.getBindingHandler=function(a){return c.d[a]};c.U=function(b,d,e,f){var g=this,h="function"==typeof b&&!c.H(b),l,w=c.B(function(){var a=h?b():b,l=c.a.c(a);d?(d.P&&d.P(),c.a.extend(g,d),w&&(g.P=w)):(g.$parents=[],g.$root=l,g.ko=c);g.$rawData=a;g.$data=l;e&&(g[e]=l);f&&f(g,d,l);return g.$data},null,{wa:function(){return l&&!c.a.Qb(l)},i:!0});w.ba()&&(g.P=w,w.equalityComparer=null,l=[],w.Ac=function(b){l.push(b);c.a.F.oa(b,function(b){c.a.La(l,b);l.length||
(w.k(),g.P=w=a)})})};c.U.prototype.createChildContext=function(a,b,d){return new c.U(a,this,b,function(c,a){c.$parentContext=a;c.$parent=a.$data;c.$parents=(a.$parents||[]).slice(0);c.$parents.unshift(c.$parent);d&&d(c)})};c.U.prototype.extend=function(a){return new c.U(this.P||this.$data,this,null,function(b,d){b.$rawData=d.$rawData;c.a.extend(b,"function"==typeof a?a():a)})};var A=c.a.e.I(),q=c.a.e.I();c.tc=function(a,b){if(2==arguments.length)c.a.e.set(a,q,b),b.P&&b.P.Ac(a);else return c.a.e.get(a,
q)};c.Ja=function(a,b,d){1===a.nodeType&&c.f.kc(a);return v(a,b,w(d),!0)};c.Dc=function(a,b,d){d=w(d);return c.Ja(a,x(b,d,a),d)};c.eb=function(c,a){1!==a.nodeType&&8!==a.nodeType||p(w(c),a,!0)};c.Rb=function(c,a){!d&&b.jQuery&&(d=b.jQuery);if(a&&1!==a.nodeType&&8!==a.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");a=a||b.document.body;y(w(c),a,!0)};c.kb=function(b){switch(b.nodeType){case 1:case 8:var d=c.tc(b);if(d)return d;
if(b.parentNode)return c.kb(b.parentNode)}return a};c.Jc=function(b){return(b=c.kb(b))?b.$data:a};c.b("bindingHandlers",c.d);c.b("applyBindings",c.Rb);c.b("applyBindingsToDescendants",c.eb);c.b("applyBindingAccessorsToNode",c.Ja);c.b("applyBindingsToNode",c.Dc);c.b("contextFor",c.kb);c.b("dataFor",c.Jc)})();(function(a){function b(e,m){var v=f.hasOwnProperty(e)?f[e]:a,w;v?v.X(m):(v=f[e]=new c.J,v.X(m),d(e,function(a,b){var d=!(!b||!b.synchronous);g[e]={definition:a,Zc:d};delete f[e];w||d?v.notifySubscribers(a):
c.Y.Wa(function(){v.notifySubscribers(a)})}),w=!0)}function d(a,c){e("getConfig",[a],function(b){b?e("loadComponent",[a,b],function(a){c(a,b)}):c(null,null)})}function e(b,d,f,g){g||(g=c.g.loaders.slice(0));var h=g.shift();if(h){var t=h[b];if(t){var k=!1;if(t.apply(h,d.concat(function(a){k?f(null):null!==a?f(a):e(b,d,f,g)}))!==a&&(k=!0,!h.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");}else e(b,d,f,g)}else f(null)}
var f={},g={};c.g={get:function(d,e){var f=g.hasOwnProperty(d)?g[d]:a;f?f.Zc?c.l.w(function(){e(f.definition)}):c.Y.Wa(function(){e(f.definition)}):b(d,e)},Xb:function(a){delete g[a]},Jb:e};c.g.loaders=[];c.b("components",c.g);c.b("components.get",c.g.get);c.b("components.clearCachedDefinition",c.g.Xb)})();(function(){function a(b,d,e,f){function g(){0===--l&&f(h)}var h={},l=2,t=e.template;e=e.viewModel;t?k(d,t,function(a){c.g.Jb("loadTemplate",[b,a],function(a){h.template=a;g()})}):g();e?k(d,e,function(a){c.g.Jb("loadViewModel",
[b,a],function(a){h[m]=a;g()})}):g()}function d(a,c,b){if("function"===typeof c)b(function(a){return new c(a)});else if("function"===typeof c[m])b(c[m]);else if("instance"in c){var e=c.instance;b(function(){return e})}else"viewModel"in c?d(a,c.viewModel,b):a("Unknown viewModel value: "+c)}function e(a){switch(c.a.A(a)){case "script":return c.a.ma(a.text);case "textarea":return c.a.ma(a.value);case "template":if(g(a.content))return c.a.ua(a.content.childNodes)}return c.a.ua(a.childNodes)}function g(a){return b.DocumentFragment?
a instanceof DocumentFragment:a&&11===a.nodeType}function k(a,c,d){"string"===typeof c.require?r||b.require?(r||b.require)([c.require],d):a("Uses require, but no AMD loader is present"):d(c)}function p(a){return function(c){throw Error("Component '"+a+"': "+c);}}var y={};c.g.register=function(a,b){if(!b)throw Error("Invalid configuration for "+a);if(c.g.ub(a))throw Error("Component "+a+" is already registered");y[a]=b};c.g.ub=function(a){return y.hasOwnProperty(a)};c.g.od=function(a){delete y[a];
c.g.Xb(a)};c.g.Zb={getConfig:function(a,c){c(y.hasOwnProperty(a)?y[a]:null)},loadComponent:function(c,b,d){var e=p(c);k(e,b,function(b){a(c,e,b,d)})},loadTemplate:function(a,d,l){a=p(a);if("string"===typeof d)l(c.a.ma(d));else if(d instanceof Array)l(d);else if(g(d))l(c.a.V(d.childNodes));else if(d.element)if(d=d.element,b.HTMLElement?d instanceof HTMLElement:d&&d.tagName&&1===d.nodeType)l(e(d));else if("string"===typeof d){var m=f.getElementById(d);m?l(e(m)):a("Cannot find element with ID "+d)}else a("Unknown element type: "+
d);else a("Unknown template value: "+d)},loadViewModel:function(a,c,b){d(p(a),c,b)}};var m="createViewModel";c.b("components.register",c.g.register);c.b("components.isRegistered",c.g.ub);c.b("components.unregister",c.g.od);c.b("components.defaultLoader",c.g.Zb);c.g.loaders.push(c.g.Zb);c.g.Bc=y})();(function(){function a(d,e){var f=d.getAttribute("params");if(f){var f=b.parseBindingsString(f,e,d,{valueAccessors:!0,bindingParams:!0}),f=c.a.Ca(f,function(a){return c.m(a,null,{i:d})}),g=c.a.Ca(f,function(a){var b=
a.t();return a.ba()?c.m({read:function(){return c.a.c(a())},write:c.Ba(b)&&function(c){a()(c)},i:d}):b});g.hasOwnProperty("$raw")||(g.$raw=f);return g}return{$raw:{}}}c.g.getComponentNameForNode=function(a){var b=c.a.A(a);if(c.g.ub(b)&&(-1!=b.indexOf("-")||"[object HTMLUnknownElement]"==""+a||8>=c.a.C&&a.tagName===b))return b};c.g.Ob=function(b,d,e,f){if(1===d.nodeType){var g=c.g.getComponentNameForNode(d);if(g){b=b||{};if(b.component)throw Error('Cannot use the "component" binding on a custom element matching a component');
var m={name:g,params:a(d,e)};b.component=f?function(){return m}:m}}return b};var b=new c.Q;9>c.a.C&&(c.g.register=function(a){return function(c){f.createElement(c);return a.apply(this,arguments)}}(c.g.register),f.createDocumentFragment=function(a){return function(){var b=a(),d=c.g.Bc,e;for(e in d)d.hasOwnProperty(e)&&b.createElement(e);return b}}(f.createDocumentFragment))})();(function(a){function b(a,d,e){d=d.template;if(!d)throw Error("Component '"+a+"' has no template");a=c.a.ua(d);c.f.da(e,a)}
function d(a,c,b,e){var f=a.createViewModel;return f?f.call(a,e,{element:c,templateNodes:b}):e}var e=0;c.d.component={init:function(f,g,k,m,p){function w(){var a=q&&q.dispose;"function"===typeof a&&a.call(q);A=q=null}var q,A,z=c.a.V(c.f.childNodes(f));c.a.F.oa(f,w);c.m(function(){var m=c.a.c(g()),k,y;"string"===typeof m?k=m:(k=c.a.c(m.name),y=c.a.c(m.params));if(!k)throw Error("No component name specified");var n=A=++e;c.g.get(k,function(e){if(A===n){w();if(!e)throw Error("Unknown component '"+k+
"'");b(k,e,f);var g=d(e,f,z,y);e=p.createChildContext(g,a,function(a){a.$component=g;a.$componentTemplateNodes=z});q=g;c.eb(e,f)}})},null,{i:f});return{controlsDescendantBindings:!0}}};c.f.Z.component=!0})();var ea={"class":"className","for":"htmlFor"};c.d.attr={update:function(b,d){var e=c.a.c(d())||{};c.a.D(e,function(d,e){e=c.a.c(e);var f=!1===e||null===e||e===a;f&&b.removeAttribute(d);8>=c.a.C&&d in ea?(d=ea[d],f?b.removeAttribute(d):b[d]=e):f||b.setAttribute(d,e.toString());"name"===d&&c.a.rc(b,
f?"":e.toString())})}};(function(){c.d.checked={after:["value","attr"],init:function(b,d,e){function f(){var a=b.checked,g=z?k():a;if(!c.va.Sa()&&(!m||a)){var p=c.l.w(d);if(w){var x=q?p.t():p;A!==g?(a&&(c.a.pa(x,g,!0),c.a.pa(x,A,!1)),A=g):c.a.pa(x,g,a);q&&c.Ba(p)&&p(x)}else c.h.Ea(p,e,"checked",g,!0)}}function g(){var a=c.a.c(d());b.checked=w?0<=c.a.o(a,k()):p?a:k()===a}var k=c.nc(function(){return e.has("checkedValue")?c.a.c(e.get("checkedValue")):e.has("value")?c.a.c(e.get("value")):b.value}),p=
"checkbox"==b.type,m="radio"==b.type;if(p||m){var v=d(),w=p&&c.a.c(v)instanceof Array,q=!(w&&v.push&&v.splice),A=w?k():a,z=m||w;m&&!b.name&&c.d.uniqueName.init(b,function(){return!0});c.m(f,null,{i:b});c.a.p(b,"click",f);c.m(g,null,{i:b});v=a}}};c.h.ea.checked=!0;c.d.checkedValue={update:function(a,b){a.value=c.a.c(b())}}})();c.d.css={update:function(a,b){var d=c.a.c(b());null!==d&&"object"==typeof d?c.a.D(d,function(b,d){d=c.a.c(d);c.a.bb(a,b,d)}):(d=c.a.$a(String(d||"")),c.a.bb(a,a.__ko__cssValue,
!1),a.__ko__cssValue=d,c.a.bb(a,d,!0))}};c.d.enable={update:function(a,b){var d=c.a.c(b());d&&a.disabled?a.removeAttribute("disabled"):d||a.disabled||(a.disabled=!0)}};c.d.disable={update:function(a,b){c.d.enable.update(a,function(){return!c.a.c(b())})}};c.d.event={init:function(a,b,d,e,f){var g=b()||{};c.a.D(g,function(g){"string"==typeof g&&c.a.p(a,g,function(a){var l,k=b()[g];if(k){try{var p=c.a.V(arguments);e=f.$data;p.unshift(e);l=k.apply(e,p)}finally{!0!==l&&(a.preventDefault?a.preventDefault():
a.returnValue=!1)}!1===d.get(g+"Bubble")&&(a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation())}})})}};c.d.foreach={ic:function(a){return function(){var b=a(),d=c.a.zb(b);if(!d||"number"==typeof d.length)return{foreach:b,templateEngine:c.W.sb};c.a.c(b);return{foreach:d.data,as:d.as,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:c.W.sb}}},init:function(a,b){return c.d.template.init(a,
c.d.foreach.ic(b))},update:function(a,b,d,e,f){return c.d.template.update(a,c.d.foreach.ic(b),d,e,f)}};c.h.ta.foreach=!1;c.f.Z.foreach=!0;c.d.hasfocus={init:function(a,b,d){function e(f){a.__ko_hasfocusUpdating=!0;var g=a.ownerDocument;if("activeElement"in g){var k;try{k=g.activeElement}catch(w){k=g.body}f=k===a}g=b();c.h.Ea(g,d,"hasfocus",f,!0);a.__ko_hasfocusLastValue=f;a.__ko_hasfocusUpdating=!1}var f=e.bind(null,!0),g=e.bind(null,!1);c.a.p(a,"focus",f);c.a.p(a,"focusin",f);c.a.p(a,"blur",g);c.a.p(a,
"focusout",g)},update:function(a,b){var d=!!c.a.c(b());a.__ko_hasfocusUpdating||a.__ko_hasfocusLastValue===d||(d?a.focus():a.blur(),!d&&a.__ko_hasfocusLastValue&&a.ownerDocument.body.focus(),c.l.w(c.a.Da,null,[a,d?"focusin":"focusout"]))}};c.h.ea.hasfocus=!0;c.d.hasFocus=c.d.hasfocus;c.h.ea.hasFocus=!0;c.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(a,b){c.a.Cb(a,b())}};V("if");V("ifnot",!1,!0);V("with",!0,!1,function(a,c){return a.createChildContext(c)});var M={};
c.d.options={init:function(a){if("select"!==c.a.A(a))throw Error("options binding applies only to SELECT elements");for(;0<a.length;)a.remove(0);return{controlsDescendantBindings:!0}},update:function(b,d,e){function f(){return c.a.Ka(b.options,function(a){return a.selected})}function g(a,c,b){var d=typeof c;return"function"==d?c(a):"string"==d?a[c]:b}function k(a,d){if(n&&w)c.j.ha(b,c.a.c(e.get("value")),!0);else if(z.length){var f=0<=c.a.o(z,c.j.u(d[0]));c.a.sc(d[0],f);n&&!f&&c.l.w(c.a.Da,null,[b,
"change"])}}var p=b.multiple,m=0!=b.length&&p?b.scrollTop:null,v=c.a.c(d()),w=e.get("valueAllowUnset")&&e.has("value"),q=e.get("optionsIncludeDestroyed");d={};var A,z=[];w||(p?z=c.a.fb(f(),c.j.u):0<=b.selectedIndex&&z.push(c.j.u(b.options[b.selectedIndex])));v&&("undefined"==typeof v.length&&(v=[v]),A=c.a.Ka(v,function(b){return q||b===a||null===b||!c.a.c(b._destroy)}),e.has("optionsCaption")&&(v=c.a.c(e.get("optionsCaption")),null!==v&&v!==a&&A.unshift(M)));var n=!1;d.beforeRemove=function(a){b.removeChild(a)};
v=k;e.has("optionsAfterRender")&&"function"==typeof e.get("optionsAfterRender")&&(v=function(b,d){k(0,d);c.l.w(e.get("optionsAfterRender"),null,[d[0],b!==M?b:a])});c.a.Bb(b,A,function(d,f,m){m.length&&(z=!w&&m[0].selected?[c.j.u(m[0])]:[],n=!0);f=b.ownerDocument.createElement("option");d===M?(c.a.Za(f,e.get("optionsCaption")),c.j.ha(f,a)):(m=g(d,e.get("optionsValue"),d),c.j.ha(f,c.a.c(m)),d=g(d,e.get("optionsText"),m),c.a.Za(f,d));return[f]},d,v);c.l.w(function(){w?c.j.ha(b,c.a.c(e.get("value")),
!0):(p?z.length&&f().length<z.length:z.length&&0<=b.selectedIndex?c.j.u(b.options[b.selectedIndex])!==z[0]:z.length||0<=b.selectedIndex)&&c.a.Da(b,"change")});c.a.Nc(b);m&&20<Math.abs(m-b.scrollTop)&&(b.scrollTop=m)}};c.d.options.xb=c.a.e.I();c.d.selectedOptions={after:["options","foreach"],init:function(a,b,d){c.a.p(a,"change",function(){var e=b(),f=[];c.a.q(a.getElementsByTagName("option"),function(a){a.selected&&f.push(c.j.u(a))});c.h.Ea(e,d,"selectedOptions",f)})},update:function(a,b){if("select"!=
c.a.A(a))throw Error("values binding applies only to SELECT elements");var d=c.a.c(b()),e=a.scrollTop;d&&"number"==typeof d.length&&c.a.q(a.getElementsByTagName("option"),function(a){var b=0<=c.a.o(d,c.j.u(a));a.selected!=b&&c.a.sc(a,b)});a.scrollTop=e}};c.h.ea.selectedOptions=!0;c.d.style={update:function(b,d){var e=c.a.c(d()||{});c.a.D(e,function(d,e){e=c.a.c(e);if(null===e||e===a||!1===e)e="";b.style[d]=e})}};c.d.submit={init:function(a,b,d,e,f){if("function"!=typeof b())throw Error("The value for a submit binding must be a function");
c.a.p(a,"submit",function(c){var d,e=b();try{d=e.call(f.$data,a)}finally{!0!==d&&(c.preventDefault?c.preventDefault():c.returnValue=!1)}})}};c.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(a,b){c.a.Za(a,b())}};c.f.Z.text=!0;(function(){if(b&&b.navigator)var d=function(a){if(a)return parseFloat(a[1])},e=b.opera&&b.opera.version&&parseInt(b.opera.version()),f=b.navigator.userAgent,g=d(f.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),k=d(f.match(/Firefox\/([^ ]*)/));
if(10>c.a.C)var p=c.a.e.I(),q=c.a.e.I(),m=function(a){var b=this.activeElement;(b=b&&c.a.e.get(b,q))&&b(a)},v=function(a,b){var d=a.ownerDocument;c.a.e.get(d,p)||(c.a.e.set(d,p,!0),c.a.p(d,"selectionchange",m));c.a.e.set(a,q,b)};c.d.textInput={init:function(b,d,f){function h(a,d){c.a.p(b,a,d)}function m(){var e=c.a.c(d());if(null===e||e===a)e="";y!==a&&e===y?c.a.setTimeout(m,4):b.value!==e&&(q=e,b.value=e)}function l(){z||(y=b.value,z=c.a.setTimeout(p,4))}function p(){clearTimeout(z);y=z=a;var e=
b.value;q!==e&&(q=e,c.h.Ea(d(),f,"textInput",e))}var q=b.value,z,y,n=9==c.a.C?l:p;10>c.a.C?(h("propertychange",function(a){"value"===a.propertyName&&n(a)}),8==c.a.C&&(h("keyup",p),h("keydown",p)),8<=c.a.C&&(v(b,n),h("dragend",l))):(h("input",p),5>g&&"textarea"===c.a.A(b)?(h("keydown",l),h("paste",l),h("cut",l)):11>e?h("keydown",l):4>k&&(h("DOMAutoComplete",p),h("dragdrop",p),h("drop",p)));h("change",p);c.m(m,null,{i:b})}};c.h.ea.textInput=!0;c.d.textinput={preprocess:function(a,c,b){b("textInput",
a)}}})();c.d.uniqueName={init:function(a,b){if(b()){var d="ko_unique_"+ ++c.d.uniqueName.Ic;c.a.rc(a,d)}}};c.d.uniqueName.Ic=0;c.d.value={after:["options","foreach"],init:function(a,b,d){if("input"!=a.tagName.toLowerCase()||"checkbox"!=a.type&&"radio"!=a.type){var e=["change"],f=d.get("valueUpdate"),g=!1,k=null;f&&("string"==typeof f&&(f=[f]),c.a.ra(e,f),e=c.a.Tb(e));var m=function(){k=null;g=!1;var e=b(),f=c.j.u(a);c.h.Ea(e,d,"value",f)};!c.a.C||"input"!=a.tagName.toLowerCase()||"text"!=a.type||
"off"==a.autocomplete||a.form&&"off"==a.form.autocomplete||-1!=c.a.o(e,"propertychange")||(c.a.p(a,"propertychange",function(){g=!0}),c.a.p(a,"focus",function(){g=!1}),c.a.p(a,"blur",function(){g&&m()}));c.a.q(e,function(b){var d=m;c.a.nd(b,"after")&&(d=function(){k=c.j.u(a);c.a.setTimeout(m,0)},b=b.substring(5));c.a.p(a,b,d)});var p=function(){var e=c.a.c(b()),f=c.j.u(a);if(null!==k&&e===k)c.a.setTimeout(p,0);else if(e!==f)if("select"===c.a.A(a)){var g=d.get("valueAllowUnset"),f=function(){c.j.ha(a,
e,g)};f();g||e===c.j.u(a)?c.a.setTimeout(f,0):c.l.w(c.a.Da,null,[a,"change"])}else c.j.ha(a,e)};c.m(p,null,{i:a})}else c.Ja(a,{checkedValue:b})},update:function(){}};c.h.ea.value=!0;c.d.visible={update:function(a,b){var d=c.a.c(b()),e="none"!=a.style.display;d&&!e?a.style.display="":!d&&e&&(a.style.display="none")}};(function(a){c.d[a]={init:function(b,d,e,f,g){return c.d.event.init.call(this,b,function(){var c={};c[a]=d();return c},e,f,g)}}})("click");c.O=function(){};c.O.prototype.renderTemplateSource=
function(){throw Error("Override renderTemplateSource");};c.O.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock");};c.O.prototype.makeTemplateSource=function(a,b){if("string"==typeof a){b=b||f;var d=b.getElementById(a);if(!d)throw Error("Cannot find template with ID "+a);return new c.v.n(d)}if(1==a.nodeType||8==a.nodeType)return new c.v.qa(a);throw Error("Unknown template type: "+a);};c.O.prototype.renderTemplate=function(a,c,b,d){a=this.makeTemplateSource(a,
d);return this.renderTemplateSource(a,c,b,d)};c.O.prototype.isTemplateRewritten=function(a,c){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,c).data("isRewritten")};c.O.prototype.rewriteTemplate=function(a,c,b){a=this.makeTemplateSource(a,b);c=c(a.text());a.text(c);a.data("isRewritten",!0)};c.b("templateEngine",c.O);c.Gb=function(){function a(b,d,e,f){b=c.h.yb(b);for(var g=c.h.ta,h=0;h<b.length;h++){var k=b[h].key;if(g.hasOwnProperty(k)){var p=g[k];if("function"===typeof p){if(k=
p(b[h].value))throw Error(k);}else if(!p)throw Error("This template engine does not support the '"+k+"' binding within its templates");}}e="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+c.h.Ua(b,{valueAccessors:!0})+" } })()},'"+e.toLowerCase()+"')";return f.createJavaScriptEvaluatorBlock(e)+d}var b=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,d=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Oc:function(a,
b,d){b.isTemplateRewritten(a,d)||b.rewriteTemplate(a,function(a){return c.Gb.dd(a,b)},d)},dd:function(c,e){return c.replace(b,function(c,b,d,f,g){return a(g,b,d,e)}).replace(d,function(c,b){return a(b,"\x3c!-- ko --\x3e","#comment",e)})},Ec:function(a,b){return c.M.wb(function(d,e){var f=d.nextSibling;f&&f.nodeName.toLowerCase()===b&&c.Ja(f,a,e)})}}}();c.b("__tr_ambtns",c.Gb.Ec);(function(){c.v={};c.v.n=function(a){if(this.n=a){var b=c.a.A(a);this.ab="script"===b?1:"textarea"===b?2:"template"==b&&
a.content&&11===a.content.nodeType?3:4}};c.v.n.prototype.text=function(){var a=1===this.ab?"text":2===this.ab?"value":"innerHTML";if(0==arguments.length)return this.n[a];var b=arguments[0];"innerHTML"===a?c.a.Cb(this.n,b):this.n[a]=b};var b=c.a.e.I()+"_";c.v.n.prototype.data=function(a){if(1===arguments.length)return c.a.e.get(this.n,b+a);c.a.e.set(this.n,b+a,arguments[1])};var d=c.a.e.I();c.v.n.prototype.nodes=function(){var b=this.n;if(0==arguments.length)return(c.a.e.get(b,d)||{}).jb||(3===this.ab?
b.content:4===this.ab?b:a);c.a.e.set(b,d,{jb:arguments[0]})};c.v.qa=function(a){this.n=a};c.v.qa.prototype=new c.v.n;c.v.qa.prototype.text=function(){if(0==arguments.length){var b=c.a.e.get(this.n,d)||{};b.Hb===a&&b.jb&&(b.Hb=b.jb.innerHTML);return b.Hb}c.a.e.set(this.n,d,{Hb:arguments[0]})};c.b("templateSources",c.v);c.b("templateSources.domElement",c.v.n);c.b("templateSources.anonymousTemplate",c.v.qa)})();(function(){function b(a,d,e){var f;for(d=c.f.nextSibling(d);a&&(f=a)!==d;)a=c.f.nextSibling(f),
e(f,a)}function d(a,e){if(a.length){var f=a[0],g=a[a.length-1],k=f.parentNode,p=c.Q.instance,h=p.preprocessNode;if(h){b(f,g,function(a,c){var b=a.previousSibling,d=h.call(p,a);d&&(a===f&&(f=d[0]||c),a===g&&(g=d[d.length-1]||b))});a.length=0;if(!f)return;f===g?a.push(f):(a.push(f,g),c.a.za(a,k))}b(f,g,function(a){1!==a.nodeType&&8!==a.nodeType||c.Rb(e,a)});b(f,g,function(a){1!==a.nodeType&&8!==a.nodeType||c.M.yc(a,[e])});c.a.za(a,k)}}function e(a){return a.nodeType?a:0<a.length?a[0]:null}function f(a,
b,g,p,l){l=l||{};var q=(a&&e(a)||g||{}).ownerDocument,z=l.templateEngine||k;c.Gb.Oc(g,z,q);g=z.renderTemplate(g,p,l,q);if("number"!=typeof g.length||0<g.length&&"number"!=typeof g[0].nodeType)throw Error("Template engine must return an array of DOM nodes");q=!1;switch(b){case "replaceChildren":c.f.da(a,g);q=!0;break;case "replaceNode":c.a.qc(a,g);q=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+b);}q&&(d(g,p),l.afterRender&&c.l.w(l.afterRender,null,[g,p.$data]));
return g}function g(a,b,d){return c.H(a)?a():"function"===typeof a?a(b,d):a}var k;c.Db=function(b){if(b!=a&&!(b instanceof c.O))throw Error("templateEngine must inherit from ko.templateEngine");k=b};c.Ab=function(b,d,p,l,q){p=p||{};if((p.templateEngine||k)==a)throw Error("Set a template engine before calling renderTemplate");q=q||"replaceChildren";if(l){var z=e(l);return c.B(function(){var a=d&&d instanceof c.U?d:new c.U(c.a.c(d)),k=g(b,a.$data,a),a=f(l,q,k,a,p);"replaceNode"==q&&(l=a,z=e(l))},null,
{wa:function(){return!z||!c.a.nb(z)},i:z&&"replaceNode"==q?z.parentNode:z})}return c.M.wb(function(a){c.Ab(b,d,p,a,"replaceNode")})};c.kd=function(b,e,k,p,h){function l(a,c){d(c,z);k.afterRender&&k.afterRender(c,a);z=null}function q(a,c){z=h.createChildContext(a,k.as,function(a){a.$index=c});var d=g(b,a,z);return f(null,"ignoreTargetNode",d,z,k)}var z;return c.B(function(){var b=c.a.c(e)||[];"undefined"==typeof b.length&&(b=[b]);b=c.a.Ka(b,function(b){return k.includeDestroyed||b===a||null===b||!c.a.c(b._destroy)});
c.l.w(c.a.Bb,null,[p,b,q,k,l])},null,{i:p})};var p=c.a.e.I();c.d.template={init:function(a,b){var d=c.a.c(b());if("string"==typeof d||d.name)c.f.xa(a);else{if("nodes"in d){if(d=d.nodes||[],c.H(d))throw Error('The "nodes" option must be a plain, non-observable array.');}else d=c.f.childNodes(a);d=c.a.jc(d);(new c.v.qa(a)).nodes(d)}return{controlsDescendantBindings:!0}},update:function(b,d,e,f,g){var k=d(),h;d=c.a.c(k);e=!0;f=null;"string"==typeof d?d={}:(k=d.name,"if"in d&&(e=c.a.c(d["if"])),e&&"ifnot"in
d&&(e=!c.a.c(d.ifnot)),h=c.a.c(d.data));"foreach"in d?f=c.kd(k||b,e&&d.foreach||[],d,b,g):e?(g="data"in d?g.createChildContext(h,d.as):g,f=c.Ab(k||b,g,d,b)):c.f.xa(b);g=f;(h=c.a.e.get(b,p))&&"function"==typeof h.k&&h.k();c.a.e.set(b,p,g&&g.ba()?g:a)}};c.h.ta.template=function(a){a=c.h.yb(a);return 1==a.length&&a[0].unknown||c.h.ad(a,"name")?null:"This template engine does not support anonymous templates nested within its templates"};c.f.Z.template=!0})();c.b("setTemplateEngine",c.Db);c.b("renderTemplate",
c.Ab);c.a.dc=function(a,c,b){if(a.length&&c.length){var d,e,f,g,k;for(d=e=0;(!b||d<b)&&(g=a[e]);++e){for(f=0;k=c[f];++f)if(g.value===k.value){g.moved=k.index;k.moved=g.index;c.splice(f,1);d=f=0;break}d+=f}}};c.a.ib=function(){function a(b,d,e,f,g){var k=Math.min,p=Math.max,l=[],q,z=b.length,n,r=d.length,ea=r-z||1,M=z+r+1,F,B,C;for(q=0;q<=z;q++)for(B=F,l.push(F=[]),C=k(r,q+ea),n=p(0,q-1);n<=C;n++)F[n]=n?q?b[q-1]===d[n-1]?B[n-1]:k(B[n]||M,F[n-1]||M)+1:n+1:q+1;k=[];p=[];ea=[];q=z;for(n=r;q||n;)r=l[q][n]-
1,n&&r===l[q][n-1]?p.push(k[k.length]={status:e,value:d[--n],index:n}):q&&r===l[q-1][n]?ea.push(k[k.length]={status:f,value:b[--q],index:q}):(--n,--q,g.sparse||k.push({status:"retained",value:d[n]}));c.a.dc(ea,p,!g.dontLimitMoves&&10*z);return k.reverse()}return function(c,b,d){d="boolean"===typeof d?{dontLimitMoves:d}:d||{};c=c||[];b=b||[];return c.length<b.length?a(c,b,"added","deleted",d):a(b,c,"deleted","added",d)}}();c.b("utils.compareArrays",c.a.ib);(function(){function b(d,e,f,g,k){var p=[],
h=c.B(function(){var a=e(f,k,c.a.za(p,d))||[];0<p.length&&(c.a.qc(p,a),g&&c.l.w(g,null,[f,a,k]));p.length=0;c.a.ra(p,a)},null,{i:d,wa:function(){return!c.a.Qb(p)}});return{ca:p,B:h.ba()?h:a}}var d=c.a.e.I(),e=c.a.e.I();c.a.Bb=function(f,g,k,p,q){function z(a,b){H=ea[b];G!==b&&(J[a]=H);H.qb(G++);c.a.za(H.ca,f);B.push(H);P.push(H)}function n(a,b){if(a)for(var d=0,e=b.length;d<e;d++)b[d]&&c.a.q(b[d].ca,function(c){a(c,d,b[d].ja)})}g=g||[];p=p||{};var r=c.a.e.get(f,d)===a,ea=c.a.e.get(f,d)||[],F=c.a.fb(ea,
function(a){return a.ja}),M=c.a.ib(F,g,p.dontLimitMoves),B=[],C=0,G=0,K=[],P=[];g=[];for(var J=[],F=[],H,Z=0,la,fa;la=M[Z];Z++)switch(fa=la.moved,la.status){case "deleted":fa===a&&(H=ea[C],H.B&&(H.B.k(),H.B=a),c.a.za(H.ca,f).length&&(p.beforeRemove&&(B.push(H),P.push(H),H.ja===e?H=null:g[Z]=H),H&&K.push.apply(K,H.ca)));C++;break;case "retained":z(Z,C++);break;case "added":fa!==a?z(Z,fa):(H={ja:la.value,qb:c.N(G++)},B.push(H),P.push(H),r||(F[Z]=H))}c.a.e.set(f,d,B);n(p.beforeMove,J);c.a.q(K,p.beforeRemove?
c.$:c.removeNode);for(var Z=0,r=c.f.firstChild(f),Q;H=P[Z];Z++){H.ca||c.a.extend(H,b(f,k,H.ja,q,H.qb));for(C=0;M=H.ca[C];r=M.nextSibling,Q=M,C++)M!==r&&c.f.gc(f,M,Q);!H.Wc&&q&&(q(H.ja,H.ca,H.qb),H.Wc=!0)}n(p.beforeRemove,g);for(Z=0;Z<g.length;++Z)g[Z]&&(g[Z].ja=e);n(p.afterMove,J);n(p.afterAdd,F)}})();c.b("utils.setDomNodeChildrenFromArrayMapping",c.a.Bb);c.W=function(){this.allowTemplateRewriting=!1};c.W.prototype=new c.O;c.W.prototype.renderTemplateSource=function(a,b,d,e){if(b=(9>c.a.C?0:a.nodes)?
a.nodes():null)return c.a.V(b.cloneNode(!0).childNodes);a=a.text();return c.a.ma(a,e)};c.W.sb=new c.W;c.Db(c.W.sb);c.b("nativeTemplateEngine",c.W);(function(){c.vb=function(){var a=this.$c=function(){if(!d||!d.tmpl)return 0;try{if(0<=d.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(b,c,e,g){g=g||f;e=e||{};if(2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var k=b.data("precompiled");
k||(k=b.text()||"",k=d.template(null,"{{ko_with $item.koBindingContext}}"+k+"{{/ko_with}}"),b.data("precompiled",k));b=[c.$data];c=d.extend({koBindingContext:c},e.templateOptions);c=d.tmpl(k,b,c);c.appendTo(g.createElement("div"));d.fragments={};return c};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};this.addTemplate=function(a,b){f.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(d.tmpl.tag.ko_code={open:"__.push($1 || '');"},
d.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};c.vb.prototype=new c.O;var a=new c.vb;0<a.$c&&c.Db(a);c.b("jqueryTmplTemplateEngine",c.vb)})()})})()})();
(function(a){"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?a(require("knockout"),exports):"function"===typeof define&&define.amd?define(["knockout","exports"],a):a(ko,ko.mapping={})})(function(a,b){function f(a,c){var d,e;for(e in c)if(c.hasOwnProperty(e)&&c[e])if(d=b.getType(a[e]),e&&a[e]&&"array"!==d&&"string"!==d)f(a[e],c[e]);else if("array"===b.getType(a[e])&&"array"===b.getType(c[e])){d=a;for(var g=e,q=a[e],n=c[e],h={},r=q.length-1;0<=r;--r)h[q[r]]=q[r];for(r=
n.length-1;0<=r;--r)h[n[r]]=n[r];q=[];n=void 0;for(n in h)q.push(h[n]);d[g]=q}else a[e]=c[e]}function e(a,c){var b={};f(b,a);f(b,c);return b}function d(a,c){for(var b=e({},a),d=S.length-1;0<=d;d--){var f=S[d];b[f]&&(b[""]instanceof Object||(b[""]={}),b[""][f]=b[f],delete b[f])}c&&(b.ignore=g(c.ignore,b.ignore),b.include=g(c.include,b.include),b.copy=g(c.copy,b.copy),b.observe=g(c.observe,b.observe));b.ignore=g(b.ignore,G.ignore);b.include=g(b.include,G.include);b.copy=g(b.copy,G.copy);b.observe=g(b.observe,
G.observe);b.mappedProperties=b.mappedProperties||{};b.copiedProperties=b.copiedProperties||{};return b}function g(c,d){"array"!==b.getType(c)&&(c="undefined"===b.getType(c)?[]:[c]);"array"!==b.getType(d)&&(d="undefined"===b.getType(d)?[]:[d]);return a.utils.arrayGetDistinctValues(c.concat(d))}function q(d,f,g,n,M,l,t){var h="array"===b.getType(a.utils.unwrapObservable(f));l=l||"";if(b.isMapped(d)){var x=a.utils.unwrapObservable(d)[c];g=e(x,g)}var C=t||M,D=function(){return g[n]&&g[n].create instanceof
Function},y=function(b){var c=X,d=a.dependentObservable;a.dependentObservable=function(b,d,e){e=e||{};b&&"object"==typeof b&&(e=b);var f=e.deferEvaluation,g=!1;e.deferEvaluation=!0;b=new B(b,d,e);if(!f){var k=b,f=a.dependentObservable;a.dependentObservable=B;b=a.isWriteableObservable(k);a.dependentObservable=f;f=B({read:function(){g||(a.utils.arrayRemoveItem(c,k),g=!0);return k.apply(k,arguments)},write:b&&function(a){return k(a)},deferEvaluation:!0});f.__DO=k;b=f;c.push(b)}return b};a.dependentObservable.fn=
B.fn;a.computed=a.dependentObservable;b=a.utils.unwrapObservable(M)instanceof Array?g[n].create({data:b||f,parent:C,skip:Q}):g[n].create({data:b||f,parent:C});a.dependentObservable=d;a.computed=a.dependentObservable;return b},m=function(){return g[n]&&g[n].update instanceof Function},v=function(b,c){var d={data:c||f,parent:C,target:a.utils.unwrapObservable(b)};a.isWriteableObservable(b)&&(d.observable=b);return g[n].update(d)};if(t=J.get(f))return t;n=n||"";if(h){var h=[],w=!1,E=function(a){return a};
g[n]&&g[n].key&&(E=g[n].key,w=!0);a.isObservable(d)||(d=a.observableArray([]),d.mappedRemove=function(a){var b="function"==typeof a?a:function(b){return b===E(a)};return d.remove(function(a){return b(E(a))})},d.mappedRemoveAll=function(b){var c=P(b,E);return d.remove(function(b){return-1!=a.utils.arrayIndexOf(c,E(b))})},d.mappedDestroy=function(a){var b="function"==typeof a?a:function(b){return b===E(a)};return d.destroy(function(a){return b(E(a))})},d.mappedDestroyAll=function(b){var c=P(b,E);return d.destroy(function(b){return-1!=
a.utils.arrayIndexOf(c,E(b))})},d.mappedIndexOf=function(b){var c=P(d(),E);b=E(b);return a.utils.arrayIndexOf(c,b)},d.mappedGet=function(a){return d()[d.mappedIndexOf(a)]},d.mappedCreate=function(b){if(-1!==d.mappedIndexOf(b))throw Error("There already is an object with the key that you specified.");var c=D()?y(b):b;m()&&(b=v(c,b),a.isWriteableObservable(c)?c(b):c=b);d.push(c);return c});t=P(a.utils.unwrapObservable(d),E).sort();x=P(f,E);w&&x.sort();w=a.utils.compareArrays(t,x);t={};var A,G=a.utils.unwrapObservable(f),
S={},V=!0,x=0;for(A=G.length;x<A;x++){var da=E(G[x]);if(void 0===da||da instanceof Object){V=!1;break}S[da]=G[x]}var G=[],ca=0,x=0;for(A=w.length;x<A;x++){var da=w[x],U,R=l+"["+x+"]";switch(da.status){case "added":var ka=V?S[da.value]:F(a.utils.unwrapObservable(f),da.value,E);U=q(void 0,ka,g,n,d,R,M);D()||(U=a.utils.unwrapObservable(U));R=r(a.utils.unwrapObservable(f),ka,t);U===Q?ca++:G[R-ca]=U;t[R]=!0;break;case "retained":ka=V?S[da.value]:F(a.utils.unwrapObservable(f),da.value,E);U=F(d,da.value,
E);q(U,ka,g,n,d,R,M);R=r(a.utils.unwrapObservable(f),ka,t);G[R]=U;t[R]=!0;break;case "deleted":U=F(d,da.value,E)}h.push({event:da.status,item:U})}d(G);g[n]&&g[n].arrayChanged&&a.utils.arrayForEach(h,function(a){g[n].arrayChanged(a.event,a.item)})}else if(ba(f)){d=a.utils.unwrapObservable(d);if(!d){if(D())return w=y(),m()&&(w=v(w)),w;if(m())return v(w);d={}}m()&&(d=v(d));J.save(f,d);if(m())return d;K(f,function(b){var c=l.length?l+"."+b:b;if(-1==a.utils.arrayIndexOf(g.ignore,c))if(-1!=a.utils.arrayIndexOf(g.copy,
c))d[b]=f[b];else if("object"!=typeof f[b]&&"array"!=typeof f[b]&&0<g.observe.length&&-1==a.utils.arrayIndexOf(g.observe,c))d[b]=f[b],g.copiedProperties[c]=!0;else{var e=J.get(f[b]),h=q(d[b],f[b],g,b,d,c,d),e=e||h;if(0<g.observe.length&&-1==a.utils.arrayIndexOf(g.observe,c))d[b]=e(),g.copiedProperties[c]=!0;else{if(a.isWriteableObservable(d[b])){if(e=a.utils.unwrapObservable(e),d[b]()!==e)d[b](e)}else e=void 0===d[b]?e:a.utils.unwrapObservable(e),d[b]=e;g.mappedProperties[c]=!0}}})}else switch(b.getType(f)){case "function":m()?
a.isWriteableObservable(f)?(f(v(f)),d=f):d=v(f):d=f;break;default:if(a.isWriteableObservable(d))return U=m()?v(d):a.utils.unwrapObservable(f),d(U),U;D()||m();d=D()?y():a.observable(a.utils.unwrapObservable(f));m()&&d(v(d))}return d}function r(a,b,c){for(var d=0,e=a.length;d<e;d++)if(!0!==c[d]&&a[d]===b)return d;return null}function n(c,d){var e;d&&(e=d(c));"undefined"===b.getType(e)&&(e=c);return a.utils.unwrapObservable(e)}function F(b,c,d){b=a.utils.unwrapObservable(b);for(var e=0,f=b.length;e<
f;e++){var g=b[e];if(n(g,d)===c)return g}throw Error("When calling ko.update*, the key '"+c+"' was not found!");}function P(b,c){return a.utils.arrayMap(a.utils.unwrapObservable(b),function(a){return c?n(a,c):a})}function K(a,c){if("array"===b.getType(a))for(var d=0;d<a.length;d++)c(d);else for(d in a)c(d)}function ba(a){var c=b.getType(a);return("object"===c||"array"===c)&&null!==a}function ca(){var b=[],c=[];this.save=function(d,e){var f=a.utils.arrayIndexOf(b,d);0<=f?c[f]=e:(b.push(d),c.push(e))};
this.get=function(d){d=a.utils.arrayIndexOf(b,d);return 0<=d?c[d]:void 0}}function V(){var a={},b=function(b){var c;try{c=b}catch(d){c="$$$"}b=a[c];void 0===b&&(b=new ca,a[c]=b);return b};this.save=function(a,c){b(a).save(a,c)};this.get=function(a){return b(a).get(a)}}var c="__ko_mapping__",B=a.dependentObservable,R=0,X,J,S=["create","update","key","arrayChanged"],Q={},C={include:["_destroy"],ignore:[],copy:[],observe:[]},G=C;b.isMapped=function(b){return(b=a.utils.unwrapObservable(b))&&b[c]};b.fromJS=
function(a){if(0==arguments.length)throw Error("When calling ko.fromJS, pass the object you want to convert.");try{R++||(X=[],J=new V);var b,f;2==arguments.length&&(arguments[1][c]?f=arguments[1]:b=arguments[1]);3==arguments.length&&(b=arguments[1],f=arguments[2]);f&&(b=e(b,f[c]));b=d(b);var g=q(f,a,b);f&&(g=f);if(!--R)for(;X.length;){var n=X.pop();n&&(n(),n.__DO.throttleEvaluation=n.throttleEvaluation)}g[c]=e(g[c],b);return g}catch(l){throw R=0,l;}};b.fromJSON=function(c){var d=a.utils.parseJson(c);
arguments[0]=d;return b.fromJS.apply(this,arguments)};b.updateFromJS=function(){throw Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!");};b.updateFromJSON=function(){throw Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!");};b.toJS=function(e,f){G||b.resetDefaultOptions();if(0==arguments.length)throw Error("When calling ko.mapping.toJS, pass the object you want to convert.");
if("array"!==b.getType(G.ignore))throw Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==b.getType(G.include))throw Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==b.getType(G.copy))throw Error("ko.mapping.defaultOptions().copy should be an array.");f=d(f,e[c]);return b.visitModel(e,function(b){return a.utils.unwrapObservable(b)},f)};b.toJSON=function(c,d){var e=b.toJS(c,d);return a.utils.stringifyJson(e)};b.defaultOptions=function(){if(0<arguments.length)G=
arguments[0];else return G};b.resetDefaultOptions=function(){G={include:C.include.slice(0),ignore:C.ignore.slice(0),copy:C.copy.slice(0)}};b.getType=function(a){if(a&&"object"===typeof a){if(a.constructor===Date)return"date";if(a.constructor===Array)return"array"}return typeof a};b.visitModel=function(e,f,g){g=g||{};g.visitedObjects=g.visitedObjects||new V;var q,n=a.utils.unwrapObservable(e);if(ba(n))g=d(g,n[c]),f(e,g.parentName),q="array"===b.getType(n)?[]:{};else return f(e,g.parentName);g.visitedObjects.save(e,
q);var l=g.parentName;K(n,function(d){if(!g.ignore||-1==a.utils.arrayIndexOf(g.ignore,d)){var e=n[d],k=g,r=l||"";"array"===b.getType(n)?l&&(r+="["+d+"]"):(l&&(r+="."),r+=d);k.parentName=r;if(-1!==a.utils.arrayIndexOf(g.copy,d)||-1!==a.utils.arrayIndexOf(g.include,d)||!n[c]||!n[c].mappedProperties||n[c].mappedProperties[d]||!n[c].copiedProperties||n[c].copiedProperties[d]||"array"===b.getType(n))switch(b.getType(a.utils.unwrapObservable(e))){case "object":case "array":case "undefined":k=g.visitedObjects.get(e);
q[d]="undefined"!==b.getType(k)?k:b.visitModel(e,f,g);break;default:q[d]=f(e,g.parentName)}}});return q}});
ko.bindingHandlers.foreachprop={transformObject:function(a,b){var f=[],e;for(e in a)a.hasOwnProperty(e)&&f.push({key:e,value:a[e]});b||f.sort(function(a,b){return a.key.localeCompare(b.key)});return ko.observableArray(f)},init:function(a,b,f,e,d){f=f.get("unsorted");b=ko.utils.unwrapObservable(b());b=ko.bindingHandlers.foreachprop.transformObject(b,f);d=d.createChildContext(d.$rawData,null);jQuery(a).data("childBindingContext",d);ko.applyBindingsToNode(a,{foreach:b},d);return{controlsDescendantBindings:!0}},
update:function(a,b,f,e,d){d=f.get("unsorted");b=ko.utils.unwrapObservable(b());b=ko.bindingHandlers.foreachprop.transformObject(b,d);d=jQuery(a).data("childBindingContext");ko.bindingHandlers.foreach.update(a,b,f,e,d);return{controlsDescendantBindings:!0}}};ko.bindingHandlers.executeOnEnter={init:function(a,b,f,e,d){var g=f.get("executeOnEnter");jQuery(a).keypress(function(a){return 13===(a.which?a.which:a.keyCode)?(g.call(d.$data,a),!1):!0})}};
function WorkflowEditor(){var a=this;a.scriptSteps=ko.observable({});a.step=function(b){return a.scriptSteps()[b]};a.filterPlugins=ko.observableArray([]);a.loadStepFilterPlugins=function(b){ko.mapping.fromJS({filterPlugins:b},{filterPlugins:{key:function(a){return ko.utils.unwrapObservable(a.type)},create:function(a){return new StepFilterPlugin(a.data)}}},a)};a.pluginOfType=function(b){return ko.utils.arrayFirst(a.filterPlugins(),function(a){return a.type()===b})};a.modalFilterEditStep=ko.observable();
a.modalFilterEdit=ko.observable();a.modalFilterEditNewType=ko.observable();a.addFilterPopup=function(b){a.modalFilterEditStep(b);jQuery("#addLogFilterPluginModal").modal("show")};a.addSelectedFilterPopup=function(b){jQuery("#addLogFilterPluginModal").modal("hide");a.editFilterPopup(a.modalFilterEditStep(),null,b.type())};a.loadFilterPluginEditor=function(a,f,e){return jQuery.ajax({type:"post",url:_genUrl(appLinks.workflowEditStepFilter,a),data:f,contentType:e,success:function(a,b,e){jQuery("#editLogFilterPluginModalForm").html(a)},
error:function(a,b,e){}})};a.editFilterPopup=function(b,f,e,d,g){a.modalFilterEditStep(b);a.modalFilterEdit(f);a.modalFilterEditNewType(e);return b.editor.editFilter(b,f,e,d,g,function(b,d,e){return a.loadFilterPluginEditor(b,d,e).success(function(){jQuery("#editLogFilterPluginModal").modal("show")})})};a.removeFilter=function(a,f){a.editor.removeFilter(f,function(a){a&&console.log("error: ",a)})};a.saveFilterPopup=function(){var b=jQuery("#editLogFilterPluginModalForm").find("input, textarea, select").serialize();
a.modalFilterEditStep().editor.saveFilter(a.modalFilterEdit(),a.modalFilterEditNewType(),function(f,e,d){if(f)console.log("error: ",f);else if(e)jQuery("#editLogFilterPluginModal").modal("hide"),a.modalFilterEditStep(null),a.modalFilterEdit(null),a.modalFilterEditNewType(null);else return a.loadFilterPluginEditor(d,b)})};a.bindScriptStepKey=function(b,f,e){e=new ScriptStep(e);a.scriptSteps()[b]=e;ko.applyBindings(e,document.getElementById(f))};a.stepFilters=ko.observable({});a.stepFilter=function(b){return a.stepFilters()[b]};
a.bindStepFilters=function(b,f,e,d){e=jQuery.extend(e,d);e=new WorkflowStep(e);a.stepFilters()[b]=e;ko.applyBindings(e,document.getElementById(f));return e};a.reset=function(){a.scriptSteps({});a.stepFilters({})}}
function WorkflowGlobalLogFilterEditor(a){var b=this;b.step=a.step;b.removeFilter=function(a,e){b.step.deleteFilter(a);e(null)};b.saveFilter=function(a,e,d){var g={num:b.step.num()};getCurSEID()&&(g.scheduledExecutionId=getCurSEID());a&&(g.index=b.step.filters().indexOf(a));var q=jQuery.extend(g,{validate:!0}),r=jQuery("#editLogFilterPluginModalForm").find("input, textarea, select").serialize();return jQuery.ajax({url:_genUrl(appLinks.workflowValidateStepFilter,g),type:"post",data:r,dataType:"json",
success:function(g,r,P){g.valid&&(a?a.config(g.saved&&g.saved.config||{}):b.step.addFilter(e,g.saved&&g.saved.config||{}));d(null,g.valid,q)},error:function(a,b,e){console.log("error: ",e);d(e)}})};b.editFilter=function(a,b,d,g,q,r){a={editconfig:!0};getCurSEID()&&(a.scheduledExecutionId=getCurSEID());var n=null,F=null;b?(F="application/json; charset=UTF-8",n=JSON.stringify({pluginConfig:b.config()}),a.newfiltertype=b.type()):a.newfiltertype=d;g&&(a.validate=!0,n=q,F=null);r(a,n,F)}}
function WorkflowStepLogFilterEditor(a){var b=this;b.step=a.step;b.removeFilter=function(a,e){var d={num:b.step.num()};getCurSEID()&&(d.scheduledExecutionId=getCurSEID());d.index=b.step.filters().indexOf(a);return jQuery.ajax({type:"post",url:_genUrl(appLinks.workflowRemoveStepFilter,d),beforeSend:_ajaxSendTokens.curry("job_edit_tokens"),success:function(d,q,r){d.valid?(b.step.deleteFilter(a),e(null),"function"===typeof _updateWFUndoRedo&&_updateWFUndoRedo()):(console.log("error: ",d),e(d.error))},
error:function(a,b,d){e(d)}}).success(_ajaxReceiveTokens.curry("job_edit_tokens"))};b.saveFilter=function(a,e,d){var g={num:b.step.num()};getCurSEID()&&(g.scheduledExecutionId=getCurSEID());a&&(g.index=b.step.filters().indexOf(a));var q=jQuery.extend(g,{validate:!0}),r=jQuery("#editLogFilterPluginModalForm").find("input, textarea, select").serialize();return jQuery.ajax({url:_genUrl(appLinks.workflowSaveStepFilter,g),type:"post",data:r,dataType:"json",beforeSend:_ajaxSendTokens.curry("job_edit_tokens"),
success:function(g,r,P){g.valid&&(a?a.config(g.saved&&g.saved.config||{}):b.step.addFilter(e,g.saved&&g.saved.config||{}),"function"===typeof _updateWFUndoRedo&&_updateWFUndoRedo());d(null,g.valid,q)},error:function(a,b,e){console.log("error: ",e);d(e)}}).success(_ajaxReceiveTokens.curry("job_edit_tokens"))};b.editFilter=function(a,b,d,g,q,r){var n={num:a.num()};getCurSEID()&&(n.scheduledExecutionId=getCurSEID());b?n.index=a.filters().indexOf(b):n.newfiltertype=d;a=null;g&&(n.validate=!0,a=q);r(n,
a)}}
function ScriptStep(a){var b=this;b.invocationString=ko.observable("");b.fileExtension=ko.observable("");b.args=ko.observable("");b.argsQuoted=ko.observable(!1);b.argStringAsQuoted=ko.computed(function(){var a=b.argsQuoted()?'"':"";return b.args()?a+b.args()+a:""});b.fileExtensionDotted=ko.computed(function(){var a=b.fileExtension();return a?"."==a.charAt(0)?a:"."+a:""});b.scriptfileText=ko.computed(function(){return b.fileExtensionDotted()?"scriptfile"+b.fileExtensionDotted():"scriptfile"});b.argStringAsQuotedWithScriptfile=
ko.computed(function(){var a=b.argsQuoted()?'"':"";return a+"<em>"+b.scriptfileText()+"</em> "+b.args()+a});b.guessAceMode=ko.computed(function(){return b.invocationString().startsWith("powershell")||".ps"===b.fileExtensionDotted()?"powershell":b.invocationString().startsWith("cmd.exe")||".bat"===b.fileExtensionDotted()?"batchfile":"sh"});b.invocationPreviewHtml=ko.computed(function(){var a="";return a=b.invocationString()&&0<=b.invocationString().indexOf("${scriptfile}")?a+(b.invocationString().split("${scriptfile}").join("<em>"+
b.scriptfileText()+"</em>")+" "+b.argStringAsQuoted()):b.invocationString()?a+(b.invocationString()+" "+b.argStringAsQuotedWithScriptfile()):a+b.argStringAsQuotedWithScriptfile()});ko.mapping.fromJS(a,{},this)}
function StepFilterPlugin(a){var b=this;b.type=ko.observable(a.type);b.title=ko.observable(a.title);b.description=ko.observable(a.description);b.iconSrc=ko.observable(a.iconSrc);b.selected=ko.observable(!1);b.descriptionFirstLine=ko.computed(function(){var a=b.description();return a?0<a.indexOf("\n")?a.substring(0,a.indexOf("\n")):a:a});ko.mapping.fromJS(a,{},this)}
function StepFilter(a){var b=this;b.step=ko.observable(a.step);b.type=ko.observable(a.type);b.config=ko.observable(a.config);b.title=ko.computed(function(){var a=b.type(),e=workflowEditor.pluginOfType(a);return e&&e.title()||a});b.plugin=ko.computed(function(){var a=b.type();return workflowEditor.pluginOfType(a)});b.index=ko.computed(function(){var a=b.step();return a?a.filters().indexOf(b):-1});ko.mapping.fromJS(a,{},this)}
function WorkflowStep(a){var b=this;b.global=ko.observable(a.global);b.num=ko.observable(a.num);b.description=ko.observable(a.description);b.filters=ko.observableArray([]);b.editor=a.editor?a.editor({step:b}):new WorkflowStepLogFilterEditor({step:b});b.addFilter=function(a,e){var d=new StepFilter({type:a,config:e});b.filters.push(d);d.step(b)};b.addFilterPopup=function(){workflowEditor.addFilterPopup(b)};b.editFilter=function(a){workflowEditor.editFilterPopup(b,a)};b.removeFilter=function(a){workflowEditor.removeFilter(b,
a)};b.deleteFilter=function(a){a=b.filters.indexOf(a);b.filters.splice(a,1)};b.displayNum=ko.computed(function(){return b.global()?"":parseInt(b.num())+1});ko.mapping.fromJS(a,{filters:{create:function(a){return new StepFilter(jQuery.extend(a.data,{step:b}))}},ignore:["editor"]},this)}
function NodeFilterLinkParams(a){var b=this;b.linkicon=a.linkicon||"";b.classnames=a.classnames||"";b.filterval=a.filterval||"";b.filterkey=a.filterkey||"";b.filter=a.filter||"";b.linktext=a.linktext||"";b.textcss=a.textcss||"";b.suffix=a.suffix||"";b.tag=a.tag;b.title=a.title||"";b.filterData=function(a){return b.filter?{"data-node-filter":ko.unwrap(b.filter),href:a.linkForFilterString(ko.unwrap(b.filter))}:{"data-node-filter":a.escapeFilter(b.filterkey+":")+" "+a.escapeFilter(ko.unwrap(b.filterval)),
href:a.linkForFilterParams(b.filterkey,ko.unwrap(b.filterval))}};b.attributes=function(a){a=b.filterData(a);b.tag&&(a["data-node-tag"]=ko.unwrap(b.tag));b.title&&(a.title=ko.unwrap(b.title));return a};b.viewtext=function(){return(b.linktext?ko.unwrap(b.linktext):b.filter?ko.unwrap(b.filter):ko.unwrap(b.filterval))+ko.unwrap(b.suffix)}}ko.components.register("node-filter-link",{viewModel:NodeFilterLinkParams,template:'<a  class="nodefilterlink"  href="#"  data-bind="attr: attributes($root),  css: classnames"  >     <span data-bind="if: linkicon"><i data-bind="css: linkicon"></i></span><span data-bind="if: !linkicon"><span data-bind="text: viewtext(), css: textcss"></span></span></a>'});
ko.bindingHandlers.bootstrapPopover={init:function(a,b,f,e,d){f.get("bootstrapPopoverContentRef")?_initPopoverContentRef(null,{element:a,contentRef:ko.unwrap(f.get("bootstrapPopoverContentRef"))}):f.get("bootstrapPopoverContentFor")&&_initPopoverContentFor(null,{element:a,target:ko.unwrap(f.get("bootstrapPopoverContentFor"))})}};
ko.bindingHandlers.bootstrapTooltip={init:function(a,b,f,e,d){jQuery(a).tooltip({});ko.utils.domNodeDisposal.addDisposeCallback(a,function(){jQuery(a).tooltip("destroy")})},update:function(a,b,f,e,d){b=b();ko.isObservable(b)&&(ko.unwrap(b),jQuery(a).tooltip("destroy"),jQuery(a).data("original-title",null),jQuery(a).tooltip({}))}};
ko.bindingHandlers.messageTemplate={init:function(a,b,f,e,d){b=jQuery(a).text();jQuery(a).data("ko-message-template",b);return{controlsDescendantBindings:!0}},update:function(a,b,f,e,d){f=f.get("messageTemplatePluralize");b=ko.utils.unwrapObservable(b());e=jQuery(a).data("ko-message-template");b=messageTemplate(e,b,f);ko.utils.setTextContent(a,b)}};var NODE_FILTER_ALL=".*";
function NodeSummary(a){var b=this;b.error=ko.observable();b.tags=ko.observableArray();b.filters=ko.observableArray();b.defaultFilter=ko.observable();b.totalCount=ko.observable(0);b.baseUrl=a.baseUrl?a.baseUrl:"";b.filterToDelete=ko.observable();b.reload=function(){jQuery.ajax({url:_genUrl(appLinks.frameworkNodeSummaryAjax),type:"GET",error:function(a,e,d){b.error("Recent commands list: request failed for "+requrl+": "+d+", "+e)}}).success(function(a){ko.mapping.fromJS(a,{},b)})};b.linkForTagFilter=
function(a){return _genUrl(b.baseUrl,{filter:"tags:"+a.tag()})};b.linkForFilterName=function(a){return _genUrl(b.baseUrl,{filterName:a.name()})};b.linkForNodeFilters=function(a){return _genUrl(b.baseUrl,a.getPageParams())};b.findFilterByName=function(a){var e=ko.utils.arrayFilter(b.filters(),function(b){return b.name()==a});return e&&1==e.length?e[0]:null};b.removeDefault=function(){setFilter("nodes","!").success(function(a,e,d){b.defaultFilter(null)})};b.setDefaultAll=function(){b.setDefault(NODE_FILTER_ALL)};
b.setDefault=function(a){var e=null;if("string"==typeof a)if(a==NODE_FILTER_ALL)e=a;else{a=b.findFilterByName(a);if(!a)return;e=a.name()}else e=a.name();setFilter("nodes",e).success(function(a,g,f){b.defaultFilter(e)})};b.deleteFilterConfirm=function(a){if("string"==typeof a&&(a=b.findFilterByName(a),!a))return;b.filterToDelete(a);jQuery("#deleteFilterKOModal").modal("show")};b.deleteFilter=function(a){jQuery("#deleteFilterKOModal").modal("hide");jQuery.ajax({url:_genUrl(appLinks.frameworkDeleteNodeFilterAjax,
{filtername:a.name()}),beforeSend:_ajaxSendTokens.curry("ajaxDeleteFilterTokens")}).success(function(e,d,g){b.filterToDelete(null);b.filters.remove(a)}).success(_ajaxReceiveTokens.curry("ajaxDeleteFilterTokens"))};a&&ko.mapping.fromJS(a,{},b)}var CSSColors="aliceblue antiquewhite aqua aquamarine azure beige bisque black blanchedalmond blue blueviolet brown burlywood cadetblue chartreuse chocolate coral cornflowerblue cornsilk crimson cyan darkblue darkcyan darkgoldenrod darkgray darkgreen darkkhaki darkmagenta darkolivegreen darkorange darkorchid darkred darksalmon darkseagreen darkslateblue darkslategray darkturquoise darkviolet deeppink deepskyblue dimgray dodgerblue firebrick floralwhite forestgreen fuchsia gainsboro ghostwhite gold goldenrod gray green greenyellow honeydew hotpink indianred indigo ivory khaki lavender lavenderblush lawngreen lemonchiffon lightblue lightcoral lightcyan lightgoldenrodyellow lightgreen lightgrey lightpink lightsalmon lightseagreen lightskyblue lightslategray lightsteelblue lightyellow lime limegreen linen magenta maroon mediumaquamarine mediumblue mediumorchid mediumpurple mediumseagreen mediumslateblue mediumspringgreen mediumturquoise mediumvioletred midnightblue mintcream mistyrose moccasin navajowhite navy oldlace olive olivedrab orange orangered orchid palegoldenrod palegreen paleturquoise palevioletred papayawhip peachpuff peru pink plum powderblue purple red rosybrown royalblue saddlebrown salmon sandybrown seagreen seashell sienna silver skyblue slateblue slategray snow springgreen steelblue tan teal thistle tomato turquoise violet wheat white whitesmoke yellow yellowgreen".split(" ");
function NodeEntry(a){a&&ko.mapping.fromJS(a,{},this)}function TagSummary(a){this.tag=ko.observable(a.tag);this.value=ko.observable(a.value);a&&ko.mapping.fromJS(a,{},this)}
function NodeSet(a){var b=this;b.nodes=ko.observableArray([]);b.tagsummary=ko.observableArray([]);var f={nodes:{create:function(a){return new NodeEntry(a.data)}},tagsummary:{key:function(a){return ko.utils.unwrapObservable(a.tag)},create:function(a){return new TagSummary(a.data)}}};b.glyphiconCss=function(a){return a.match(/^glyphicon-[a-z-]+$/)?"glyphicon "+a:""};b.glyphiconBadges=function(a){var b=[];if(a["ui:badges"]){a=a["ui:badges"]().split(/,\s*/g);for(var g=0;g<a.length;g++)a[g].match(/^glyphicon-[a-z-]+$/)&&
b.push(a[g])}return b};b.isAnsiFg=function(a){return null!=a&&"string"==typeof a&&a.match(/^ansi-fg-(light-)?(black|green|red|yellow|blue|magenta|cyan|white)$/)};b.isStyleFg=function(a){return null!=a&&"string"==typeof a&&a.match(/^#[0-9a-fA-F]{3,6}$/)||0<=CSSColors.indexOf(a)};b.isAnsiBg=function(a){return null!=a&&"string"==typeof a&&a.match(/^ansi-bg-(black|green|red|yellow|blue|magenta|cyan|white|default)$/)};b.isStyleBg=function(a){return null!=a&&"string"==typeof a&&a.match(/^#[0-9a-fA-F]{3,6}$/)||
0<=CSSColors.indexOf(a)};b.iconFgCss=function(a){var d=a["ui:icon:color"]?a["ui:icon:color"]():null;a=a["ui:color"]?a["ui:color"]():null;return b.isAnsiFg(d)?d:b.isAnsiFg(a)?a:null};b.iconBgCss=function(a){var d=a["ui:icon:bgcolor"]?a["ui:icon:bgcolor"]():null;a=a["ui:bgcolor"]?a["ui:bgcolor"]():null;return b.isAnsiBg(d)?d:b.isAnsiBg(a)?a:null};b.iconCss=function(a){var d=[],g=b.iconFgCss(a);g&&d.push(g);(a=b.iconBgCss(a))&&d.push(a);return d.join(" ")};b.nodeFgCss=function(a){a=a["ui:color"]?a["ui:color"]():
null;return b.isAnsiFg(a)?a:null};b.nodeBgCss=function(a){a=a["ui:bgcolor"]?a["ui:bgcolor"]():null;return b.isAnsiBg(a)?a:null};b.nodeCss=function(a){var d=[],g=b.nodeFgCss(a);g&&d.push(g);(a=b.nodeBgCss(a))&&d.push(a);return d.join(" ")};b.iconStyle=function(a){var d={};if(!b.iconFgCss(a)){var g=a["ui:icon:color"]?a["ui:icon:color"]():null,f=a["ui:color"]?a["ui:color"]():null;b.isStyleFg(g)?d.color=g:b.isStyleFg(f)&&(d.color=f)}b.iconBgCss(a)||(g=a["ui:icon:bgcolor"]?a["ui:icon:bgcolor"]():null,
a=a["ui:bgcolor"]?a["ui:bgcolor"]():null,b.isStyleBg(g)?d["background-color"]=g:b.isStyleBg(a)&&(d["background-color"]=a));return d};b.nodeStyle=function(a){var d={},g=a["ui:color"]?a["ui:color"]():null;!b.nodeFgCss(a)&&b.isStyleFg(g)&&(d.color=g);g=a["ui:bgcolor"]?a["ui:bgcolor"]():null;!b.nodeBgCss(a)&&b.isStyleBg(g)&&(d["background-color"]=g);return d};b.startsWith=function(a,b){return a.length>=b.length&&a.substring(0,b.length)==b};b.attributesInNamespace=function(a,d){var g=[],f;for(f in a)b.startsWith(f,
d+":")&&a[f]()&&g.push({name:f,value:a[f](),shortname:f.substring(d.length+1)});g.sort(function(a,b){return a.shortname.localeCompare(b.shortname)});return g};b.attributeNamespaceRegex=/^(.+?):.+$/;b.attributeNamespaceNames=function(a){var d=[],g;for(g in a)(a=g.match(b.attributeNamespaceRegex))&&1<a.length&&0>d.indexOf(a[1])&&d.push(a[1]);d.sort();return d};b.attributeNamespaces=function(a){var d={},g=[],f;for(f in a){var r=f.match(b.attributeNamespaceRegex);r&&1<r.length&&(d[r[1]]||(d[r[1]]=[],
g.push(r[1])),d[r[1]].push({name:f,value:ko.utils.unwrapObservable(a[f]),shortname:f.substring(r[1].length+1)}))}g.sort();a=[];for(f=0;f<g.length;f++)r=d[g[f]],r.sort(function(a,b){return a.shortname.localeCompare(b.shortname)}),a.push({ns:g[f],values:r});return a};b.OsAttributeNames="nodename hostname username description tags osFamily osName osVersion osArch".split(" ");b.displayAttributes=function(a){var d={},f;for(f in a)0>f.indexOf(":")&&0>b.OsAttributeNames.indexOf(f)&&(d[f]=a[f]);return d};
b.expandNodeAttributes=function(a,b){return b.replace(/\$\{node\.([a-zA-Z-.]+)\}/g,function(b,d,f,n){return a[d]?a[d]()||"":n})};b.convertTagSummary=function(a){var b=[],f;for(f in a)b.push({tag:f,value:a[f]});return b};b.loadJS=function(a){ko.mapping.fromJS({nodes:a.nodes,tagsummary:b.convertTagSummary(a.tagsummary)},f,b)};a&&b.loadJS(a)}
function NodeFilters(a,b,f,e){var d=this;d.baseRunUrl=a;d.baseSaveJobUrl=b;d.baseNodesPageUrl=f;d.filterName=ko.observable(e.filterName);d.filter=ko.observable(e.filter);d.filterAll=ko.observable(e.filterAll);d.nodeExcludePrecedence=ko.observable(null==e.nodeExcludePrecedence||e.nodeExcludePrecedence?"true":"false");d.nodefilterLinkId=e.nodefilterLinkId;d.total=ko.observable(0);d.allcount=ko.observable(0);d.loading=ko.observable(!1);d.error=ko.observable(null);d.project=ko.observable(e.project);d.page=
ko.observable(e.page?e.page:0);d.pagingMax=ko.observable(e.pagingMax?e.pagingMax:20);d.paging=ko.observable(null!=e.paging?e.paging?!0:!1:!1);d.maxShown=ko.observable(e.maxShown);d.view=ko.observable(e.view);d.emptyMode=ko.observable(e.emptyMode?e.emptyMode:"localnode");d.emptyMessage=ko.observable(e.emptyMessage?e.emptyMessage:"No match");d.hideAll=ko.observable(null!=e.hideAll?e.hideAll?!0:!1:!1);d.nodeSummary=ko.observable(e.nodeSummary?e.nodeSummary:null);d.nodeSet=ko.observable(new NodeSet);
d.truncated=ko.observable(!1);d.loaded=ko.observable(!1);d.browse=ko.observable(!1);d.colkeys=ko.observableArray([]);this.pageDisplay=ko.computed({read:function(){return d.page()+1},write:function(a){d.page(a-1);d.browse(!0);d.updateMatchedNodes()},owner:d});d.filterColumns=ko.pureComputed(function(){return ko.utils.arrayFilter(d.colkeys(),function(a){return!d.nodeSet().startsWith(a,"ui:")})});d.useDefaultColumns=ko.pureComputed(function(){return 1>d.filterColumns().size()});d.totalColumnsCount=ko.pureComputed(function(){return d.useDefaultColumns()?
5:2+d.filterColumns().size()});d.isFilterNameAll=ko.pureComputed(function(){return d.filterName()==NODE_FILTER_ALL});d.filterNameDisplay=ko.pureComputed(function(){return d.isFilterNameAll()?"All Nodes":d.filterName()});d.canSaveFilter=ko.pureComputed(function(){return!d.filterName()&&d.filterWithoutAll()});d.canDeleteFilter=ko.pureComputed(function(){return d.filterName()&&!d.isFilterNameAll()});d.canSetDefaultFilter=ko.pureComputed(function(){return d.filterName()&&d.filterName()!=d.nodeSummary().defaultFilter()});
d.canRemoveDefaultFilter=ko.pureComputed(function(){return d.filterName()&&d.filterName()==d.nodeSummary().defaultFilter()});d.deleteFilter=function(){d.nodeSummary().deleteFilterConfirm(d.filterName())};d.setDefaultFilter=function(){d.nodeSummary().setDefault(d.filterName())};d.pageRemaining=ko.computed(function(){return 0>=d.total()||0>d.page()?0:d.allcount()-(d.page()+1)*d.pagingMax()});d.hasMoreNodes=ko.computed(function(){return 0<d.pageRemaining()});d.hasMultiplePages=ko.computed(function(){return d.pageRemaining()>
d.pagingMax()});d.hasPaging=ko.computed(function(){return d.paging()&&d.total()>d.pagingMax()});d.maxPages=ko.pureComputed(function(){return d.paging()&&Math.ceil(d.total()/d.pagingMax())});d.pageNumbersSkipped=ko.computed(function(){for(var a=[],b=d.page(),e=d.maxPages(),f=0;f<e;f++)f>=b-3&&f<=b+3||3>f||f>=e-3?a.push(f):f!=b-3-1&&f!=b+3+1||a.push("..");return a});d.nodesTitle=ko.computed(function(){return 1==d.allcount()?e.nodesTitleSingular||"Node":e.nodesTitlePlural||"Nodes"});d.filterWithoutAll=
ko.computed({read:function(){return d.filterAll()&&d.filter()==NODE_FILTER_ALL&&d.hideAll()?"":d.filter()},write:function(a){d.filter(a)},owner:this});d.filterIsSet=ko.pureComputed(function(){return!!d.filterWithoutAll()||!!d.filterName()});d.filter.subscribe(function(a){""==a&&d.hideAll()?d.filterAll(!0):a==NODE_FILTER_ALL&&d.filterAll(!0)});d.filter.subscribe(function(a){""==a&&"blank"==d.emptyMode()&&d.clear()});d.filter.subscribe(function(a){a===NODE_FILTER_ALL?d.filterName(NODE_FILTER_ALL):""!=
a&&d.filterName()&&d.filterName(null)});d.nodeExcludePrecedence.subscribe(function(a){d.updateMatchedNodes()});d.loading.subscribe(function(a){a||d.loaded(!0)});d.hasNodes=ko.computed(function(){return 0!=d.allcount()});d.runCommand=function(){document.location=_genUrl(d.baseRunUrl,{filter:d.filter(),filterName:d.filterName()?d.filterName():""})};d.saveJob=function(){document.location=_genUrl(d.baseSaveJobUrl,{filter:d.filter(),filterName:d.filterName()?d.filterName():""})};d.nodesPageView=function(){document.location=
_genUrl(d.baseNodesPageUrl,{filter:d.filter(),filterName:d.filterName()?d.filterName():""})};d.clear=function(){d.page(0);d.total(0);d.allcount(-1)};d.reset=function(){d.clear();d.filterAll(!1);d.filterWithoutAll(null);d.filterName(null)};d.useFilterString=function(a){d.filterAll(!1);d.filterWithoutAll(a);d.filterName(null);d.clear();d.updateMatchedNodes()};d.getPageParams=function(){return{filter:d.filter()||"",filterName:d.filterName()||"",filterAll:d.filterAll()||"",page:d.page()||0,max:d.pagingMax()||
20}};d.getPageUrl=function(){return d.nodeSummary().linkForNodeFilters(d)};d.escapeFilter=function(a){if(""!=a&&!a.match(/[ '"\r\n]/))return null==a?"":a;var b='"';null!=a&&(b+=a.replace(/"/g,'""'));return b+'"'};d.paramsAsfilter=function(a){var b=[],e;for(e in a)b.push(d.escapeFilter(e+":")),b.push(d.escapeFilter(a[e]));return b.join(" ")};d.linkForFilterString=function(a){return _genUrl(d.baseNodesPageUrl,{filter:a})};d.linkForFilterParams=function(a,b){var e;"object"==typeof a?e=d.paramsAsfilter(a):
"string"==typeof a&&"string"==typeof b&&(e={},e[a]=b,e=d.paramsAsfilter(e));return d.linkForFilterString(e)};d.triggerNodeRemoteEdit=function(a){doRemoteEdit(a.nodename(),d.project(),d.nodeSet().expandNodeAttributes(a.attributes,a.attributes.remoteUrl()))};d.setPageParams=function(a){d.filterAll(a.filterAll);d.filter(a.filter);d.filterName(a.filterName);d.clear();d.page(a.page||0);d.pagingMax(a.max||20);d.updateMatchedNodes()};d.selectNodeFilterLink=function(a,b){var e=d.filter(),f=jQuery(a).data("node-filter-name"),
F=jQuery(a).data("node-filter"),P=jQuery(a).data("node-tag");F&&0<=F.indexOf("&")&&(F=html_unescape(F));var K=jQuery(a).data("node-filter-all"),ba=e?e.indexOf("tags: "):-1;if(b&&P&&0<=ba){for(var F=e.substring(0,ba),e=e.substring(ba+6),ca="";0==e.indexOf(" ");)e=e.substring(1);ba=e.indexOf(" ");0<ba&&(ca=e.substring(ba),e=e.substring(0,ba));F=F+"tags: "+e+"+"+P+ca}else F&&!f&&e&&!K&&e!=NODE_FILTER_ALL?F=e+" "+F:K&&(F=NODE_FILTER_ALL);d.filterAll(K);d.filter(F);d.filterName(f);d.clear();d.updateMatchedNodes()};
d.updateNodesNextPage=function(){d.page()||d.page(0);d.page(d.page()+1);d.updateMatchedNodes()};d.browseNodesPage=function(a){if(d.page()!=a){if(!a||a>=d.maxPages()||0>a)a=0;d.pageDisplay(a+1)}};d.browseNodesPageNext=function(){d.page()+1<d.maxPages()&&d.browseNodesPage(d.page()+1)};d.browseNodesPagePrev=function(){0<d.page()&&d.browseNodesPage(d.page()-1)};d.browseNodesPageUrl=function(a){var b=d.getPageParams();0<=a&&a<d.maxPages()?b.page=a:b.page=0;return _genUrl(d.baseNodesPageUrl,b)};d.browseNodesPagePrevUrl=
function(){return d.browseNodesPageUrl(d.page()-1)};d.browseNodesPageNextUrl=function(){return d.browseNodesPageUrl(d.page()+1)};d.updateNodesRemainingPages=function(){d.page(-1);d.updateMatchedNodes()};d.loadJS=function(a){ko.mapping.fromJS(a,{},d)};d.pagingMax.subscribe(function(){d.updateMatchedNodes()});d.newFilterText=function(){d.page(0);d.updateMatchedNodes()};d.updateMatchedNodes=function(){if((d.filter()||"blank"!=d.emptyMode())&&d.project()){var a=d.filterName()?{filterName:d.filterName()}:
d.filter()?{filter:d.filter()}:{},b=d.page(),e={view:d.view()?d.view():"table",declarenone:!0,fullresults:!0,expanddetail:!0,inlinepaging:!1,nodefilterLinkId:d.nodefilterLinkId};d.paging()&&(e.page=b,e.max=d.pagingMax(),e.inlinepaging=!0,0!=b&&(e.view="tableContent"));d.maxShown()&&(e.maxShown=d.maxShown());a=Object.extend(e,a);if("localnode"==d.emptyMode()&&!d.filter())a.localNodeOnly="true";else if("blank"==d.emptyMode()&&!d.filter()){d.clear();return}b=d.nodeExcludePrecedence();a.nodeExcludePrecedence=
"string"==typeof b&&"false"===b||"boolean"==typeof b&&!b?"false":"true";d.loading(!0);var f=_genUrl(appLinks.frameworkNodesQueryAjax,a);jQuery.ajax({type:"GET",dataType:"json",url:f,error:function(a,b,e){d.loading(!1);"function"==typeof errcallback&&d.error("Failed "+f+": "+e+", "+b)},success:function(a,b,e){d.loading(!1);d.nodeSet().loadJS({nodes:a.allnodes,tagsummary:a.tagsummary});d.loadJS({allcount:a.allcount,total:a.total,truncated:a.truncated,colkeys:a.colkeys})}})}}}
function OptionEditor(a){var b=this;b.optionType=ko.observable(a.optionType);b.name=ko.observable(a.name);b.bashVarPrefix=a.bashVarPrefix?a.bashVarPrefix:"";b.tofilebashvar=function(a){return b.bashVarPrefix+"FILE_"+a.toUpperCase().replace(/[^a-zA-Z0-9_]/g,"_").replace(/[{}$]/,"")};b.tobashvar=function(a){return b.bashVarPrefix+"OPTION_"+a.toUpperCase().replace(/[^a-zA-Z0-9_]/g,"_").replace(/[{}$]/,"")};b.bashVarPreview=ko.computed(function(){return b.tobashvar(b.name())});b.fileBashVarPreview=ko.computed(function(){return b.tofilebashvar(b.name())});
b.fileFileNameBashVarPreview=ko.computed(function(){return b.tofilebashvar(b.name()+".fileName")});b.fileShaBashVarPreview=ko.computed(function(){return b.tofilebashvar(b.name()+".sha")});b.isFileType=ko.computed(function(){return"file"===b.optionType()})}
!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){function a(){return rb.apply(null,arguments)}function b(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function f(a){return"[object Object]"===Object.prototype.toString.call(a)}function e(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function d(a,b){var c,d=[];for(c=
0;c<a.length;++c)d.push(b(a[c],c));return d}function g(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function q(a,b){for(var c in b)g(b,c)&&(a[c]=b[c]);return g(b,"toString")&&(a.toString=b.toString),g(b,"valueOf")&&(a.valueOf=b.valueOf),a}function r(a,b,c,d){return sb(a,b,c,d,!0).utc()}function n(a){return null==a._pf&&(a._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}),
a._pf}function F(a){if(null==a._isValid){var b=n(a),c=tb.call(b.parsedDateParts,function(a){return null!=a});a._isValid=!isNaN(a._d.getTime())&&0>b.overflow&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c);a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function P(a){var b=r(NaN);return null!=a?q(n(b),a):n(b).userInvalidated=!0,b}function K(a){return void 0===
a}function ba(a,b){var c,d,e;if(K(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),K(b._i)||(a._i=b._i),K(b._f)||(a._f=b._f),K(b._l)||(a._l=b._l),K(b._strict)||(a._strict=b._strict),K(b._tzm)||(a._tzm=b._tzm),K(b._isUTC)||(a._isUTC=b._isUTC),K(b._offset)||(a._offset=b._offset),K(b._pf)||(a._pf=n(b)),K(b._locale)||(a._locale=b._locale),0<Wa.length)for(c in Wa)d=Wa[c],e=b[d],K(e)||(a[d]=e);return a}function ca(b){ba(this,b);this._d=new Date(null!=b._d?b._d.getTime():NaN);!1===Xa&&(Xa=!0,
a.updateOffset(this),Xa=!1)}function V(a){return a instanceof ca||null!=a&&null!=a._isAMomentObject}function c(a){return 0>a?Math.ceil(a)||0:Math.floor(a)}function B(a){a=+a;var b=0;return 0!==a&&isFinite(a)&&(b=c(a)),b}function R(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&B(a[d])!==B(b[d]))&&g++;return g+f}function X(b){!1===a.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+
b)}function J(b,c){var d=!0;return q(function(){return null!=a.deprecationHandler&&a.deprecationHandler(null,b),d&&(X(b+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+Error().stack),d=!1),c.apply(this,arguments)},c)}function S(b,c){null!=a.deprecationHandler&&a.deprecationHandler(b,c);ub[b]||(X(c),ub[b]=!0)}function Q(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function C(a,b){var c,d=q({},a);for(c in b)g(b,c)&&(f(a[c])&&f(b[c])?
(d[c]={},q(d[c],a[c]),q(d[c],b[c])):null!=b[c]?d[c]=b[c]:delete d[c]);for(c in a)g(a,c)&&!g(b,c)&&f(a[c])&&(d[c]=q({},d[c]));return d}function G(a){null!=a&&this.set(a)}function k(a,b){var c=a.toLowerCase();Ea[c]=Ea[c+"s"]=Ea[b]=a}function z(a){return"string"==typeof a?Ea[a]||Ea[a.toLowerCase()]:void 0}function p(a){var b,c,d={};for(c in a)g(a,c)&&(b=z(c),b&&(d[b]=a[c]));return d}function ea(a){var b=[],c;for(c in a)b.push({unit:c,priority:aa[c]});return b.sort(function(a,b){return a.priority-b.priority}),
b}function M(b,c){return function(d){null!=d?(this.isValid()&&this._d["set"+(this._isUTC?"UTC":"")+b](d),d=(a.updateOffset(this,c),this)):d=l(this,b);return d}}function l(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function t(a,b,c){var d=""+Math.abs(a);return(0<=a?c?"+":"":"-")+Math.pow(10,Math.max(0,b-d.length)).toString().substr(1)+d}function h(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()});a&&(Aa[a]=e);b&&(Aa[b[0]]=function(){return t(e.apply(this,arguments),
b[1],b[2])});c&&(Aa[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function x(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function za(a){var b,c,d=a.match(vb);b=0;for(c=d.length;c>b;b++)Aa[d[b]]?d[b]=Aa[d[b]]:d[b]=x(d[b]);return function(b){var e,f="";for(e=0;c>e;e++)f+=d[e]instanceof Function?d[e].call(b,a):d[e];return f}}function D(a,b){return a.isValid()?(b=y(b,a.localeData()),Ya[b]=Ya[b]||za(b),Ya[b](a)):a.localeData().invalidDate()}
function y(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Ga.lastIndex=0;0<=d&&Ga.test(a);)a=a.replace(Ga,c),Ga.lastIndex=0,--d;return a}function m(a,b,c){Za[a]=Q(b)?b:function(a,d){return a&&c?c:b}}function v(a,b){return g(Za,a)?Za[a](b._strict,b._locale):new RegExp(w(a))}function w(a){return E(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function E(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function A(a,b){var c,
d=b;"string"==typeof a&&(a=[a]);"number"==typeof b&&(d=function(a,c){c[b]=B(a)});for(c=0;c<a.length;c++)$a[a[c]]=d}function Da(a,b){A(a,function(a,c,d,e){d._w=d._w||{};b(a,d._w,d,e)})}function Sa(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()}function ha(a,b){var c;if(!a.isValid())return a;if("string"==typeof b)if(/^\d+$/.test(b))b=B(b);else if(b=a.localeData().monthsParse(b),"number"!=typeof b)return a;return c=Math.min(a.date(),Sa(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),
a}function da(b){return null!=b?(ha(this,b),a.updateOffset(this,!0),this):l(this,"Month")}function mb(){function a(b,c){return c.length-b.length}var b,c,d=[],e=[],f=[];for(b=0;12>b;b++)c=r([2E3,b]),d.push(this.monthsShort(c,"")),e.push(this.months(c,"")),f.push(this.months(c,"")),f.push(this.monthsShort(c,""));d.sort(a);e.sort(a);f.sort(a);for(b=0;12>b;b++)d[b]=E(d[b]),e[b]=E(e[b]);for(b=0;24>b;b++)f[b]=E(f[b]);this._monthsShortRegex=this._monthsRegex=new RegExp("^("+f.join("|")+")","i");this._monthsStrictRegex=
new RegExp("^("+e.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function U(a){return 0===a%4&&0!==a%100||0===a%400}function Ta(a,b,c,d,e,f,g){b=new Date(a,b,c,d,e,f,g);return 100>a&&0<=a&&isFinite(b.getFullYear())&&b.setFullYear(a),b}function ka(a){var b=new Date(Date.UTC.apply(null,arguments));return 100>a&&0<=a&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}function H(a,b,c){c=7+b-c;return-((7+ka(a,0,c).getUTCDay()-b)%7)+c-1}function Z(a,b,c,d,e){var f,
g;c=(7+c-d)%7;d=H(a,d,e);b=1+7*(b-1)+c+d;return 0>=b?(f=a-1,g=(U(f)?366:365)+b):b>(U(a)?366:365)?(f=a+1,g=b-(U(a)?366:365)):(f=a,g=b),{year:f,dayOfYear:g}}function la(a,b,c){var d,e,f=H(a.year(),b,c),f=Math.floor((a.dayOfYear()-f-1)/7)+1;return 1>f?(e=a.year()-1,d=f+fa(e,b,c)):f>fa(a.year(),b,c)?(d=f-fa(a.year(),b,c),e=a.year()+1):(e=a.year(),d=f),{week:d,year:e}}function fa(a,b,c){var d=H(a,b,c);b=H(a+1,b,c);return((U(a)?366:365)-d+b)/7}function Ua(){function a(b,c){return c.length-b.length}var b,
c,d,e,f=[],g=[],h=[],k=[];for(b=0;7>b;b++)c=r([2E3,1]).day(b),d=this.weekdaysMin(c,""),e=this.weekdaysShort(c,""),c=this.weekdays(c,""),f.push(d),g.push(e),h.push(c),k.push(d),k.push(e),k.push(c);f.sort(a);g.sort(a);h.sort(a);k.sort(a);for(b=0;7>b;b++)g[b]=E(g[b]),h[b]=E(h[b]),k[b]=E(k[b]);this._weekdaysMinRegex=this._weekdaysShortRegex=this._weekdaysRegex=new RegExp("^("+k.join("|")+")","i");this._weekdaysStrictRegex=new RegExp("^("+h.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+
g.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+f.join("|")+")","i")}function Va(){return this.hours()%12||12}function nb(a,b){h(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function ob(a,b){return b._meridiemParse}function pb(a){return a?a.toLowerCase().replace("_","-"):a}function qb(a){var b=null;if(!T[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Ha._abbr,require("./locale/"+a),Ba(b)}catch(c){}return T[a]}function Ba(a,b){var c;
return a&&(c=K(b)?ra(a):wb(a,b),c&&(Ha=c)),Ha._abbr}function wb(a,b){if(null!==b){var c=xb;return b.abbr=a,null!=T[a]?(S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),c=T[a]._config):null!=b.parentLocale&&(null!=T[b.parentLocale]?c=T[b.parentLocale]._config:S("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),
T[a]=new G(C(c,b)),Ba(a),T[a]}return delete T[a],null}function ra(a){var c;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Ha;if(!b(a)){if(c=qb(a))return c;a=[a]}a:{for(var d,e,f,g=0;g<a.length;){f=pb(a[g]).split("-");c=f.length;for(d=(d=pb(a[g+1]))?d.split("-"):null;0<c;){if(e=qb(f.slice(0,c).join("-"))){a=e;break a}if(d&&d.length>=c&&R(f,d,!0)>=c-1)break;c--}g++}a=null}return a}function ab(a){var b,c=a._a;return c&&-2===n(a).overflow&&(b=0>c[oa]||11<c[oa]?oa:1>c[ma]||c[ma]>Sa(c[ia],
c[oa])?ma:0>c[Y]||24<c[Y]||24===c[Y]&&(0!==c[ja]||0!==c[pa]||0!==c[wa])?Y:0>c[ja]||59<c[ja]?ja:0>c[pa]||59<c[pa]?pa:0>c[wa]||999<c[wa]?wa:-1,n(a)._overflowDayOfYear&&(ia>b||b>ma)&&(b=ma),n(a)._overflowWeeks&&-1===b&&(b=Xb),n(a)._overflowWeekday&&-1===b&&(b=Yb),n(a).overflow=b),a}function yb(a){var b,c,d,e,f,g;b=a._i;var h=Zb.exec(b)||$b.exec(b);if(h){n(a).iso=!0;b=0;for(c=Ia.length;c>b;b++)if(Ia[b][1].exec(h[1])){e=Ia[b][0];d=!1!==Ia[b][2];break}if(null==e)return void(a._isValid=!1);if(h[3]){b=0;
for(c=bb.length;c>b;b++)if(bb[b][1].exec(h[3])){f=(h[2]||" ")+bb[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(h[4]){if(!ac.exec(h[4]))return void(a._isValid=!1);g="Z"}a._f=e+(f||"")+(g||"");cb(a)}else a._isValid=!1}function bc(b){var c=cc.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(yb(b),void(!1===b._isValid&&(delete b._isValid,a.createFromInputFallback(b))))}function Ca(a,b,c){return null!=a?a:null!=b?b:c}function db(b){var c,d,e,f=[];
if(!b._d){d=new Date(a.now());d=b._useUTC?[d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()]:[d.getFullYear(),d.getMonth(),d.getDate()];if(b._w&&null==b._a[ma]&&null==b._a[oa]){var g,h,k,l,m,q,p,r;g=b._w;null!=g.GG||null!=g.W||null!=g.E?(m=1,q=4,h=Ca(g.GG,b._a[ia],la(N(),1,4).year),k=Ca(g.W,1),l=Ca(g.E,1),(1>l||7<l)&&(r=!0)):(m=b._locale._week.dow,q=b._locale._week.doy,h=Ca(g.gg,b._a[ia],la(N(),m,q).year),k=Ca(g.w,1),null!=g.d?(l=g.d,(0>l||6<l)&&(r=!0)):null!=g.e?(l=g.e+m,(0>g.e||6<g.e)&&(r=!0)):
l=m);1>k||k>fa(h,m,q)?n(b)._overflowWeeks=!0:null!=r?n(b)._overflowWeekday=!0:(p=Z(h,k,l,m,q),b._a[ia]=p.year,b._dayOfYear=p.dayOfYear)}b._dayOfYear&&(e=Ca(b._a[ia],d[ia]),b._dayOfYear>(U(e)?366:365)&&(n(b)._overflowDayOfYear=!0),c=ka(e,0,b._dayOfYear),b._a[oa]=c.getUTCMonth(),b._a[ma]=c.getUTCDate());for(c=0;3>c&&null==b._a[c];++c)b._a[c]=f[c]=d[c];for(;7>c;c++)b._a[c]=f[c]=null==b._a[c]?2===c?1:0:b._a[c];24===b._a[Y]&&0===b._a[ja]&&0===b._a[pa]&&0===b._a[wa]&&(b._nextDay=!0,b._a[Y]=0);b._d=(b._useUTC?
ka:Ta).apply(null,f);null!=b._tzm&&b._d.setUTCMinutes(b._d.getUTCMinutes()-b._tzm);b._nextDay&&(b._a[Y]=24)}}function cb(b){if(b._f===a.ISO_8601)return void yb(b);b._a=[];n(b).empty=!0;var c,d,e,f,h,k=""+b._i,l=k.length,m=0;e=y(b._f,b._locale).match(vb)||[];for(c=0;c<e.length;c++)if(f=e[c],(d=(k.match(v(f,b))||[])[0])&&(h=k.substr(0,k.indexOf(d)),0<h.length&&n(b).unusedInput.push(h),k=k.slice(k.indexOf(d)+d.length),m+=d.length),Aa[f]){d?n(b).empty=!1:n(b).unusedTokens.push(f);var q=b;null!=d&&g($a,
f)&&$a[f](d,q._a,q,f)}else b._strict&&!d&&n(b).unusedTokens.push(f);n(b).charsLeftOver=l-m;0<k.length&&n(b).unusedInput.push(k);12>=b._a[Y]&&!0===n(b).bigHour&&0<b._a[Y]&&(n(b).bigHour=void 0);n(b).parsedDateParts=b._a.slice(0);n(b).meridiem=b._meridiem;c=b._a;e=Y;k=b._locale;h=b._a[Y];var l=b._meridiem,p,k=null==l?h:null!=k.meridiemHour?k.meridiemHour(h,l):null!=k.isPM?(p=k.isPM(l),p&&12>h&&(h+=12),p||12!==h||(h=0),h):h;c[e]=k;db(b);ab(b)}function dc(a){if(!a._d){var b=p(a._i);a._a=d([b.year,b.month,
b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)});db(a)}}function zb(a){var c=a._i,d=a._f;a._locale=a._locale||ra(a._l);if(null===c||void 0===d&&""===c)a=P({nullInput:!0});else if("string"==typeof c&&(a._i=c=a._locale.preparse(c)),V(c))a=new ca(ab(c));else{if(b(d)){var f,g,h;if(0===a._f.length)n(a).invalidFormat=!0,a._d=new Date(NaN);else{for(c=0;c<a._f.length;c++)d=0,f=ba({},a),null!=a._useUTC&&(f._useUTC=a._useUTC),f._f=a._f[c],cb(f),F(f)&&(d+=n(f).charsLeftOver,
d+=10*n(f).unusedTokens.length,n(f).score=d,(null==h||h>d)&&(h=d,g=f));q(a,g||f)}}else e(c)?a._d=c:d?cb(a):ec(a);a=(F(a)||(a._d=null),a)}return a}function ec(c){var f=c._i;void 0===f?c._d=new Date(a.now()):e(f)?c._d=new Date(f.valueOf()):"string"==typeof f?bc(c):b(f)?(c._a=d(f.slice(0),function(a){return parseInt(a,10)}),db(c)):"object"==typeof f?dc(c):"number"==typeof f?c._d=new Date(f):a.createFromInputFallback(c)}function sb(a,c,d,e,g){var h={};"boolean"==typeof d&&(e=d,d=void 0);var k;if(k=f(a))a:{k=
a;for(var l in k){k=!1;break a}k=!0}(k||b(a)&&0===a.length)&&(a=void 0);h._isAMomentObject=!0;h._useUTC=h._isUTC=g;h._l=d;h._i=a;h._f=c;h._strict=e;a=new ca(ab(zb(h)));return a._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function N(a,b,c,d){return sb(a,b,c,d,!1)}function Ab(a,c){var d,e;if(1===c.length&&b(c[0])&&(c=c[0]),!c.length)return N();d=c[0];for(e=1;e<c.length;++e)c[e].isValid()&&!c[e][a](d)||(d=c[e]);return d}function Ja(a){a=p(a);var b=a.year||0,c=a.quarter||0,d=a.month||0,e=a.week||0,f=
a.day||0;this._milliseconds=+(a.millisecond||0)+1E3*(a.second||0)+6E4*(a.minute||0)+36E5*(a.hour||0);this._days=+f+7*e;this._months=+d+3*c+12*b;this._data={};this._locale=ra();this._bubble()}function eb(a){return a instanceof Ja}function Bb(a,b){h(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+t(~~(a/60),2)+b+t(~~a%60,2)})}function fb(a,b){var c=(b||"").match(a)||[],c=((c[c.length-1]||[])+"").match(fc)||["-",0,0],d=+(60*c[1])+B(c[2]);return"+"===c[0]?d:-d}function gb(b,c){var d,
f;return c._isUTC?(d=c.clone(),f=(V(b)||e(b)?b.valueOf():N(b).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+f),a.updateOffset(d,!1),d):N(b).local()}function hb(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Cb(){return this.isValid()?this._isUTC&&0===this._offset:!1}function sa(a,b){var c,d,e,f=a;e=null;eb(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(f={},b?f[b]=a:f.milliseconds=a):(e=gc.exec(a))?(c="-"===e[1]?-1:1,f={y:0,d:B(e[ma])*c,h:B(e[Y])*c,m:B(e[ja])*
c,s:B(e[pa])*c,ms:B(e[wa])*c}):(e=hc.exec(a))?(c="-"===e[1]?-1:1,f={y:xa(e[2],c),M:xa(e[3],c),w:xa(e[4],c),d:xa(e[5],c),h:xa(e[6],c),m:xa(e[7],c),s:xa(e[8],c)}):null==f?f={}:"object"==typeof f&&("from"in f||"to"in f)&&(e=N(f.from),f=N(f.to),e=e.isValid()&&f.isValid()?(f=gb(f,e),e.isBefore(f)?c=Db(e,f):(c=Db(f,e),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0},f={},f.ms=e.milliseconds,f.M=e.months);return d=new Ja(f),eb(a)&&g(a,"_locale")&&(d._locale=a._locale),d}function xa(a,
b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function Db(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function Eb(a){return 0>a?-1*Math.round(-1*a):Math.round(a)}function Fb(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(S(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),
f=c,c=d,d=f),c="string"==typeof c?+c:c,e=sa(c,d),Gb(this,e,a),this}}function Gb(b,c,d,e){var f=c._milliseconds,g=Eb(c._days);c=Eb(c._months);b.isValid()&&(e=null==e?!0:e,f&&b._d.setTime(b._d.valueOf()+f*d),g&&(f=l(b,"Date")+g*d,b.isValid()&&b._d["set"+(b._isUTC?"UTC":"")+"Date"](f)),c&&ha(b,l(b,"Month")+c*d),e&&a.updateOffset(b,g||c))}function Hb(a){var b;return void 0===a?this._locale._abbr:(b=ra(a),null!=b&&(this._locale=b),this)}function Ib(){return this._locale}function Ka(a,b){h(0,[a,a.length],
0,b)}function Jb(a,b,c,d,e){var f;null==a?a=la(this,d,e).year:(f=fa(a,d,e),b>f&&(b=f),a=Z(a,b,c,d,e),a=ka(a.year,0,a.dayOfYear),a=(this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this));return a}function ic(a,b){b[wa]=B(1E3*("0."+a))}function Kb(a){return a}function La(a,b,c,d){var e=ra();b=r().set(d,b);return e[c](b,a)}function Lb(a,b,c){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return La(a,b,c,"month");var d=[];for(b=0;12>b;b++)d[b]=La(a,b,c,"month");
return d}function ib(a,b,c,d){"boolean"==typeof a?("number"==typeof b&&(c=b,b=void 0),b=b||""):(b=a,c=b,a=!1,"number"==typeof b&&(c=b,b=void 0),b=b||"");var e=ra();a=a?e._week.dow:0;if(null!=c)return La(b,(c+a)%7,d,"day");e=[];for(c=0;7>c;c++)e[c]=La(b,(c+a)%7,d,"day");return e}function Mb(a,b,c,d){b=sa(b,c);return a._milliseconds+=d*b._milliseconds,a._days+=d*b._days,a._months+=d*b._months,a._bubble()}function Nb(a){return 0>a?Math.floor(a):Math.ceil(a)}function ta(a){return function(){return this.as(a)}}
function ya(a){return function(){return this._data[a]}}function jc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function Ma(){var a,b,d,e=jb(this._milliseconds)/1E3,f=jb(this._days),g=jb(this._months);a=c(e/60);b=c(a/60);e%=60;a%=60;d=c(g/12);var g=g%12,h=this.asSeconds();return h?(0>h?"-":"")+"P"+(d?d+"Y":"")+(g?g+"M":"")+(f?f+"D":"")+(b||a||e?"T":"")+(b?b+"H":"")+(a?a+"M":"")+(e?e+"S":""):"P0D"}var rb,tb;tb=Array.prototype.some?Array.prototype.some:function(a){for(var b=Object(this),c=b.length>>>
0,d=0;c>d;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1};var Wa=a.momentProperties=[],Xa=!1,ub={};a.suppressDeprecationWarnings=!1;a.deprecationHandler=null;var Ob;Ob=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)g(a,b)&&c.push(b);return c};var W,Ea={},aa={},vb=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ga=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,
Ya={},Aa={},Pb=/\d/,ga=/\d\d/,Qb=/\d{3}/,kb=/\d{4}/,Na=/[+-]?\d{6}/,O=/\d\d?/,Rb=/\d\d\d\d?/,Sb=/\d\d\d\d\d\d?/,Oa=/\d{1,3}/,lb=/\d{1,4}/,Pa=/[+-]?\d{1,6}/,kc=/\d+/,Qa=/[+-]?\d+/,lc=/Z|[+-]\d\d:?\d\d/gi,Ra=/Z|[+-]\d\d(?::?\d\d)?/gi,Fa=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Za={},$a={},ia=0,oa=1,ma=2,Y=3,ja=4,pa=5,wa=6,Xb=7,Yb=8;W=Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b;for(b=0;b<this.length;++b)if(this[b]===
a)return b;return-1};h("M",["MM",2],"Mo",function(){return this.month()+1});h("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)});h("MMMM",0,0,function(a){return this.localeData().months(this,a)});k("month","M");aa.month=8;m("M",O);m("MM",O,ga);m("MMM",function(a,b){return b.monthsShortRegex(a)});m("MMMM",function(a,b){return b.monthsRegex(a)});A(["M","MM"],function(a,b){b[oa]=B(a)-1});A(["MMM","MMMM"],function(a,b,c,d){d=c._locale.monthsParse(a,d,c._strict);null!=d?b[oa]=d:n(c).invalidMonth=
a});var Tb=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/;h("Y",0,0,function(){var a=this.year();return 9999>=a?""+a:"+"+a});h(0,["YY",2],0,function(){return this.year()%100});h(0,["YYYY",4],0,"year");h(0,["YYYYY",5],0,"year");h(0,["YYYYYY",6,!0],0,"year");k("year","y");aa.year=1;m("Y",Qa);m("YY",O,ga);m("YYYY",lb,kb);m("YYYYY",Pa,Na);m("YYYYYY",Pa,Na);A(["YYYYY","YYYYYY"],ia);A("YYYY",function(b,c){c[ia]=2===b.length?a.parseTwoDigitYear(b):B(b)});A("YY",function(b,c){c[ia]=a.parseTwoDigitYear(b)});A("Y",function(a,
b){b[ia]=parseInt(a,10)});a.parseTwoDigitYear=function(a){return B(a)+(68<B(a)?1900:2E3)};var Ub=M("FullYear",!0);h("w",["ww",2],"wo","week");h("W",["WW",2],"Wo","isoWeek");k("week","w");k("isoWeek","W");aa.week=5;aa.isoWeek=5;m("w",O);m("ww",O,ga);m("W",O);m("WW",O,ga);Da(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=B(a)});h("d",0,"do","day");h("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)});h("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)});h("dddd",
0,0,function(a){return this.localeData().weekdays(this,a)});h("e",0,0,"weekday");h("E",0,0,"isoWeekday");k("day","d");k("weekday","e");k("isoWeekday","E");aa.day=11;aa.weekday=11;aa.isoWeekday=11;m("d",O);m("e",O);m("E",O);m("dd",function(a,b){return b.weekdaysMinRegex(a)});m("ddd",function(a,b){return b.weekdaysShortRegex(a)});m("dddd",function(a,b){return b.weekdaysRegex(a)});Da(["dd","ddd","dddd"],function(a,b,c,d){d=c._locale.weekdaysParse(a,d,c._strict);null!=d?b.d=d:n(c).invalidWeekday=a});
Da(["d","e","E"],function(a,b,c,d){b[d]=B(a)});h("H",["HH",2],0,"hour");h("h",["hh",2],0,Va);h("k",["kk",2],0,function(){return this.hours()||24});h("hmm",0,0,function(){return""+Va.apply(this)+t(this.minutes(),2)});h("hmmss",0,0,function(){return""+Va.apply(this)+t(this.minutes(),2)+t(this.seconds(),2)});h("Hmm",0,0,function(){return""+this.hours()+t(this.minutes(),2)});h("Hmmss",0,0,function(){return""+this.hours()+t(this.minutes(),2)+t(this.seconds(),2)});nb("a",!0);nb("A",!1);k("hour","h");aa.hour=
13;m("a",ob);m("A",ob);m("H",O);m("h",O);m("HH",O,ga);m("hh",O,ga);m("hmm",Rb);m("hmmss",Sb);m("Hmm",Rb);m("Hmmss",Sb);A(["H","HH"],Y);A(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a);c._meridiem=a});A(["h","hh"],function(a,b,c){b[Y]=B(a);n(c).bigHour=!0});A("hmm",function(a,b,c){var d=a.length-2;b[Y]=B(a.substr(0,d));b[ja]=B(a.substr(d));n(c).bigHour=!0});A("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[Y]=B(a.substr(0,d));b[ja]=B(a.substr(d,2));b[pa]=B(a.substr(e));n(c).bigHour=!0});
A("Hmm",function(a,b,c){c=a.length-2;b[Y]=B(a.substr(0,c));b[ja]=B(a.substr(c))});A("Hmmss",function(a,b,c){c=a.length-4;var d=a.length-2;b[Y]=B(a.substr(0,c));b[ja]=B(a.substr(c,2));b[pa]=B(a.substr(d))});var Ha,mc=M("Hours",!0),xb={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},
invalidDate:"Invalid date",ordinal:"%d",ordinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),week:{dow:0,doy:6},weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),meridiemParse:/[ap]\.?m?\.?/i},T={},Zb=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,$b=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ac=/Z|[+-]\d\d(?::?\d\d)?/,Ia=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",
/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],bb=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],
["HHmm",/\d\d\d\d/],["HH",/\d\d/]],cc=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=J("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});a.ISO_8601=function(){};var nc=J("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=N.apply(null,arguments);
return this.isValid()&&a.isValid()?this>a?this:a:P()}),oc=J("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=N.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:P()});Bb("Z",":");Bb("ZZ","");m("Z",Ra);m("ZZ",Ra);A(["Z","ZZ"],function(a,b,c){c._useUTC=!0;c._tzm=fb(Ra,a)});var fc=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var gc=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,hc=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;
sa.fn=Ja.prototype;var pc=Fb(1,"add"),qc=Fb(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Vb=J("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});h(0,["gg",2],0,function(){return this.weekYear()%100});h(0,["GG",2],0,function(){return this.isoWeekYear()%100});Ka("gggg","weekYear");Ka("ggggg",
"weekYear");Ka("GGGG","isoWeekYear");Ka("GGGGG","isoWeekYear");k("weekYear","gg");k("isoWeekYear","GG");aa.weekYear=1;aa.isoWeekYear=1;m("G",Qa);m("g",Qa);m("GG",O,ga);m("gg",O,ga);m("GGGG",lb,kb);m("gggg",lb,kb);m("GGGGG",Pa,Na);m("ggggg",Pa,Na);Da(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=B(a)});Da(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)});h("Q",0,"Qo","quarter");k("quarter","Q");aa.quarter=7;m("Q",Pb);A("Q",function(a,b){b[oa]=3*(B(a)-1)});h("D",["DD",
2],"Do","date");k("date","D");aa.date=9;m("D",O);m("DD",O,ga);m("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient});A(["D","DD"],ma);A("Do",function(a,b){b[ma]=B(a.match(O)[0],10)});var Wb=M("Date",!0);h("DDD",["DDDD",3],"DDDo","dayOfYear");k("dayOfYear","DDD");aa.dayOfYear=4;m("DDD",Oa);m("DDDD",Qb);A(["DDD","DDDD"],function(a,b,c){c._dayOfYear=B(a)});h("m",["mm",2],0,"minute");k("minute","m");aa.minute=14;m("m",O);m("mm",O,ga);A(["m","mm"],ja);var rc=M("Minutes",!1);h("s",["ss",
2],0,"second");k("second","s");aa.second=15;m("s",O);m("ss",O,ga);A(["s","ss"],pa);var sc=M("Seconds",!1);h("S",0,0,function(){return~~(this.millisecond()/100)});h(0,["SS",2],0,function(){return~~(this.millisecond()/10)});h(0,["SSS",3],0,"millisecond");h(0,["SSSS",4],0,function(){return 10*this.millisecond()});h(0,["SSSSS",5],0,function(){return 100*this.millisecond()});h(0,["SSSSSS",6],0,function(){return 1E3*this.millisecond()});h(0,["SSSSSSS",7],0,function(){return 1E4*this.millisecond()});h(0,
["SSSSSSSS",8],0,function(){return 1E5*this.millisecond()});h(0,["SSSSSSSSS",9],0,function(){return 1E6*this.millisecond()});k("millisecond","ms");aa.millisecond=16;m("S",Oa,Pb);m("SS",Oa,ga);m("SSS",Oa,Qb);var na;for(na="SSSS";9>=na.length;na+="S")m(na,kc);for(na="S";9>=na.length;na+="S")A(na,ic);var tc=M("Milliseconds",!1);h("z",0,0,"zoneAbbr");h("zz",0,0,"zoneName");var u=ca.prototype;u.add=pc;u.calendar=function(b,c){var d=b||N(),e=gb(d,this).startOf("day"),e=a.calendarFormat(this,e)||"sameElse",
f=c&&(Q(c[e])?c[e].call(this,d):c[e]);return this.format(f||this.localeData().calendar(e,this,N(d)))};u.clone=function(){return new ca(this)};u.diff=function(a,b,d){var e,f;if(this.isValid())if(a=gb(a,this),a.isValid()){e=6E4*(a.utcOffset()-this.utcOffset());b=z(b);if("year"===b||"month"===b||"quarter"===b){var g;e=12*(a.year()-this.year())+(a.month()-this.month());var h=this.clone().add(e,"months");a=(0>a-h?(f=this.clone().add(e-1,"months"),g=(a-h)/(h-f)):(f=this.clone().add(e+1,"months"),g=(a-h)/
(f-h)),-(e+g)||0);"quarter"===b?a/=3:"year"===b&&(a/=12)}else f=this-a,a="second"===b?f/1E3:"minute"===b?f/6E4:"hour"===b?f/36E5:"day"===b?(f-e)/864E5:"week"===b?(f-e)/6048E5:f;b=d?a:c(a)}else b=NaN;else b=NaN;return b};u.endOf=function(a){return a=z(a),void 0===a||"millisecond"===a?this:("date"===a&&(a="day"),this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms"))};u.format=function(b){b||(b=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);b=D(this,b);return this.localeData().postformat(b)};
u.from=function(a,b){return this.isValid()&&(V(a)&&a.isValid()||N(a).isValid())?sa({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()};u.fromNow=function(a){return this.from(N(),a)};u.to=function(a,b){return this.isValid()&&(V(a)&&a.isValid()||N(a).isValid())?sa({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()};u.toNow=function(a){return this.to(N(),a)};u.get=function(a){return a=z(a),Q(this[a])?this[a]():this};u.invalidAt=function(){return n(this).overflow};
u.isAfter=function(a,b){var c=V(a)?a:N(a);return this.isValid()&&c.isValid()?(b=z(K(b)?"millisecond":b),"millisecond"===b?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(b).valueOf()):!1};u.isBefore=function(a,b){var c=V(a)?a:N(a);return this.isValid()&&c.isValid()?(b=z(K(b)?"millisecond":b),"millisecond"===b?this.valueOf()<c.valueOf():this.clone().endOf(b).valueOf()<c.valueOf()):!1};u.isBetween=function(a,b,c,d){return d=d||"()",("("===d[0]?this.isAfter(a,c):!this.isBefore(a,c))&&(")"===
d[1]?this.isBefore(b,c):!this.isAfter(b,c))};u.isSame=function(a,b){var c,d=V(a)?a:N(a);return this.isValid()&&d.isValid()?(b=z(b||"millisecond"),"millisecond"===b?this.valueOf()===d.valueOf():(c=d.valueOf(),this.clone().startOf(b).valueOf()<=c&&c<=this.clone().endOf(b).valueOf())):!1};u.isSameOrAfter=function(a,b){return this.isSame(a,b)||this.isAfter(a,b)};u.isSameOrBefore=function(a,b){return this.isSame(a,b)||this.isBefore(a,b)};u.isValid=function(){return F(this)};u.lang=Vb;u.locale=Hb;u.localeData=
Ib;u.max=oc;u.min=nc;u.parsingFlags=function(){return q({},n(this))};u.set=function(a,b){if("object"==typeof a){a=p(a);for(var c=ea(a),d=0;d<c.length;d++)this[c[d].unit](a[c[d].unit])}else if(a=z(a),Q(this[a]))return this[a](b);return this};u.startOf=function(a){switch(a=z(a)){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":case "date":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===
a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this};u.subtract=qc;u.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]};u.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}};u.toDate=function(){return new Date(this.valueOf())};u.toISOString=
function(){var a=this.clone().utc();return 0<a.year()&&9999>=a.year()?Q(Date.prototype.toISOString)?this.toDate().toISOString():D(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):D(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")};u.toJSON=function(){return this.isValid()?this.toISOString():null};u.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")};u.unix=function(){return Math.floor(this.valueOf()/1E3)};u.valueOf=function(){return this._d.valueOf()-6E4*(this._offset||0)};u.creationData=
function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}};u.year=Ub;u.isLeapYear=function(){return U(this.year())};u.weekYear=function(a){return Jb.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)};u.isoWeekYear=function(a){return Jb.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)};u.quarter=u.quarters=function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)};u.month=
da;u.daysInMonth=function(){return Sa(this.year(),this.month())};u.week=u.weeks=function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")};u.isoWeek=u.isoWeeks=function(a){var b=la(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")};u.weeksInYear=function(){var a=this.localeData()._week;return fa(this.year(),a.dow,a.doy)};u.isoWeeksInYear=function(){return fa(this.year(),1,4)};u.date=Wb;u.day=u.days=function(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?
this._d.getUTCDay():this._d.getDay();if(null!=a)var c=a,d=this.localeData(),b=(a="string"!=typeof c?c:isNaN(c)?(c=d.weekdaysParse(c),"number"==typeof c?c:null):parseInt(c,10),this.add(a-b,"d"));return b};u.weekday=function(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")};u.isoWeekday=function(a){if(!this.isValid())return null!=a?this:NaN;if(null!=a){var b=this.localeData();a="string"==typeof a?b.weekdaysParse(a)%7||
7:isNaN(a)?null:a;return this.day(this.day()%7?a:a-7)}return this.day()||7};u.dayOfYear=function(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")};u.hour=u.hours=mc;u.minute=u.minutes=rc;u.second=u.seconds=sc;u.millisecond=u.milliseconds=tc;u.utcOffset=function(b,c){var d,e=this._offset||0;return this.isValid()?null!=b?("string"==typeof b?b=fb(Ra,b):16>Math.abs(b)&&(b*=60),!this._isUTC&&c&&(d=hb(this)),this._offset=b,this._isUTC=
!0,null!=d&&this.add(d,"m"),e!==b&&(!c||this._changeInProgress?Gb(this,sa(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:hb(this):null!=b?this:NaN};u.utc=function(a){return this.utcOffset(0,a)};u.local=function(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(hb(this),"m")),this};u.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(fb(lc,
this._i)),this};u.hasAlignedHourOffset=function(a){return this.isValid()?(a=a?N(a).utcOffset():0,0===(this.utcOffset()-a)%60):!1};u.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()};u.isLocal=function(){return this.isValid()?!this._isUTC:!1};u.isUtcOffset=function(){return this.isValid()?this._isUTC:!1};u.isUtc=Cb;u.isUTC=Cb;u.zoneAbbr=function(){return this._isUTC?"UTC":""};u.zoneName=function(){return this._isUTC?"Coordinated Universal Time":
""};u.dates=J("dates accessor is deprecated. Use date instead.",Wb);u.months=J("months accessor is deprecated. Use month instead",da);u.years=J("years accessor is deprecated. Use year instead",Ub);u.zone=J("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()});u.isDSTShifted=J("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",
function(){if(!K(this._isDSTShifted))return this._isDSTShifted;var a={};if(ba(a,this),a=zb(a),a._a){var b=a._isUTC?r(a._a):N(a._a);this._isDSTShifted=this.isValid()&&0<R(a._a,b.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var L=G.prototype;L.calendar=function(a,b,c){a=this._calendar[a]||this._calendar.sameElse;return Q(a)?a.call(b,c):a};L.longDateFormat=function(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,
function(a){return a.slice(1)}),this._longDateFormat[a])};L.invalidDate=function(){return this._invalidDate};L.ordinal=function(a){return this._ordinal.replace("%d",a)};L.preparse=Kb;L.postformat=Kb;L.relativeTime=function(a,b,c,d){var e=this._relativeTime[c];return Q(e)?e(a,b,c,d):e.replace(/%d/i,a)};L.pastFuture=function(a,b){var c=this._relativeTime[0<a?"future":"past"];return Q(c)?c(b):c.replace(/%s/i,b)};L.set=function(a){var b,c;for(c in a)b=a[c],Q(b)?this[c]=b:this["_"+c]=b;this._config=a;
this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)};L.months=function(a,c){return b(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||Tb).test(c)?"format":"standalone"][a.month()]};L.monthsShort=function(a,c){return b(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[Tb.test(c)?"format":"standalone"][a.month()]};L.monthsParse=function(a,b,c){var d,e,f;if(this._monthsParseExact){f=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=
[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;12>a;++a)e=r([2E3,a]),this._shortMonthsParse[a]=this.monthsShort(e,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(e,"").toLocaleLowerCase();return c?"MMM"===b?(d=W.call(this._shortMonthsParse,f),-1!==d?d:null):(d=W.call(this._longMonthsParse,f),-1!==d?d:null):"MMM"===b?(d=W.call(this._shortMonthsParse,f),-1!==d?d:(d=W.call(this._longMonthsParse,f),-1!==d?d:null)):(d=W.call(this._longMonthsParse,f),-1!==d?d:(d=W.call(this._shortMonthsParse,
f),-1!==d?d:null))}this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]);for(d=0;12>d;d++)if((e=r([2E3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))||
c&&"MMM"===b&&this._shortMonthsParse[d].test(a)||!c&&this._monthsParse[d].test(a))return d};L.monthsRegex=function(a){return this._monthsParseExact?(g(this,"_monthsRegex")||mb.call(this),a?this._monthsStrictRegex:this._monthsRegex):(g(this,"_monthsRegex")||(this._monthsRegex=Fa),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)};L.monthsShortRegex=function(a){return this._monthsParseExact?(g(this,"_monthsRegex")||mb.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):
(g(this,"_monthsShortRegex")||(this._monthsShortRegex=Fa),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)};L.week=function(a){return la(a,this._week.dow,this._week.doy).week};L.firstDayOfYear=function(){return this._week.doy};L.firstDayOfWeek=function(){return this._week.dow};L.weekdays=function(a,c){return b(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(c)?"format":"standalone"][a.day()]};L.weekdaysMin=function(a){return this._weekdaysMin[a.day()]};
L.weekdaysShort=function(a){return this._weekdaysShort[a.day()]};L.weekdaysParse=function(a,b,c){var d,e,f;if(this._weekdaysParseExact){f=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;7>a;++a)e=r([2E3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(e,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(e,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(e,"").toLocaleLowerCase();
return c?"dddd"===b?(d=W.call(this._weekdaysParse,f),-1!==d?d:null):"ddd"===b?(d=W.call(this._shortWeekdaysParse,f),-1!==d?d:null):(d=W.call(this._minWeekdaysParse,f),-1!==d?d:null):"dddd"===b?(d=W.call(this._weekdaysParse,f),-1!==d?d:(d=W.call(this._shortWeekdaysParse,f),-1!==d?d:(d=W.call(this._minWeekdaysParse,f),-1!==d?d:null))):"ddd"===b?(d=W.call(this._shortWeekdaysParse,f),-1!==d?d:(d=W.call(this._weekdaysParse,f),-1!==d?d:(d=W.call(this._minWeekdaysParse,f),-1!==d?d:null))):(d=W.call(this._minWeekdaysParse,
f),-1!==d?d:(d=W.call(this._weekdaysParse,f),-1!==d?d:(d=W.call(this._shortWeekdaysParse,f),-1!==d?d:null)))}this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]);for(d=0;7>d;d++)if((e=r([2E3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=
new RegExp("^"+this.weekdaysMin(e,"").replace(".",".?")+"$","i")),this._weekdaysParse[d]||(f="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))||c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a)||c&&"dd"===b&&this._minWeekdaysParse[d].test(a)||!c&&this._weekdaysParse[d].test(a))return d};L.weekdaysRegex=function(a){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||
Ua.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(g(this,"_weekdaysRegex")||(this._weekdaysRegex=Fa),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)};L.weekdaysShortRegex=function(a){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||Ua.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(g(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Fa),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)};
L.weekdaysMinRegex=function(a){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||Ua.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(g(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Fa),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)};L.isPM=function(a){return"p"===(a+"").toLowerCase().charAt(0)};L.meridiem=function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"};Ba("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=
a%10,b=1===B(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+b}});a.lang=J("moment.lang is deprecated. Use moment.locale instead.",Ba);a.langData=J("moment.langData is deprecated. Use moment.localeData instead.",ra);var qa=Math.abs,uc=ta("ms"),vc=ta("s"),wc=ta("m"),xc=ta("h"),yc=ta("d"),zc=ta("w"),Ac=ta("M"),Bc=ta("y"),Cc=ya("milliseconds"),Dc=ya("seconds"),Ec=ya("minutes"),Fc=ya("hours"),Gc=ya("days"),Hc=ya("months"),Ic=ya("years"),ua=Math.round,va={s:45,m:45,h:22,d:26,M:11},jb=Math.abs,
I=Ja.prototype;I.abs=function(){var a=this._data;return this._milliseconds=qa(this._milliseconds),this._days=qa(this._days),this._months=qa(this._months),a.milliseconds=qa(a.milliseconds),a.seconds=qa(a.seconds),a.minutes=qa(a.minutes),a.hours=qa(a.hours),a.months=qa(a.months),a.years=qa(a.years),this};I.add=function(a,b){return Mb(this,a,b,1)};I.subtract=function(a,b){return Mb(this,a,b,-1)};I.as=function(a){var b,c,d=this._milliseconds;if(a=z(a),"month"===a||"year"===a)return b=this._days+d/864E5,
c=this._months+4800*b/146097,"month"===a?c:c/12;switch(b=this._days+Math.round(146097*this._months/4800),a){case "week":return b/7+d/6048E5;case "day":return b+d/864E5;case "hour":return 24*b+d/36E5;case "minute":return 1440*b+d/6E4;case "second":return 86400*b+d/1E3;case "millisecond":return Math.floor(864E5*b)+d;default:throw Error("Unknown unit "+a);}};I.asMilliseconds=uc;I.asSeconds=vc;I.asMinutes=wc;I.asHours=xc;I.asDays=yc;I.asWeeks=zc;I.asMonths=Ac;I.asYears=Bc;I.valueOf=function(){return this._milliseconds+
864E5*this._days+this._months%12*2592E6+31536E6*B(this._months/12)};I._bubble=function(){var a,b,d,e,f,g=this._milliseconds,h=this._days,k=this._months,l=this._data;return 0<=g&&0<=h&&0<=k||0>=g&&0>=h&&0>=k||(g+=864E5*Nb(146097*k/4800+h),h=0,k=0),l.milliseconds=g%1E3,a=c(g/1E3),l.seconds=a%60,b=c(a/60),l.minutes=b%60,d=c(b/60),l.hours=d%24,h+=c(d/24),f=c(4800*h/146097),k+=f,h-=Nb(146097*f/4800),e=c(k/12),k%=12,l.days=h,l.months=k,l.years=e,this};I.get=function(a){return a=z(a),this[a+"s"]()};I.milliseconds=
Cc;I.seconds=Dc;I.minutes=Ec;I.hours=Fc;I.days=Gc;I.weeks=function(){return c(this.days()/7)};I.months=Hc;I.years=Ic;I.humanize=function(a){var b=this.localeData(),c;c=!a;var d=sa(this).abs(),e=ua(d.as("s")),f=ua(d.as("m")),g=ua(d.as("h")),h=ua(d.as("d")),k=ua(d.as("M")),d=ua(d.as("y")),e=e<va.s&&["s",e]||1>=f&&["m"]||f<va.m&&["mm",f]||1>=g&&["h"]||g<va.h&&["hh",g]||1>=h&&["d"]||h<va.d&&["dd",h]||1>=k&&["M"]||k<va.M&&["MM",k]||1>=d&&["y"]||["yy",d];c=(e[2]=c,e[3]=0<+this,e[4]=b,jc.apply(null,e));
return a&&(c=b.pastFuture(+this,c)),b.postformat(c)};I.toISOString=Ma;I.toString=Ma;I.toJSON=Ma;I.locale=Hb;I.localeData=Ib;I.toIsoString=J("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ma);I.lang=Vb;h("X",0,0,"unix");h("x",0,0,"valueOf");m("x",Qa);m("X",/[+-]?\d+(\.\d{1,3})?/);A("X",function(a,b,c){c._d=new Date(1E3*parseFloat(a,10))});A("x",function(a,b,c){c._d=new Date(B(a))});a.version="2.14.1";rb=N;a.fn=u;a.min=function(){var a=[].slice.call(arguments,
0);return Ab("isBefore",a)};a.max=function(){var a=[].slice.call(arguments,0);return Ab("isAfter",a)};a.now=function(){return Date.now?Date.now():+new Date};a.utc=r;a.unix=function(a){return N(1E3*a)};a.months=function(a,b){return Lb(a,b,"months")};a.isDate=e;a.locale=Ba;a.invalid=P;a.duration=sa;a.isMoment=V;a.weekdays=function(a,b,c){return ib(a,b,c,"weekdays")};a.parseZone=function(){return N.apply(null,arguments).parseZone()};a.localeData=ra;a.isDuration=eb;a.monthsShort=function(a,b){return Lb(a,
b,"monthsShort")};a.weekdaysMin=function(a,b,c){return ib(a,b,c,"weekdaysMin")};a.defineLocale=wb;a.updateLocale=function(a,b){if(null!=b){var c;c=xb;null!=T[a]&&(c=T[a]._config);b=C(c,b);c=new G(b);c.parentLocale=T[a];T[a]=c;Ba(a)}else null!=T[a]&&(null!=T[a].parentLocale?T[a]=T[a].parentLocale:null!=T[a]&&delete T[a]);return T[a]};a.locales=function(){return Ob(T)};a.weekdaysShort=function(a,b,c){return ib(a,b,c,"weekdaysShort")};a.normalizeUnits=z;a.relativeTimeRounding=function(a){return void 0===
a?ua:"function"==typeof a?(ua=a,!0):!1};a.relativeTimeThreshold=function(a,b){return void 0===va[a]?!1:void 0===b?va[a]:(va[a]=b,!0)};a.calendarFormat=function(a,b){var c=a.diff(b,"days",!0);return-6>c?"sameElse":-1>c?"lastWeek":0>c?"lastDay":1>c?"sameDay":2>c?"nextDay":7>c?"nextWeek":"sameElse"};a.prototype=u;return a});
var MomentUtil=function(){return{duration:function(a,b){return(b?moment(b):moment()).diff(moment(a))},formatTime:function(a,b){var f=moment.isMoment(a)?a:moment(a);return a&&f.isValid()?f.format(b):""},formatTimeUTC:function(a,b){return MomentUtil.formatTime(moment.utc(a),b)},formatTimeSimple:function(a){return MomentUtil.formatTime(a,"h:mm:ss a")},formatTimeSimpleUTC:function(a){return MomentUtil.formatTimeUTC(a,"h:mm:ss a")},formatTimeAtDate:function(a){var b=moment.isMoment(a)?a:moment(a);if(!a||
!b.isValid())return"";a=moment();var f=a.diff(b),f=moment.duration(f);return 1>f.asDays()&&a.month()==b.month()?b.format("h:mm a"):1>f.asDays()&&a.month()!=b.month()?b.format("h:mm a"):1>f.asWeeks()?b.format("ddd h:mm a"):b.year()!=a.year()?b.format("MMM Do YYYY h a"):b.format("M/D ha")},formatTimeAtDateUTC:function(a){return MomentUtil.formatTimeAtDate(moment.utc(a))},formatDurationSimple:function(a){if(0>a)return"";a=moment.duration(a);var b=0;1<=a.asYears()&&(b=Math.floor(a.asYears()),a=a.subtract(b,
"years"));var f=0;1<=a.asDays()&&(f=Math.floor(a.asDays()),a=a.subtract(f,"days"));var e=a.minutes(),d=a.seconds();return(0<b?b+"y ":"")+(0<f?f+"d ":"")+a.hours()+"."+(10>e?"0"+e:e)+":"+(10>d?"0"+d:d)},formatDurationHumanize:function(a){if(0>a)return"";var b=moment.duration(a),f=[];0<b.days()&&f.push(b.days()+"d");0<b.hours()&&f.push(b.hours()+"h");0<b.minutes()&&f.push(b.minutes()+"m");0<b.seconds()?(a=b.seconds(),0<b.milliseconds()&&a++,f.push(a+"s")):1E3>a&&f.push("0s");return f.join(" ")},formatDurationMomentHumanize:function(a){return 0>
a?"":moment.duration(a).humanize()}}}();
function StorageResource(){var a=this;a.meta=ko.observable({});a.wasDownloaded=ko.observable(!1);a.downloadError=ko.observable(null);a.metaValue=function(b){return a.meta()&&a.meta()[b]?a.meta()[b]():null};a.wasModified=ko.computed(function(){return a.meta()&&a.meta()["Rundeck-content-creation-time"]&&a.meta()["Rundeck-content-modify-time"]()?a.meta()["Rundeck-content-creation-time"]()!=a.meta()["Rundeck-content-modify-time"]():!1});a.isPrivateKey=ko.computed(function(){return a.meta()&&a.meta()["Rundeck-key-type"]&&
"private"==a.meta()["Rundeck-key-type"]()?!0:!1});a.isPublicKey=ko.computed(function(){return a.meta()&&a.meta()["Rundeck-key-type"]&&"public"==a.meta()["Rundeck-key-type"]()?!0:!1});a.isPassword=ko.computed(function(){return a.meta()&&a.meta()["Rundeck-data-type"]&&"password"==a.meta()["Rundeck-data-type"]()?!0:!1});a.contentSize=ko.computed(function(){return a.meta()&&a.meta()["Rundeck-content-size"]&&a.meta()["Rundeck-content-size"]()?a.meta()["Rundeck-content-size"]():""});a.createdUsername=ko.computed(function(){return a.meta()&&
a.meta()["Rundeck-auth-created-username"]&&a.meta()["Rundeck-auth-created-username"]()?a.meta()["Rundeck-auth-created-username"]():""});a.createdTime=ko.computed(function(){var b="";a.meta()&&a.meta()["Rundeck-content-creation-time"]&&a.meta()["Rundeck-content-creation-time"]()&&(b=MomentUtil.formatTimeAtDate(a.meta()["Rundeck-content-creation-time"]()));return b});a.modifiedTime=ko.computed(function(){var b="";a.meta()&&a.meta()["Rundeck-content-modify-time"]&&a.meta()["Rundeck-content-modify-time"]()&&
(b=MomentUtil.formatTimeAtDate(a.meta()["Rundeck-content-modify-time"]()));return b});a.modifiedTimeAgoText=ko.computed(function(){var b="";a.meta()&&a.meta()["Rundeck-content-modify-time"]&&a.meta()["Rundeck-content-modify-time"]()&&(b=a.meta()["Rundeck-content-modify-time"](),b=MomentUtil.formatDurationHumanize(MomentUtil.duration(b)));return b});a.modifiedUsername=ko.computed(function(){return a.meta()&&a.meta()["Rundeck-auth-modified-username"]&&a.meta()["Rundeck-auth-modified-username"]()?a.meta()["Rundeck-auth-modified-username"]():
""});a.modifiedTimeAgo=function(b){var f=a.modifiedTimeAgoText();return f?f+" "+b:""}}function StorageDir(a,b,f){var e=this;e.load=function(){a.loadDir(e.name())}}
function StorageUpload(a){var b=this;b.storage=a;b.modifyMode=ko.observable(!1);b.keyType=ko.observable("private");b.inputType=ko.observable("text");b.file=ko.observable("");b.textArea=ko.observable("");b.password=ko.observable("");b.fileName=ko.observable("");b.fileInputName=ko.computed(function(){var a=b.file();return a?0<=a.lastIndexOf("/")?a.substring(a.lastIndexOf("/")+1):0<=a.lastIndexOf("\\")?a.substring(a.lastIndexOf("\\")+1):a:""});b.validInput=ko.computed(function(){var a=b.inputType(),
e=b.file(),d=b.textArea(),g=b.password();return"text"==a?d||g?!0:!1:e?!0:!1});b.inputFullpath=ko.computed(function(){var a=b.fileName(),e=b.fileInputName(),d=b.storage.absolutePath(b.storage.inputPath());return(d?d.lastIndexOf("/")==d.length-1?d:d+"/":"")+(a?a:e)});b.inputType.subscribe(function(a){"text"==a?b.file(""):(b.textArea(""),b.password(""))});b.keyType.subscribe(function(a){"password"==a?(b.textArea(""),b.inputType("text")):b.password("")})}
function StorageBrowser(a,b,f){var e=this;e.baseUrl=a;e.fileSelect=f;e.rootPath=ko.observable(b);e.staticRoot=ko.observable(!1);e.errorMsg=ko.observable();e.path=ko.observable("");e.inputPath=ko.observable("");e.selectedPath=ko.observable();e.selectedResource=ko.observable();e.selectedIsDownloadable=ko.observable(!1);e.fileFilter=ko.observable();e.fieldTarget=ko.observable();e.resources=ko.observableArray([]);e.loading=ko.observable(!1);e.invalid=ko.observable(!1);e.browseMode=ko.observable("browse");
e.allowUpload=ko.observable(!1);e.allowSelection=ko.observable(!0);e.allowNotFound=ko.observable(!1);e.notFound=ko.observable(!1);e.files=ko.computed(function(){return ko.utils.arrayFilter(e.resources(),function(a){return"file"==a.type()}).sort(function(a,b){return a.path()==b.path()?0:a.path()<b.path()?-1:1})});e.filteredFiles=ko.computed(function(){return ko.utils.arrayFilter(e.files(),function(a){if(e.fileFilter()){var b=e.fileFilter().split("=");if(1<b.length){var f=b[1];return a.metaValue(b[0])==
f}}return!0})});e.directories=ko.computed(function(){return ko.utils.arrayFilter(e.resources(),function(a){return"directory"==a.type()}).sort(function(a,b){return a.path()==b.path()?0:a.path()<b.path()?-1:1})});e.selectedPathUrl=ko.computed(function(){return _genUrl(appLinks.storageKeysBrowse+"/"+e.selectedPath())});e.cleanPath=function(a){if(null!=a)for(;0==a.indexOf("/");)a=a.substring(1);else return"";return a};e.relativePath=function(a){var b=e.rootPath();if(!e.staticRoot())return a;var f="";
a&&b&&(a=e.cleanPath(a),f=e.cleanPath(a.substring(b.length)));return f};e.absolutePath=function(a){var b=e.rootPath();return e.staticRoot()?b+"/"+a:a};e.dirNameString=function(a){return 0<=a.lastIndexOf("/")?a.substring(a.lastIndexOf("/")+1):a};e.parentDirString=function(a){return null!=a&&0<=a.lastIndexOf("/")?a.substring(0,a.lastIndexOf("/")):""};e.dirName=function(a){return"string"==typeof a?e.dirNameString(a):"directory"==a.type()?e.dirNameString(a.path()):a.name()};e.upPath=ko.computed(function(){return e.path()!=
e.rootPath()&&e.path()!=e.rootPath()+"/"?0<=e.path().indexOf("/")?e.path().substring(0,e.path().lastIndexOf("/")):e.rootPath():null});e.loadDir=function(a){var b="string"==typeof a?a:a.path();a!=e.path()&&e.selectedPath(null);e.path(b)};e.initialLoad=function(){e.path(e.rootPath())};e.selectFile=function(a){if(e.allowSelection()){var b=!1;e.selectedPath()==a.path()?(e.selectedPath(null),e.selectedResource(null)):(e.selectedPath(a.path()),e.selectedResource(a),b="private"!=a.metaValue("Rundeck-key-type")&&
"password"!=a.metaValue("Rundeck-data-type"));e.selectedIsDownloadable(b)}};e.actionUploadModify=function(){e.selectedResource()&&(e.upload.fileName(e.selectedResource().name()),e.inputPath(e.relativePath(e.parentDirString(e.selectedResource().path()))),e.upload.keyType(e.selectedResource().isPrivateKey()?"private":e.selectedResource().isPublicKey()?"public":"password"),e.upload.modifyMode(!0),jQuery("#storageuploadkey").modal("show"))};e.actionUpload=function(){e.upload.modifyMode(!1);e.upload.fileName("");
jQuery("#storageuploadkey").modal("show")};e.actionLoadContents=function(a,b){e.selectedResource()&&e.selectedResource().isPublicKey()&&(jQuery(b).button("loading"),jQuery.ajax({url:_genUrl(appLinks.storageKeysDownload,{relativePath:e.relativePath(e.selectedPath())}),success:function(f,r){jQuery(b).button("reset");var n=jQuery("#"+a);setText(n[0],f);e.selectedResource().wasDownloaded(!0)},error:function(a,d,f){jQuery(b).button("reset");e.selectedResource().downloadError(f+" : "+a.responseText)}}))};
e.download=function(){e.selectedPath()&&(document.location=_genUrl(appLinks.storageKeysDownload,{relativePath:e.relativePath(e.selectedPath())}))};e.delete=function(){e.selectedPath()&&jQuery.ajax({dataType:"json",method:"post",url:_genUrl(appLinks.storageKeysDelete,{relativePath:e.relativePath(e.selectedPath())}),beforeSend:_ajaxSendTokens.curry("storage_browser_token"),data:{},success:function(a,b,f){e.selectedPath(null);e.loadPath(e.path())},error:function(a,b,f){e.loading(!1);404==a.status?e.pathNotFound(val):
a.responseJSON&&a.responseJSON.message?e.errorMsg(a.responseJSON.message):e.errorMsg(b+": "+f)}}).success(_ajaxReceiveTokens.curry("storage_browser_token"))};e.browseToInputPath=function(){e.path(e.absolutePath(e.inputPath()))};e.pathNotFound=function(a){e.notFound(!0);e.allowNotFound()?(e.resources([]),e.selectedPath(null),e.inputPath(e.relativePath(a))):(e.invalid(!0),e.errorMsg("Path not found: "+a))};e.loadPath=function(a){var b={resources:{key:function(a){return ko.utils.unwrapObservable(a.path)},
create:function(a){var b=new StorageResource;return ko.mapping.fromJS(a.data,{},b)}}};e.loading(!0);e.inputPath(e.relativePath(a));jQuery.ajax({dataType:"json",url:_genUrl(e.baseUrl,{relativePath:e.relativePath(a)}),data:{},success:function(f,r,n){e.loading(!1);"file"==f.type?(e.selectedPath(a),e.inputPath(e.relativePath(e.parentDirString(a))),e.browseToInputPath()):(e.errorMsg(null),e.invalid(!1),e.notFound(!1),f.resources||(f.resources=[]),ko.mapping.fromJS(f,b,e),e.selectedPath()&&((f=ko.utils.arrayFirst(e.resources(),
function(a){return a.path()==e.selectedPath()}))?(e.selectedPath(null),e.selectFile(f)):e.selectedPath(null)))},error:function(b,f,g){e.loading(!1);404==b.status?e.pathNotFound(a):e.errorMsg(f+": "+g)}})};e.path.subscribe(function(a){e.loadPath(a)});e.selectedResource.subscribe(function(a){a&&a.wasDownloaded(!1)},null,"beforeChange");e.browse=function(a,b,f){a&&e.rootPath(e.cleanPath(a));b?e.fileFilter(b):e.fileFilter(null);f?(a=e.cleanPath(f),e.selectedPath(a),e.path(e.parentDirString(a))):e.initialLoad()};
e.pathInRoot=ko.computed(function(){e.rootPath();e.staticRoot();var a=e.path();return e.relativePath(a)});e.selectedPathInRoot=ko.computed(function(){e.rootPath();e.staticRoot();var a=e.selectedPath();return e.relativePath(a)});e.upload=new StorageUpload(e)};