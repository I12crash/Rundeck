//# sourceMappingURL=adhoc.js.map
!function(d,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):d.moment=e()}(this,function(){function d(){return ob.apply(null,arguments)}function e(q){return q instanceof Array||"[object Array]"===Object.prototype.toString.call(q)}function h(q){return"[object Object]"===Object.prototype.toString.call(q)}function a(q){return q instanceof Date||"[object Date]"===Object.prototype.toString.call(q)}function c(q,b){var a,f=[];for(a=
0;a<q.length;++a)f.push(b(q[a],a));return f}function g(q,b){return Object.prototype.hasOwnProperty.call(q,b)}function k(q,b){for(var a in b)g(b,a)&&(q[a]=b[a]);return g(b,"toString")&&(q.toString=b.toString),g(b,"valueOf")&&(q.valueOf=b.valueOf),q}function n(q,b,a,f){return pb(q,b,a,f,!0).utc()}function m(q){return null==q._pf&&(q._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}),
q._pf}function x(q){if(null==q._isValid){var b=m(q),a=qb.call(b.parsedDateParts,function(q){return null!=q});q._isValid=!isNaN(q._d.getTime())&&0>b.overflow&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&a);q._strict&&(q._isValid=q._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return q._isValid}function H(q){var b=n(NaN);return null!=q?k(m(b),q):m(b).userInvalidated=!0,b}function A(q){return void 0===
q}function I(q,b){var a,f,c;if(A(b._isAMomentObject)||(q._isAMomentObject=b._isAMomentObject),A(b._i)||(q._i=b._i),A(b._f)||(q._f=b._f),A(b._l)||(q._l=b._l),A(b._strict)||(q._strict=b._strict),A(b._tzm)||(q._tzm=b._tzm),A(b._isUTC)||(q._isUTC=b._isUTC),A(b._offset)||(q._offset=b._offset),A(b._pf)||(q._pf=m(b)),A(b._locale)||(q._locale=b._locale),0<Ua.length)for(a in Ua)f=Ua[a],c=b[f],A(c)||(q[f]=c);return q}function O(q){I(this,q);this._d=new Date(null!=q._d?q._d.getTime():NaN);!1===Va&&(Va=!0,d.updateOffset(this),
Va=!1)}function P(q){return q instanceof O||null!=q&&null!=q._isAMomentObject}function b(q){return 0>q?Math.ceil(q)||0:Math.floor(q)}function B(q){q=+q;var a=0;return 0!==q&&isFinite(q)&&(a=b(q)),a}function ba(q,b,a){var f,c=Math.min(q.length,b.length),d=Math.abs(q.length-b.length),g=0;for(f=0;c>f;f++)(a&&q[f]!==b[f]||!a&&B(q[f])!==B(b[f]))&&g++;return g+d}function X(q){!1===d.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+q)}function J(q,
b){var a=!0;return k(function(){return null!=d.deprecationHandler&&d.deprecationHandler(null,q),a&&(X(q+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+Error().stack),a=!1),b.apply(this,arguments)},b)}function S(q,b){null!=d.deprecationHandler&&d.deprecationHandler(q,b);rb[q]||(X(b),rb[q]=!0)}function V(q){return q instanceof Function||"[object Function]"===Object.prototype.toString.call(q)}function C(q,b){var a,f=k({},q);for(a in b)g(b,a)&&(h(q[a])&&h(b[a])?(f[a]={},k(f[a],
q[a]),k(f[a],b[a])):null!=b[a]?f[a]=b[a]:delete f[a]);for(a in q)g(q,a)&&!g(b,a)&&h(q[a])&&(f[a]=k({},f[a]));return f}function D(b){null!=b&&this.set(b)}function t(b,a){var f=b.toLowerCase();Da[f]=Da[f+"s"]=Da[a]=b}function K(b){return"string"==typeof b?Da[b]||Da[b.toLowerCase()]:void 0}function y(b){var a,f,c={};for(f in b)g(b,f)&&(a=K(f),a&&(c[a]=b[f]));return c}function da(b){var a=[],f;for(f in b)a.push({unit:f,priority:Z[f]});return a.sort(function(b,q){return b.priority-q.priority}),a}function M(b,
a){return function(c){null!=c?(this.isValid()&&this._d["set"+(this._isUTC?"UTC":"")+b](c),c=(d.updateOffset(this,a),this)):c=f(this,b);return c}}function f(b,a){return b.isValid()?b._d["get"+(b._isUTC?"UTC":"")+a]():NaN}function u(b,a,f){var c=""+Math.abs(b);return(0<=b?f?"+":"":"-")+Math.pow(10,Math.max(0,a-c.length)).toString().substr(1)+c}function l(b,a,f,c){var d=c;"string"==typeof c&&(d=function(){return this[c]()});b&&(za[b]=d);a&&(za[a[0]]=function(){return u(d.apply(this,arguments),a[1],a[2])});
f&&(za[f]=function(){return this.localeData().ordinal(d.apply(this,arguments),b)})}function z(b){return b.match(/\[[\s\S]/)?b.replace(/^\[|\]$/g,""):b.replace(/\\/g,"")}function Wa(b){var a,f,c=b.match(sb);a=0;for(f=c.length;f>a;a++)za[c[a]]?c[a]=za[c[a]]:c[a]=z(c[a]);return function(a){var ya,d="";for(ya=0;f>ya;ya++)d+=c[ya]instanceof Function?c[ya].call(a,b):c[ya];return d}}function Ea(b,a){return b.isValid()?(a=Aa(a,b.localeData()),Xa[a]=Xa[a]||Wa(a),Xa[a](b)):b.localeData().invalidDate()}function Aa(b,
a){function f(b){return a.longDateFormat(b)||b}var c=5;for(Ia.lastIndex=0;0<=c&&Ia.test(b);)b=b.replace(Ia,f),Ia.lastIndex=0,--c;return b}function p(b,a,f){Ya[b]=V(a)?a:function(b,q){return b&&f?f:a}}function N(b,a){return g(Ya,b)?Ya[b](a._strict,a._locale):new RegExp(w(b))}function w(b){return F(b.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(b,q,a,f,c){return q||a||f||c}))}function F(b){return b.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function r(b,a){var f,c=a;"string"==
typeof b&&(b=[b]);"number"==typeof a&&(c=function(b,q){q[a]=B(b)});for(f=0;f<b.length;f++)Za[b[f]]=c}function Fa(b,a){r(b,function(b,q,f,c){f._w=f._w||{};a(b,f._w,f,c)})}function $a(b,a){return(new Date(Date.UTC(b,a+1,0))).getUTCDate()}function tb(b,a){var f;if(!b.isValid())return b;if("string"==typeof a)if(/^\d+$/.test(a))a=B(a);else if(a=b.localeData().monthsParse(a),"number"!=typeof a)return b;return f=Math.min(b.date(),$a(b.year(),a)),b._d["set"+(b._isUTC?"UTC":"")+"Month"](a,f),b}function ca(b){return null!=
b?(tb(this,b),d.updateOffset(this,!0),this):f(this,"Month")}function Ga(){function b(q,a){return a.length-q.length}var a,f,c=[],d=[],g=[];for(a=0;12>a;a++)f=n([2E3,a]),c.push(this.monthsShort(f,"")),d.push(this.months(f,"")),g.push(this.months(f,"")),g.push(this.monthsShort(f,""));c.sort(b);d.sort(b);g.sort(b);for(a=0;12>a;a++)c[a]=F(c[a]),d[a]=F(d[a]);for(a=0;24>a;a++)g[a]=F(g[a]);this._monthsShortRegex=this._monthsRegex=new RegExp("^("+g.join("|")+")","i");this._monthsStrictRegex=new RegExp("^("+
d.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+c.join("|")+")","i")}function U(b){return 0===b%4&&0!==b%100||0===b%400}function ea(b,a,f,c,d,g,e){a=new Date(b,a,f,c,d,g,e);return 100>b&&0<=b&&isFinite(a.getFullYear())&&a.setFullYear(b),a}function ja(b){var a=new Date(Date.UTC.apply(null,arguments));return 100>b&&0<=b&&isFinite(a.getUTCFullYear())&&a.setUTCFullYear(b),a}function E(b,a,f){f=7+a-f;return-((7+ja(b,0,f).getUTCDay()-a)%7)+f-1}function aa(b,a,f,c,d){var g,e;f=(7+f-c)%
7;c=E(b,c,d);a=1+7*(a-1)+f+c;return 0>=a?(g=b-1,e=(U(g)?366:365)+a):a>(U(b)?366:365)?(g=b+1,e=a-(U(b)?366:365)):(g=b,e=a),{year:g,dayOfYear:e}}function ka(b,a,f){var c,d,g=E(b.year(),a,f),g=Math.floor((b.dayOfYear()-g-1)/7)+1;return 1>g?(d=b.year()-1,c=g+fa(d,a,f)):g>fa(b.year(),a,f)?(c=g-fa(b.year(),a,f),d=b.year()+1):(d=b.year(),c=g),{week:c,year:d}}function fa(b,a,f){var c=E(b,a,f);a=E(b+1,a,f);return((U(b)?366:365)-c+a)/7}function ab(){function b(q,a){return a.length-q.length}var a,f,c,d,g=[],
e=[],l=[],r=[];for(a=0;7>a;a++)f=n([2E3,1]).day(a),c=this.weekdaysMin(f,""),d=this.weekdaysShort(f,""),f=this.weekdays(f,""),g.push(c),e.push(d),l.push(f),r.push(c),r.push(d),r.push(f);g.sort(b);e.sort(b);l.sort(b);r.sort(b);for(a=0;7>a;a++)e[a]=F(e[a]),l[a]=F(l[a]),r[a]=F(r[a]);this._weekdaysMinRegex=this._weekdaysShortRegex=this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i");this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+e.join("|")+
")","i");this._weekdaysMinStrictRegex=new RegExp("^("+g.join("|")+")","i")}function bb(){return this.hours()%12||12}function ub(b,a){l(b,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),a)})}function vb(b,a){return a._meridiemParse}function wb(b){return b?b.toLowerCase().replace("_","-"):b}function xb(b){var a=null;if(!T[b]&&"undefined"!=typeof module&&module&&module.exports)try{a=Ja._abbr,require("./locale/"+b),Ba(a)}catch(f){}return T[b]}function Ba(b,a){var f;return b&&
(f=A(a)?qa(b):yb(b,a),f&&(Ja=f)),Ja._abbr}function yb(b,a){if(null!==a){var f=zb;return a.abbr=b,null!=T[b]?(S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),f=T[b]._config):null!=a.parentLocale&&(null!=T[a.parentLocale]?f=T[a.parentLocale]._config:S("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),
T[b]=new D(C(f,a)),Ba(b),T[b]}return delete T[b],null}function qa(b){var a;if(b&&b._locale&&b._locale._abbr&&(b=b._locale._abbr),!b)return Ja;if(!e(b)){if(a=xb(b))return a;b=[b]}a:{for(var f,c,d,g=0;g<b.length;){d=wb(b[g]).split("-");a=d.length;for(f=(f=wb(b[g+1]))?f.split("-"):null;0<a;){if(c=xb(d.slice(0,a).join("-"))){b=c;break a}if(f&&f.length>=a&&ba(d,f,!0)>=a-1)break;a--}g++}b=null}return b}function cb(b){var a,f=b._a;return f&&-2===m(b).overflow&&(a=0>f[na]||11<f[na]?na:1>f[la]||f[la]>$a(f[ha],
f[na])?la:0>f[Y]||24<f[Y]||24===f[Y]&&(0!==f[ia]||0!==f[oa]||0!==f[va])?Y:0>f[ia]||59<f[ia]?ia:0>f[oa]||59<f[oa]?oa:0>f[va]||999<f[va]?va:-1,m(b)._overflowDayOfYear&&(ha>a||a>la)&&(a=la),m(b)._overflowWeeks&&-1===a&&(a=Zb),m(b)._overflowWeekday&&-1===a&&(a=$b),m(b).overflow=a),b}function Ab(b){var a,f,c,d,g,e;a=b._i;var l=ac.exec(a)||bc.exec(a);if(l){m(b).iso=!0;a=0;for(f=Ka.length;f>a;a++)if(Ka[a][1].exec(l[1])){d=Ka[a][0];c=!1!==Ka[a][2];break}if(null==d)return void(b._isValid=!1);if(l[3]){a=0;
for(f=db.length;f>a;a++)if(db[a][1].exec(l[3])){g=(l[2]||" ")+db[a][0];break}if(null==g)return void(b._isValid=!1)}if(!c&&null!=g)return void(b._isValid=!1);if(l[4]){if(!cc.exec(l[4]))return void(b._isValid=!1);e="Z"}b._f=d+(g||"")+(e||"");eb(b)}else b._isValid=!1}function dc(b){var a=ec.exec(b._i);return null!==a?void(b._d=new Date(+a[1])):(Ab(b),void(!1===b._isValid&&(delete b._isValid,d.createFromInputFallback(b))))}function Ca(b,a,f){return null!=b?b:null!=a?a:f}function fb(b){var a,f,c,g=[];
if(!b._d){f=new Date(d.now());f=b._useUTC?[f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()]:[f.getFullYear(),f.getMonth(),f.getDate()];if(b._w&&null==b._a[la]&&null==b._a[na]){var e,l,r,u,h,z,w,p;e=b._w;null!=e.GG||null!=e.W||null!=e.E?(h=1,z=4,l=Ca(e.GG,b._a[ha],ka(Q(),1,4).year),r=Ca(e.W,1),u=Ca(e.E,1),(1>u||7<u)&&(p=!0)):(h=b._locale._week.dow,z=b._locale._week.doy,l=Ca(e.gg,b._a[ha],ka(Q(),h,z).year),r=Ca(e.w,1),null!=e.d?(u=e.d,(0>u||6<u)&&(p=!0)):null!=e.e?(u=e.e+h,(0>e.e||6<e.e)&&(p=!0)):
u=h);1>r||r>fa(l,h,z)?m(b)._overflowWeeks=!0:null!=p?m(b)._overflowWeekday=!0:(w=aa(l,r,u,h,z),b._a[ha]=w.year,b._dayOfYear=w.dayOfYear)}b._dayOfYear&&(c=Ca(b._a[ha],f[ha]),b._dayOfYear>(U(c)?366:365)&&(m(b)._overflowDayOfYear=!0),a=ja(c,0,b._dayOfYear),b._a[na]=a.getUTCMonth(),b._a[la]=a.getUTCDate());for(a=0;3>a&&null==b._a[a];++a)b._a[a]=g[a]=f[a];for(;7>a;a++)b._a[a]=g[a]=null==b._a[a]?2===a?1:0:b._a[a];24===b._a[Y]&&0===b._a[ia]&&0===b._a[oa]&&0===b._a[va]&&(b._nextDay=!0,b._a[Y]=0);b._d=(b._useUTC?
ja:ea).apply(null,g);null!=b._tzm&&b._d.setUTCMinutes(b._d.getUTCMinutes()-b._tzm);b._nextDay&&(b._a[Y]=24)}}function eb(b){if(b._f===d.ISO_8601)return void Ab(b);b._a=[];m(b).empty=!0;var a,f,c,e,l,r=""+b._i,u=r.length,h=0;c=Aa(b._f,b._locale).match(sb)||[];for(a=0;a<c.length;a++)if(e=c[a],(f=(r.match(N(e,b))||[])[0])&&(l=r.substr(0,r.indexOf(f)),0<l.length&&m(b).unusedInput.push(l),r=r.slice(r.indexOf(f)+f.length),h+=f.length),za[e]){f?m(b).empty=!1:m(b).unusedTokens.push(e);var z=b;null!=f&&g(Za,
e)&&Za[e](f,z._a,z,e)}else b._strict&&!f&&m(b).unusedTokens.push(e);m(b).charsLeftOver=u-h;0<r.length&&m(b).unusedInput.push(r);12>=b._a[Y]&&!0===m(b).bigHour&&0<b._a[Y]&&(m(b).bigHour=void 0);m(b).parsedDateParts=b._a.slice(0);m(b).meridiem=b._meridiem;a=b._a;c=Y;r=b._locale;l=b._a[Y];var u=b._meridiem,w,r=null==u?l:null!=r.meridiemHour?r.meridiemHour(l,u):null!=r.isPM?(w=r.isPM(u),w&&12>l&&(l+=12),w||12!==l||(l=0),l):l;a[c]=r;fb(b);cb(b)}function fc(b){if(!b._d){var a=y(b._i);b._a=c([a.year,a.month,
a.day||a.date,a.hour,a.minute,a.second,a.millisecond],function(b){return b&&parseInt(b,10)});fb(b)}}function Bb(b){var f=b._i,c=b._f;b._locale=b._locale||qa(b._l);if(null===f||void 0===c&&""===f)b=H({nullInput:!0});else if("string"==typeof f&&(b._i=f=b._locale.preparse(f)),P(f))b=new O(cb(f));else{if(e(c)){var d,g,l;if(0===b._f.length)m(b).invalidFormat=!0,b._d=new Date(NaN);else{for(f=0;f<b._f.length;f++)c=0,d=I({},b),null!=b._useUTC&&(d._useUTC=b._useUTC),d._f=b._f[f],eb(d),x(d)&&(c+=m(d).charsLeftOver,
c+=10*m(d).unusedTokens.length,m(d).score=c,(null==l||l>c)&&(l=c,g=d));k(b,g||d)}}else a(f)?b._d=f:c?eb(b):gc(b);b=(x(b)||(b._d=null),b)}return b}function gc(b){var f=b._i;void 0===f?b._d=new Date(d.now()):a(f)?b._d=new Date(f.valueOf()):"string"==typeof f?dc(b):e(f)?(b._a=c(f.slice(0),function(b){return parseInt(b,10)}),fb(b)):"object"==typeof f?fc(b):"number"==typeof f?b._d=new Date(f):d.createFromInputFallback(b)}function pb(b,a,f,c,d){var g={};"boolean"==typeof f&&(c=f,f=void 0);var l;if(l=h(b))a:{l=
b;for(var r in l){l=!1;break a}l=!0}(l||e(b)&&0===b.length)&&(b=void 0);g._isAMomentObject=!0;g._useUTC=g._isUTC=d;g._l=f;g._i=b;g._f=a;g._strict=c;b=new O(cb(Bb(g)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function Q(b,a,f,c){return pb(b,a,f,c,!1)}function Cb(b,a){var f,c;if(1===a.length&&e(a[0])&&(a=a[0]),!a.length)return Q();f=a[0];for(c=1;c<a.length;++c)a[c].isValid()&&!a[c][b](f)||(f=a[c]);return f}function La(b){b=y(b);var a=b.year||0,f=b.quarter||0,c=b.month||0,d=b.week||0,g=
b.day||0;this._milliseconds=+(b.millisecond||0)+1E3*(b.second||0)+6E4*(b.minute||0)+36E5*(b.hour||0);this._days=+g+7*d;this._months=+c+3*f+12*a;this._data={};this._locale=qa();this._bubble()}function gb(b){return b instanceof La}function Db(b,a){l(b,0,0,function(){var b=this.utcOffset(),f="+";return 0>b&&(b=-b,f="-"),f+u(~~(b/60),2)+a+u(~~b%60,2)})}function hb(b,a){var f=(a||"").match(b)||[],f=((f[f.length-1]||[])+"").match(hc)||["-",0,0],c=+(60*f[1])+B(f[2]);return"+"===f[0]?c:-c}function ib(b,f){var c,
g;return f._isUTC?(c=f.clone(),g=(P(b)||a(b)?b.valueOf():Q(b).valueOf())-c.valueOf(),c._d.setTime(c._d.valueOf()+g),d.updateOffset(c,!1),c):Q(b).local()}function jb(b){return 15*-Math.round(b._d.getTimezoneOffset()/15)}function Eb(){return this.isValid()?this._isUTC&&0===this._offset:!1}function ra(b,a){var f,c,d,e=b;d=null;gb(b)?e={ms:b._milliseconds,d:b._days,M:b._months}:"number"==typeof b?(e={},a?e[a]=b:e.milliseconds=b):(d=ic.exec(b))?(f="-"===d[1]?-1:1,e={y:0,d:B(d[la])*f,h:B(d[Y])*f,m:B(d[ia])*
f,s:B(d[oa])*f,ms:B(d[va])*f}):(d=jc.exec(b))?(f="-"===d[1]?-1:1,e={y:wa(d[2],f),M:wa(d[3],f),w:wa(d[4],f),d:wa(d[5],f),h:wa(d[6],f),m:wa(d[7],f),s:wa(d[8],f)}):null==e?e={}:"object"==typeof e&&("from"in e||"to"in e)&&(d=Q(e.from),e=Q(e.to),d=d.isValid()&&e.isValid()?(e=ib(e,d),d.isBefore(e)?f=Fb(d,e):(f=Fb(e,d),f.milliseconds=-f.milliseconds,f.months=-f.months),f):{milliseconds:0,months:0},e={},e.ms=d.milliseconds,e.M=d.months);return c=new La(e),gb(b)&&g(b,"_locale")&&(c._locale=b._locale),c}function wa(b,
a){var f=b&&parseFloat(b.replace(",","."));return(isNaN(f)?0:f)*a}function Fb(b,a){var f={milliseconds:0,months:0};return f.months=a.month()-b.month()+12*(a.year()-b.year()),b.clone().add(f.months,"M").isAfter(a)&&--f.months,f.milliseconds=+a-+b.clone().add(f.months,"M"),f}function Gb(b){return 0>b?-1*Math.round(-1*b):Math.round(b)}function Hb(b,a){return function(f,c){var d,e;return null===c||isNaN(+c)||(S(a,"moment()."+a+"(period, number) is deprecated. Please use moment()."+a+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),
e=f,f=c,c=e),f="string"==typeof f?+f:f,d=ra(f,c),Ib(this,d,b),this}}function Ib(b,a,c,e){var g=a._milliseconds,l=Gb(a._days);a=Gb(a._months);b.isValid()&&(e=null==e?!0:e,g&&b._d.setTime(b._d.valueOf()+g*c),l&&(g=f(b,"Date")+l*c,b.isValid()&&b._d["set"+(b._isUTC?"UTC":"")+"Date"](g)),a&&tb(b,f(b,"Month")+a*c),e&&d.updateOffset(b,l||a))}function Jb(b){var a;return void 0===b?this._locale._abbr:(a=qa(b),null!=a&&(this._locale=a),this)}function Kb(){return this._locale}function Ma(b,a){l(0,[b,b.length],
0,a)}function Lb(b,a,f,c,d){var e;null==b?b=ka(this,c,d).year:(e=fa(b,c,d),a>e&&(a=e),b=aa(b,a,f,c,d),b=ja(b.year,0,b.dayOfYear),b=(this.year(b.getUTCFullYear()),this.month(b.getUTCMonth()),this.date(b.getUTCDate()),this));return b}function kc(b,a){a[va]=B(1E3*("0."+b))}function Mb(b){return b}function Na(b,a,f,c){var d=qa();a=n().set(c,a);return d[f](a,b)}function Nb(b,a,f){if("number"==typeof b&&(a=b,b=void 0),b=b||"",null!=a)return Na(b,a,f,"month");var c=[];for(a=0;12>a;a++)c[a]=Na(b,a,f,"month");
return c}function kb(b,a,f,c){"boolean"==typeof b?("number"==typeof a&&(f=a,a=void 0),a=a||""):(a=b,f=a,b=!1,"number"==typeof a&&(f=a,a=void 0),a=a||"");var d=qa();b=b?d._week.dow:0;if(null!=f)return Na(a,(f+b)%7,c,"day");d=[];for(f=0;7>f;f++)d[f]=Na(a,(f+b)%7,c,"day");return d}function Ob(b,a,f,c){a=ra(a,f);return b._milliseconds+=c*a._milliseconds,b._days+=c*a._days,b._months+=c*a._months,b._bubble()}function Pb(b){return 0>b?Math.floor(b):Math.ceil(b)}function sa(b){return function(){return this.as(b)}}
function xa(b){return function(){return this._data[b]}}function lc(b,a,f,c,d){return d.relativeTime(a||1,!!f,b,c)}function Oa(){var a,f,c,d=lb(this._milliseconds)/1E3,e=lb(this._days),g=lb(this._months);a=b(d/60);f=b(a/60);d%=60;a%=60;c=b(g/12);var g=g%12,l=this.asSeconds();return l?(0>l?"-":"")+"P"+(c?c+"Y":"")+(g?g+"M":"")+(e?e+"D":"")+(f||a||d?"T":"")+(f?f+"H":"")+(a?a+"M":"")+(d?d+"S":""):"P0D"}var ob,qb;qb=Array.prototype.some?Array.prototype.some:function(b){for(var a=Object(this),f=a.length>>>
0,c=0;f>c;c++)if(c in a&&b.call(this,a[c],c,a))return!0;return!1};var Ua=d.momentProperties=[],Va=!1,rb={};d.suppressDeprecationWarnings=!1;d.deprecationHandler=null;var Qb;Qb=Object.keys?Object.keys:function(b){var a,f=[];for(a in b)g(b,a)&&f.push(a);return f};var W,Da={},Z={},sb=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ia=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,
Xa={},za={},Rb=/\d/,ga=/\d\d/,Sb=/\d{3}/,mb=/\d{4}/,Pa=/[+-]?\d{6}/,R=/\d\d?/,Tb=/\d\d\d\d?/,Ub=/\d\d\d\d\d\d?/,Qa=/\d{1,3}/,nb=/\d{1,4}/,Ra=/[+-]?\d{1,6}/,mc=/\d+/,Sa=/[+-]?\d+/,nc=/Z|[+-]\d\d:?\d\d/gi,Ta=/Z|[+-]\d\d(?::?\d\d)?/gi,Ha=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ya={},Za={},ha=0,na=1,la=2,Y=3,ia=4,oa=5,va=6,Zb=7,$b=8;W=Array.prototype.indexOf?Array.prototype.indexOf:function(b){var a;for(a=0;a<this.length;++a)if(this[a]===
b)return a;return-1};l("M",["MM",2],"Mo",function(){return this.month()+1});l("MMM",0,0,function(b){return this.localeData().monthsShort(this,b)});l("MMMM",0,0,function(b){return this.localeData().months(this,b)});t("month","M");Z.month=8;p("M",R);p("MM",R,ga);p("MMM",function(b,a){return a.monthsShortRegex(b)});p("MMMM",function(b,a){return a.monthsRegex(b)});r(["M","MM"],function(b,a){a[na]=B(b)-1});r(["MMM","MMMM"],function(b,a,f,c){c=f._locale.monthsParse(b,c,f._strict);null!=c?a[na]=c:m(f).invalidMonth=
b});var Vb=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/;l("Y",0,0,function(){var b=this.year();return 9999>=b?""+b:"+"+b});l(0,["YY",2],0,function(){return this.year()%100});l(0,["YYYY",4],0,"year");l(0,["YYYYY",5],0,"year");l(0,["YYYYYY",6,!0],0,"year");t("year","y");Z.year=1;p("Y",Sa);p("YY",R,ga);p("YYYY",nb,mb);p("YYYYY",Ra,Pa);p("YYYYYY",Ra,Pa);r(["YYYYY","YYYYYY"],ha);r("YYYY",function(b,a){a[ha]=2===b.length?d.parseTwoDigitYear(b):B(b)});r("YY",function(b,a){a[ha]=d.parseTwoDigitYear(b)});r("Y",function(b,
a){a[ha]=parseInt(b,10)});d.parseTwoDigitYear=function(b){return B(b)+(68<B(b)?1900:2E3)};var Wb=M("FullYear",!0);l("w",["ww",2],"wo","week");l("W",["WW",2],"Wo","isoWeek");t("week","w");t("isoWeek","W");Z.week=5;Z.isoWeek=5;p("w",R);p("ww",R,ga);p("W",R);p("WW",R,ga);Fa(["w","ww","W","WW"],function(b,a,f,c){a[c.substr(0,1)]=B(b)});l("d",0,"do","day");l("dd",0,0,function(b){return this.localeData().weekdaysMin(this,b)});l("ddd",0,0,function(b){return this.localeData().weekdaysShort(this,b)});l("dddd",
0,0,function(b){return this.localeData().weekdays(this,b)});l("e",0,0,"weekday");l("E",0,0,"isoWeekday");t("day","d");t("weekday","e");t("isoWeekday","E");Z.day=11;Z.weekday=11;Z.isoWeekday=11;p("d",R);p("e",R);p("E",R);p("dd",function(b,a){return a.weekdaysMinRegex(b)});p("ddd",function(b,a){return a.weekdaysShortRegex(b)});p("dddd",function(b,a){return a.weekdaysRegex(b)});Fa(["dd","ddd","dddd"],function(b,a,f,c){c=f._locale.weekdaysParse(b,c,f._strict);null!=c?a.d=c:m(f).invalidWeekday=b});Fa(["d",
"e","E"],function(b,a,f,c){a[c]=B(b)});l("H",["HH",2],0,"hour");l("h",["hh",2],0,bb);l("k",["kk",2],0,function(){return this.hours()||24});l("hmm",0,0,function(){return""+bb.apply(this)+u(this.minutes(),2)});l("hmmss",0,0,function(){return""+bb.apply(this)+u(this.minutes(),2)+u(this.seconds(),2)});l("Hmm",0,0,function(){return""+this.hours()+u(this.minutes(),2)});l("Hmmss",0,0,function(){return""+this.hours()+u(this.minutes(),2)+u(this.seconds(),2)});ub("a",!0);ub("A",!1);t("hour","h");Z.hour=13;
p("a",vb);p("A",vb);p("H",R);p("h",R);p("HH",R,ga);p("hh",R,ga);p("hmm",Tb);p("hmmss",Ub);p("Hmm",Tb);p("Hmmss",Ub);r(["H","HH"],Y);r(["a","A"],function(b,a,f){f._isPm=f._locale.isPM(b);f._meridiem=b});r(["h","hh"],function(b,a,f){a[Y]=B(b);m(f).bigHour=!0});r("hmm",function(b,a,f){var c=b.length-2;a[Y]=B(b.substr(0,c));a[ia]=B(b.substr(c));m(f).bigHour=!0});r("hmmss",function(b,a,f){var c=b.length-4,d=b.length-2;a[Y]=B(b.substr(0,c));a[ia]=B(b.substr(c,2));a[oa]=B(b.substr(d));m(f).bigHour=!0});
r("Hmm",function(b,a,f){f=b.length-2;a[Y]=B(b.substr(0,f));a[ia]=B(b.substr(f))});r("Hmmss",function(b,a,f){f=b.length-4;var c=b.length-2;a[Y]=B(b.substr(0,f));a[ia]=B(b.substr(f,2));a[oa]=B(b.substr(c))});var Ja,oc=M("Hours",!0),zb={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},
invalidDate:"Invalid date",ordinal:"%d",ordinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),week:{dow:0,doy:6},weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),meridiemParse:/[ap]\.?m?\.?/i},T={},ac=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,bc=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,cc=/Z|[+-]\d\d(?::?\d\d)?/,Ka=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",
/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],db=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],
["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ec=/^\/?Date\((\-?\d+)/i;d.createFromInputFallback=J("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(b){b._d=new Date(b._i+(b._useUTC?" UTC":""))});d.ISO_8601=function(){};var pc=J("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var b=Q.apply(null,arguments);
return this.isValid()&&b.isValid()?this>b?this:b:H()}),qc=J("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var b=Q.apply(null,arguments);return this.isValid()&&b.isValid()?b>this?this:b:H()});Db("Z",":");Db("ZZ","");p("Z",Ta);p("ZZ",Ta);r(["Z","ZZ"],function(b,a,f){f._useUTC=!0;f._tzm=hb(Ta,b)});var hc=/([\+\-]|\d\d)/gi;d.updateOffset=function(){};var ic=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,jc=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;
ra.fn=La.prototype;var rc=Hb(1,"add"),sc=Hb(-1,"subtract");d.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";d.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Xb=J("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(b){return void 0===b?this.localeData():this.locale(b)});l(0,["gg",2],0,function(){return this.weekYear()%100});l(0,["GG",2],0,function(){return this.isoWeekYear()%100});Ma("gggg","weekYear");Ma("ggggg",
"weekYear");Ma("GGGG","isoWeekYear");Ma("GGGGG","isoWeekYear");t("weekYear","gg");t("isoWeekYear","GG");Z.weekYear=1;Z.isoWeekYear=1;p("G",Sa);p("g",Sa);p("GG",R,ga);p("gg",R,ga);p("GGGG",nb,mb);p("gggg",nb,mb);p("GGGGG",Ra,Pa);p("ggggg",Ra,Pa);Fa(["gggg","ggggg","GGGG","GGGGG"],function(b,a,f,c){a[c.substr(0,2)]=B(b)});Fa(["gg","GG"],function(b,a,f,c){a[c]=d.parseTwoDigitYear(b)});l("Q",0,"Qo","quarter");t("quarter","Q");Z.quarter=7;p("Q",Rb);r("Q",function(b,a){a[na]=3*(B(b)-1)});l("D",["DD",2],
"Do","date");t("date","D");Z.date=9;p("D",R);p("DD",R,ga);p("Do",function(b,a){return b?a._ordinalParse:a._ordinalParseLenient});r(["D","DD"],la);r("Do",function(b,a){a[la]=B(b.match(R)[0],10)});var Yb=M("Date",!0);l("DDD",["DDDD",3],"DDDo","dayOfYear");t("dayOfYear","DDD");Z.dayOfYear=4;p("DDD",Qa);p("DDDD",Sb);r(["DDD","DDDD"],function(b,a,f){f._dayOfYear=B(b)});l("m",["mm",2],0,"minute");t("minute","m");Z.minute=14;p("m",R);p("mm",R,ga);r(["m","mm"],ia);var tc=M("Minutes",!1);l("s",["ss",2],0,
"second");t("second","s");Z.second=15;p("s",R);p("ss",R,ga);r(["s","ss"],oa);var uc=M("Seconds",!1);l("S",0,0,function(){return~~(this.millisecond()/100)});l(0,["SS",2],0,function(){return~~(this.millisecond()/10)});l(0,["SSS",3],0,"millisecond");l(0,["SSSS",4],0,function(){return 10*this.millisecond()});l(0,["SSSSS",5],0,function(){return 100*this.millisecond()});l(0,["SSSSSS",6],0,function(){return 1E3*this.millisecond()});l(0,["SSSSSSS",7],0,function(){return 1E4*this.millisecond()});l(0,["SSSSSSSS",
8],0,function(){return 1E5*this.millisecond()});l(0,["SSSSSSSSS",9],0,function(){return 1E6*this.millisecond()});t("millisecond","ms");Z.millisecond=16;p("S",Qa,Rb);p("SS",Qa,ga);p("SSS",Qa,Sb);var ma;for(ma="SSSS";9>=ma.length;ma+="S")p(ma,mc);for(ma="S";9>=ma.length;ma+="S")r(ma,kc);var vc=M("Milliseconds",!1);l("z",0,0,"zoneAbbr");l("zz",0,0,"zoneName");var v=O.prototype;v.add=rc;v.calendar=function(b,a){var f=b||Q(),c=ib(f,this).startOf("day"),c=d.calendarFormat(this,c)||"sameElse",e=a&&(V(a[c])?
a[c].call(this,f):a[c]);return this.format(e||this.localeData().calendar(c,this,Q(f)))};v.clone=function(){return new O(this)};v.diff=function(a,f,c){var d,e;if(this.isValid())if(a=ib(a,this),a.isValid()){d=6E4*(a.utcOffset()-this.utcOffset());f=K(f);if("year"===f||"month"===f||"quarter"===f){var g;d=12*(a.year()-this.year())+(a.month()-this.month());var l=this.clone().add(d,"months");a=(0>a-l?(e=this.clone().add(d-1,"months"),g=(a-l)/(l-e)):(e=this.clone().add(d+1,"months"),g=(a-l)/(e-l)),-(d+g)||
0);"quarter"===f?a/=3:"year"===f&&(a/=12)}else e=this-a,a="second"===f?e/1E3:"minute"===f?e/6E4:"hour"===f?e/36E5:"day"===f?(e-d)/864E5:"week"===f?(e-d)/6048E5:e;f=c?a:b(a)}else f=NaN;else f=NaN;return f};v.endOf=function(b){return b=K(b),void 0===b||"millisecond"===b?this:("date"===b&&(b="day"),this.startOf(b).add(1,"isoWeek"===b?"week":b).subtract(1,"ms"))};v.format=function(b){b||(b=this.isUtc()?d.defaultFormatUtc:d.defaultFormat);b=Ea(this,b);return this.localeData().postformat(b)};v.from=function(b,
a){return this.isValid()&&(P(b)&&b.isValid()||Q(b).isValid())?ra({to:this,from:b}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()};v.fromNow=function(b){return this.from(Q(),b)};v.to=function(b,a){return this.isValid()&&(P(b)&&b.isValid()||Q(b).isValid())?ra({from:this,to:b}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()};v.toNow=function(b){return this.to(Q(),b)};v.get=function(b){return b=K(b),V(this[b])?this[b]():this};v.invalidAt=function(){return m(this).overflow};
v.isAfter=function(b,a){var f=P(b)?b:Q(b);return this.isValid()&&f.isValid()?(a=K(A(a)?"millisecond":a),"millisecond"===a?this.valueOf()>f.valueOf():f.valueOf()<this.clone().startOf(a).valueOf()):!1};v.isBefore=function(b,a){var f=P(b)?b:Q(b);return this.isValid()&&f.isValid()?(a=K(A(a)?"millisecond":a),"millisecond"===a?this.valueOf()<f.valueOf():this.clone().endOf(a).valueOf()<f.valueOf()):!1};v.isBetween=function(b,a,f,c){return c=c||"()",("("===c[0]?this.isAfter(b,f):!this.isBefore(b,f))&&(")"===
c[1]?this.isBefore(a,f):!this.isAfter(a,f))};v.isSame=function(b,a){var f,c=P(b)?b:Q(b);return this.isValid()&&c.isValid()?(a=K(a||"millisecond"),"millisecond"===a?this.valueOf()===c.valueOf():(f=c.valueOf(),this.clone().startOf(a).valueOf()<=f&&f<=this.clone().endOf(a).valueOf())):!1};v.isSameOrAfter=function(b,a){return this.isSame(b,a)||this.isAfter(b,a)};v.isSameOrBefore=function(b,a){return this.isSame(b,a)||this.isBefore(b,a)};v.isValid=function(){return x(this)};v.lang=Xb;v.locale=Jb;v.localeData=
Kb;v.max=qc;v.min=pc;v.parsingFlags=function(){return k({},m(this))};v.set=function(b,a){if("object"==typeof b){b=y(b);for(var f=da(b),c=0;c<f.length;c++)this[f[c].unit](b[f[c].unit])}else if(b=K(b),V(this[b]))return this[b](a);return this};v.startOf=function(b){switch(b=K(b)){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":case "date":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===
b&&this.weekday(0),"isoWeek"===b&&this.isoWeekday(1),"quarter"===b&&this.month(3*Math.floor(this.month()/3)),this};v.subtract=sc;v.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]};v.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}};v.toDate=function(){return new Date(this.valueOf())};v.toISOString=
function(){var b=this.clone().utc();return 0<b.year()&&9999>=b.year()?V(Date.prototype.toISOString)?this.toDate().toISOString():Ea(b,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Ea(b,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")};v.toJSON=function(){return this.isValid()?this.toISOString():null};v.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")};v.unix=function(){return Math.floor(this.valueOf()/1E3)};v.valueOf=function(){return this._d.valueOf()-6E4*(this._offset||0)};v.creationData=
function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}};v.year=Wb;v.isLeapYear=function(){return U(this.year())};v.weekYear=function(b){return Lb.call(this,b,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)};v.isoWeekYear=function(b){return Lb.call(this,b,this.isoWeek(),this.isoWeekday(),1,4)};v.quarter=v.quarters=function(b){return null==b?Math.ceil((this.month()+1)/3):this.month(3*(b-1)+this.month()%3)};v.month=
ca;v.daysInMonth=function(){return $a(this.year(),this.month())};v.week=v.weeks=function(b){var a=this.localeData().week(this);return null==b?a:this.add(7*(b-a),"d")};v.isoWeek=v.isoWeeks=function(b){var a=ka(this,1,4).week;return null==b?a:this.add(7*(b-a),"d")};v.weeksInYear=function(){var b=this.localeData()._week;return fa(this.year(),b.dow,b.doy)};v.isoWeeksInYear=function(){return fa(this.year(),1,4)};v.date=Yb;v.day=v.days=function(b){if(!this.isValid())return null!=b?this:NaN;var a=this._isUTC?
this._d.getUTCDay():this._d.getDay();if(null!=b)var f=b,c=this.localeData(),a=(b="string"!=typeof f?f:isNaN(f)?(f=c.weekdaysParse(f),"number"==typeof f?f:null):parseInt(f,10),this.add(b-a,"d"));return a};v.weekday=function(b){if(!this.isValid())return null!=b?this:NaN;var a=(this.day()+7-this.localeData()._week.dow)%7;return null==b?a:this.add(b-a,"d")};v.isoWeekday=function(b){if(!this.isValid())return null!=b?this:NaN;if(null!=b){var a=this.localeData();b="string"==typeof b?a.weekdaysParse(b)%7||
7:isNaN(b)?null:b;return this.day(this.day()%7?b:b-7)}return this.day()||7};v.dayOfYear=function(b){var a=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==b?a:this.add(b-a,"d")};v.hour=v.hours=oc;v.minute=v.minutes=tc;v.second=v.seconds=uc;v.millisecond=v.milliseconds=vc;v.utcOffset=function(b,a){var f,c=this._offset||0;return this.isValid()?null!=b?("string"==typeof b?b=hb(Ta,b):16>Math.abs(b)&&(b*=60),!this._isUTC&&a&&(f=jb(this)),this._offset=b,this._isUTC=
!0,null!=f&&this.add(f,"m"),c!==b&&(!a||this._changeInProgress?Ib(this,ra(b-c,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,d.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?c:jb(this):null!=b?this:NaN};v.utc=function(b){return this.utcOffset(0,b)};v.local=function(b){return this._isUTC&&(this.utcOffset(0,b),this._isUTC=!1,b&&this.subtract(jb(this),"m")),this};v.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(hb(nc,
this._i)),this};v.hasAlignedHourOffset=function(b){return this.isValid()?(b=b?Q(b).utcOffset():0,0===(this.utcOffset()-b)%60):!1};v.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()};v.isLocal=function(){return this.isValid()?!this._isUTC:!1};v.isUtcOffset=function(){return this.isValid()?this._isUTC:!1};v.isUtc=Eb;v.isUTC=Eb;v.zoneAbbr=function(){return this._isUTC?"UTC":""};v.zoneName=function(){return this._isUTC?"Coordinated Universal Time":
""};v.dates=J("dates accessor is deprecated. Use date instead.",Yb);v.months=J("months accessor is deprecated. Use month instead",ca);v.years=J("years accessor is deprecated. Use year instead",Wb);v.zone=J("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(b,a){return null!=b?("string"!=typeof b&&(b=-b),this.utcOffset(b,a),this):-this.utcOffset()});v.isDSTShifted=J("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",
function(){if(!A(this._isDSTShifted))return this._isDSTShifted;var b={};if(I(b,this),b=Bb(b),b._a){var a=b._isUTC?n(b._a):Q(b._a);this._isDSTShifted=this.isValid()&&0<ba(b._a,a.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var L=D.prototype;L.calendar=function(b,a,f){b=this._calendar[b]||this._calendar.sameElse;return V(b)?b.call(a,f):b};L.longDateFormat=function(b){var a=this._longDateFormat[b],f=this._longDateFormat[b.toUpperCase()];return a||!f?a:(this._longDateFormat[b]=f.replace(/MMMM|MM|DD|dddd/g,
function(b){return b.slice(1)}),this._longDateFormat[b])};L.invalidDate=function(){return this._invalidDate};L.ordinal=function(b){return this._ordinal.replace("%d",b)};L.preparse=Mb;L.postformat=Mb;L.relativeTime=function(b,a,f,c){var d=this._relativeTime[f];return V(d)?d(b,a,f,c):d.replace(/%d/i,b)};L.pastFuture=function(b,a){var f=this._relativeTime[0<b?"future":"past"];return V(f)?f(a):f.replace(/%s/i,a)};L.set=function(b){var a,f;for(f in b)a=b[f],V(a)?this[f]=a:this["_"+f]=a;this._config=b;
this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)};L.months=function(b,a){return e(this._months)?this._months[b.month()]:this._months[(this._months.isFormat||Vb).test(a)?"format":"standalone"][b.month()]};L.monthsShort=function(b,a){return e(this._monthsShort)?this._monthsShort[b.month()]:this._monthsShort[Vb.test(a)?"format":"standalone"][b.month()]};L.monthsParse=function(b,a,f){var c,d,e;if(this._monthsParseExact){e=b.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=
[],this._longMonthsParse=[],this._shortMonthsParse=[],b=0;12>b;++b)d=n([2E3,b]),this._shortMonthsParse[b]=this.monthsShort(d,"").toLocaleLowerCase(),this._longMonthsParse[b]=this.months(d,"").toLocaleLowerCase();return f?"MMM"===a?(c=W.call(this._shortMonthsParse,e),-1!==c?c:null):(c=W.call(this._longMonthsParse,e),-1!==c?c:null):"MMM"===a?(c=W.call(this._shortMonthsParse,e),-1!==c?c:(c=W.call(this._longMonthsParse,e),-1!==c?c:null)):(c=W.call(this._longMonthsParse,e),-1!==c?c:(c=W.call(this._shortMonthsParse,
e),-1!==c?c:null))}this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]);for(c=0;12>c;c++)if((d=n([2E3,c]),f&&!this._longMonthsParse[c]&&(this._longMonthsParse[c]=new RegExp("^"+this.months(d,"").replace(".","")+"$","i"),this._shortMonthsParse[c]=new RegExp("^"+this.monthsShort(d,"").replace(".","")+"$","i")),f||this._monthsParse[c]||(e="^"+this.months(d,"")+"|^"+this.monthsShort(d,""),this._monthsParse[c]=new RegExp(e.replace(".",""),"i")),f&&"MMMM"===a&&this._longMonthsParse[c].test(b))||
f&&"MMM"===a&&this._shortMonthsParse[c].test(b)||!f&&this._monthsParse[c].test(b))return c};L.monthsRegex=function(b){return this._monthsParseExact?(g(this,"_monthsRegex")||Ga.call(this),b?this._monthsStrictRegex:this._monthsRegex):(g(this,"_monthsRegex")||(this._monthsRegex=Ha),this._monthsStrictRegex&&b?this._monthsStrictRegex:this._monthsRegex)};L.monthsShortRegex=function(b){return this._monthsParseExact?(g(this,"_monthsRegex")||Ga.call(this),b?this._monthsShortStrictRegex:this._monthsShortRegex):
(g(this,"_monthsShortRegex")||(this._monthsShortRegex=Ha),this._monthsShortStrictRegex&&b?this._monthsShortStrictRegex:this._monthsShortRegex)};L.week=function(b){return ka(b,this._week.dow,this._week.doy).week};L.firstDayOfYear=function(){return this._week.doy};L.firstDayOfWeek=function(){return this._week.dow};L.weekdays=function(b,a){return e(this._weekdays)?this._weekdays[b.day()]:this._weekdays[this._weekdays.isFormat.test(a)?"format":"standalone"][b.day()]};L.weekdaysMin=function(b){return this._weekdaysMin[b.day()]};
L.weekdaysShort=function(b){return this._weekdaysShort[b.day()]};L.weekdaysParse=function(b,a,f){var c,d,e;if(this._weekdaysParseExact){e=b.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],b=0;7>b;++b)d=n([2E3,1]).day(b),this._minWeekdaysParse[b]=this.weekdaysMin(d,"").toLocaleLowerCase(),this._shortWeekdaysParse[b]=this.weekdaysShort(d,"").toLocaleLowerCase(),this._weekdaysParse[b]=this.weekdays(d,"").toLocaleLowerCase();
return f?"dddd"===a?(c=W.call(this._weekdaysParse,e),-1!==c?c:null):"ddd"===a?(c=W.call(this._shortWeekdaysParse,e),-1!==c?c:null):(c=W.call(this._minWeekdaysParse,e),-1!==c?c:null):"dddd"===a?(c=W.call(this._weekdaysParse,e),-1!==c?c:(c=W.call(this._shortWeekdaysParse,e),-1!==c?c:(c=W.call(this._minWeekdaysParse,e),-1!==c?c:null))):"ddd"===a?(c=W.call(this._shortWeekdaysParse,e),-1!==c?c:(c=W.call(this._weekdaysParse,e),-1!==c?c:(c=W.call(this._minWeekdaysParse,e),-1!==c?c:null))):(c=W.call(this._minWeekdaysParse,
e),-1!==c?c:(c=W.call(this._weekdaysParse,e),-1!==c?c:(c=W.call(this._shortWeekdaysParse,e),-1!==c?c:null)))}this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]);for(c=0;7>c;c++)if((d=n([2E3,1]).day(c),f&&!this._fullWeekdaysParse[c]&&(this._fullWeekdaysParse[c]=new RegExp("^"+this.weekdays(d,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[c]=new RegExp("^"+this.weekdaysShort(d,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[c]=
new RegExp("^"+this.weekdaysMin(d,"").replace(".",".?")+"$","i")),this._weekdaysParse[c]||(e="^"+this.weekdays(d,"")+"|^"+this.weekdaysShort(d,"")+"|^"+this.weekdaysMin(d,""),this._weekdaysParse[c]=new RegExp(e.replace(".",""),"i")),f&&"dddd"===a&&this._fullWeekdaysParse[c].test(b))||f&&"ddd"===a&&this._shortWeekdaysParse[c].test(b)||f&&"dd"===a&&this._minWeekdaysParse[c].test(b)||!f&&this._weekdaysParse[c].test(b))return c};L.weekdaysRegex=function(b){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||
ab.call(this),b?this._weekdaysStrictRegex:this._weekdaysRegex):(g(this,"_weekdaysRegex")||(this._weekdaysRegex=Ha),this._weekdaysStrictRegex&&b?this._weekdaysStrictRegex:this._weekdaysRegex)};L.weekdaysShortRegex=function(b){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||ab.call(this),b?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(g(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ha),this._weekdaysShortStrictRegex&&b?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)};
L.weekdaysMinRegex=function(b){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||ab.call(this),b?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(g(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ha),this._weekdaysMinStrictRegex&&b?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)};L.isPM=function(b){return"p"===(b+"").toLowerCase().charAt(0)};L.meridiem=function(b,a,f){return 11<b?f?"pm":"PM":f?"am":"AM"};Ba("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(b){var a=
b%10,a=1===B(b%100/10)?"th":1===a?"st":2===a?"nd":3===a?"rd":"th";return b+a}});d.lang=J("moment.lang is deprecated. Use moment.locale instead.",Ba);d.langData=J("moment.langData is deprecated. Use moment.localeData instead.",qa);var pa=Math.abs,wc=sa("ms"),xc=sa("s"),yc=sa("m"),zc=sa("h"),Ac=sa("d"),Bc=sa("w"),Cc=sa("M"),Dc=sa("y"),Ec=xa("milliseconds"),Fc=xa("seconds"),Gc=xa("minutes"),Hc=xa("hours"),Ic=xa("days"),Jc=xa("months"),Kc=xa("years"),ta=Math.round,ua={s:45,m:45,h:22,d:26,M:11},lb=Math.abs,
G=La.prototype;G.abs=function(){var b=this._data;return this._milliseconds=pa(this._milliseconds),this._days=pa(this._days),this._months=pa(this._months),b.milliseconds=pa(b.milliseconds),b.seconds=pa(b.seconds),b.minutes=pa(b.minutes),b.hours=pa(b.hours),b.months=pa(b.months),b.years=pa(b.years),this};G.add=function(b,a){return Ob(this,b,a,1)};G.subtract=function(b,a){return Ob(this,b,a,-1)};G.as=function(b){var a,f,c=this._milliseconds;if(b=K(b),"month"===b||"year"===b)return a=this._days+c/864E5,
f=this._months+4800*a/146097,"month"===b?f:f/12;switch(a=this._days+Math.round(146097*this._months/4800),b){case "week":return a/7+c/6048E5;case "day":return a+c/864E5;case "hour":return 24*a+c/36E5;case "minute":return 1440*a+c/6E4;case "second":return 86400*a+c/1E3;case "millisecond":return Math.floor(864E5*a)+c;default:throw Error("Unknown unit "+b);}};G.asMilliseconds=wc;G.asSeconds=xc;G.asMinutes=yc;G.asHours=zc;G.asDays=Ac;G.asWeeks=Bc;G.asMonths=Cc;G.asYears=Dc;G.valueOf=function(){return this._milliseconds+
864E5*this._days+this._months%12*2592E6+31536E6*B(this._months/12)};G._bubble=function(){var a,f,c,d,e,g=this._milliseconds,l=this._days,r=this._months,u=this._data;return 0<=g&&0<=l&&0<=r||0>=g&&0>=l&&0>=r||(g+=864E5*Pb(146097*r/4800+l),l=0,r=0),u.milliseconds=g%1E3,a=b(g/1E3),u.seconds=a%60,f=b(a/60),u.minutes=f%60,c=b(f/60),u.hours=c%24,l+=b(c/24),e=b(4800*l/146097),r+=e,l-=Pb(146097*e/4800),d=b(r/12),r%=12,u.days=l,u.months=r,u.years=d,this};G.get=function(b){return b=K(b),this[b+"s"]()};G.milliseconds=
Ec;G.seconds=Fc;G.minutes=Gc;G.hours=Hc;G.days=Ic;G.weeks=function(){return b(this.days()/7)};G.months=Jc;G.years=Kc;G.humanize=function(b){var a=this.localeData(),f;f=!b;var c=ra(this).abs(),d=ta(c.as("s")),e=ta(c.as("m")),g=ta(c.as("h")),l=ta(c.as("d")),r=ta(c.as("M")),c=ta(c.as("y")),d=d<ua.s&&["s",d]||1>=e&&["m"]||e<ua.m&&["mm",e]||1>=g&&["h"]||g<ua.h&&["hh",g]||1>=l&&["d"]||l<ua.d&&["dd",l]||1>=r&&["M"]||r<ua.M&&["MM",r]||1>=c&&["y"]||["yy",c];f=(d[2]=f,d[3]=0<+this,d[4]=a,lc.apply(null,d));
return b&&(f=a.pastFuture(+this,f)),a.postformat(f)};G.toISOString=Oa;G.toString=Oa;G.toJSON=Oa;G.locale=Jb;G.localeData=Kb;G.toIsoString=J("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Oa);G.lang=Xb;l("X",0,0,"unix");l("x",0,0,"valueOf");p("x",Sa);p("X",/[+-]?\d+(\.\d{1,3})?/);r("X",function(b,a,f){f._d=new Date(1E3*parseFloat(b,10))});r("x",function(b,a,f){f._d=new Date(B(b))});d.version="2.14.1";ob=Q;d.fn=v;d.min=function(){var b=[].slice.call(arguments,
0);return Cb("isBefore",b)};d.max=function(){var b=[].slice.call(arguments,0);return Cb("isAfter",b)};d.now=function(){return Date.now?Date.now():+new Date};d.utc=n;d.unix=function(b){return Q(1E3*b)};d.months=function(b,a){return Nb(b,a,"months")};d.isDate=a;d.locale=Ba;d.invalid=H;d.duration=ra;d.isMoment=P;d.weekdays=function(b,a,f){return kb(b,a,f,"weekdays")};d.parseZone=function(){return Q.apply(null,arguments).parseZone()};d.localeData=qa;d.isDuration=gb;d.monthsShort=function(b,a){return Nb(b,
a,"monthsShort")};d.weekdaysMin=function(b,a,f){return kb(b,a,f,"weekdaysMin")};d.defineLocale=yb;d.updateLocale=function(b,a){if(null!=a){var f;f=zb;null!=T[b]&&(f=T[b]._config);a=C(f,a);f=new D(a);f.parentLocale=T[b];T[b]=f;Ba(b)}else null!=T[b]&&(null!=T[b].parentLocale?T[b]=T[b].parentLocale:null!=T[b]&&delete T[b]);return T[b]};d.locales=function(){return Qb(T)};d.weekdaysShort=function(b,a,f){return kb(b,a,f,"weekdaysShort")};d.normalizeUnits=K;d.relativeTimeRounding=function(b){return void 0===
b?ta:"function"==typeof b?(ta=b,!0):!1};d.relativeTimeThreshold=function(b,a){return void 0===ua[b]?!1:void 0===a?ua[b]:(ua[b]=a,!0)};d.calendarFormat=function(b,a){var f=b.diff(a,"days",!0);return-6>f?"sameElse":-1>f?"lastWeek":0>f?"lastDay":1>f?"sameDay":2>f?"nextDay":7>f?"nextWeek":"sameElse"};d.prototype=v;return d});
var MomentUtil=function(){return{duration:function(d,e){return(e?moment(e):moment()).diff(moment(d))},formatTime:function(d,e){var h=moment.isMoment(d)?d:moment(d);return d&&h.isValid()?h.format(e):""},formatTimeUTC:function(d,e){return MomentUtil.formatTime(moment.utc(d),e)},formatTimeSimple:function(d){return MomentUtil.formatTime(d,"h:mm:ss a")},formatTimeSimpleUTC:function(d){return MomentUtil.formatTimeUTC(d,"h:mm:ss a")},formatTimeAtDate:function(d){var e=moment.isMoment(d)?d:moment(d);if(!d||
!e.isValid())return"";d=moment();var h=d.diff(e),h=moment.duration(h);return 1>h.asDays()&&d.month()==e.month()?e.format("h:mm a"):1>h.asDays()&&d.month()!=e.month()?e.format("h:mm a"):1>h.asWeeks()?e.format("ddd h:mm a"):e.year()!=d.year()?e.format("MMM Do YYYY h a"):e.format("M/D ha")},formatTimeAtDateUTC:function(d){return MomentUtil.formatTimeAtDate(moment.utc(d))},formatDurationSimple:function(d){if(0>d)return"";d=moment.duration(d);var e=0;1<=d.asYears()&&(e=Math.floor(d.asYears()),d=d.subtract(e,
"years"));var h=0;1<=d.asDays()&&(h=Math.floor(d.asDays()),d=d.subtract(h,"days"));var a=d.minutes(),c=d.seconds();return(0<e?e+"y ":"")+(0<h?h+"d ":"")+d.hours()+"."+(10>a?"0"+a:a)+":"+(10>c?"0"+c:c)},formatDurationHumanize:function(d){if(0>d)return"";var e=moment.duration(d),h=[];0<e.days()&&h.push(e.days()+"d");0<e.hours()&&h.push(e.hours()+"h");0<e.minutes()&&h.push(e.minutes()+"m");0<e.seconds()?(d=e.seconds(),0<e.milliseconds()&&d++,h.push(d+"s")):1E3>d&&h.push("0s");return h.join(" ")},formatDurationMomentHumanize:function(d){return 0>
d?"":moment.duration(d).humanize()}}}();
(function(){(function(d){var e=this||(0,eval)("this"),h=e.document,a=e.navigator,c=e.jQuery,g=e.JSON;(function(a){"function"===typeof define&&define.amd?define(["exports","require"],a):"object"===typeof exports&&"object"===typeof module?a(module.exports||exports):a(e.ko={})})(function(k,n){function m(b,a){return null===b||typeof b in B?b===a:!1}function x(a,c){var e;return function(){e||(e=b.a.setTimeout(function(){e=d;a()},c))}}function H(a,c){var d;return function(){clearTimeout(d);d=b.a.setTimeout(a,
c)}}function A(b,a){a&&a!==ba?"beforeChange"===a?this.Kb(b):this.Ha(b,a):this.Lb(b)}function I(b,a){null!==a&&a.k&&a.k()}function O(b,a){var c=this.Hc,d=c[C];d.R||(this.lb&&this.Ma[a]?(c.Pb(a,b,this.Ma[a]),this.Ma[a]=null,--this.lb):d.r[a]||c.Pb(a,b,d.s?{ia:b}:c.uc(b)))}function P(a,c,d,e){b.d[a]={init:function(a,f,g,h,k){var w,F;b.m(function(){var g=b.a.c(f()),h=!d!==!g,p=!F;if(p||c||h!==w)p&&b.va.Aa()&&(F=b.a.ua(b.f.childNodes(a),!0)),h?(p||b.f.da(a,b.a.ua(F)),b.eb(e?e(k,g):k,a)):b.f.xa(a),w=h},
null,{i:a});return{controlsDescendantBindings:!0}}};b.h.ta[a]=!1;b.f.Z[a]=!0}var b="undefined"!==typeof k?k:{};b.b=function(a,c){for(var d=a.split("."),e=b,g=0;g<d.length-1;g++)e=e[d[g]];e[d[d.length-1]]=c};b.G=function(b,a,c){b[a]=c};b.version="3.4.0";b.b("version",b.version);b.options={deferUpdates:!1,useOnlyNativeEvents:!1};b.a=function(){function f(b,a){for(var f in b)b.hasOwnProperty(f)&&a(f,b[f])}function u(b,a){if(a)for(var f in a)a.hasOwnProperty(f)&&(b[f]=a[f]);return b}function l(b,a){b.__proto__=
a;return b}function z(a,f,c,d){var e=a[f].match(F)||[];b.a.q(c.match(F),function(a){b.a.pa(e,a,d)});a[f]=e.join(" ")}var k={__proto__:[]}instanceof Array,Ea="function"===typeof Symbol,Aa={},p={};Aa[a&&/Firefox\/2/i.test(a.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];Aa.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");f(Aa,function(b,a){if(a.length)for(var f=0,c=a.length;f<c;f++)p[a[f]]=b});var N={propertychange:!0},
w=h&&function(){for(var b=3,a=h.createElement("div"),f=a.getElementsByTagName("i");a.innerHTML="\x3c!--[if gt IE "+ ++b+"]><i></i><![endif]--\x3e",f[0];);return 4<b?b:d}(),F=/\S+/g;return{cc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],q:function(b,a){for(var f=0,c=b.length;f<c;f++)a(b[f],f)},o:function(b,a){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(b,a);for(var f=0,c=b.length;f<c;f++)if(b[f]===a)return f;return-1},Sb:function(b,a,f){for(var c=
0,d=b.length;c<d;c++)if(a.call(f,b[c],c))return b[c];return null},La:function(a,f){var c=b.a.o(a,f);0<c?a.splice(c,1):0===c&&a.shift()},Tb:function(a){a=a||[];for(var f=[],c=0,d=a.length;c<d;c++)0>b.a.o(f,a[c])&&f.push(a[c]);return f},fb:function(b,a){b=b||[];for(var f=[],c=0,d=b.length;c<d;c++)f.push(a(b[c],c));return f},Ka:function(b,a){b=b||[];for(var f=[],c=0,d=b.length;c<d;c++)a(b[c],c)&&f.push(b[c]);return f},ra:function(b,a){if(a instanceof Array)b.push.apply(b,a);else for(var f=0,c=a.length;f<
c;f++)b.push(a[f]);return b},pa:function(a,f,c){var d=b.a.o(b.a.zb(a),f);0>d?c&&a.push(f):c||a.splice(d,1)},ka:k,extend:u,Xa:l,Ya:k?l:u,D:f,Ca:function(b,a){if(!b)return b;var f={},c;for(c in b)b.hasOwnProperty(c)&&(f[c]=a(b[c],c,b));return f},ob:function(a){for(;a.firstChild;)b.removeNode(a.firstChild)},jc:function(a){a=b.a.V(a);for(var f=(a[0]&&a[0].ownerDocument||h).createElement("div"),c=0,d=a.length;c<d;c++)f.appendChild(b.$(a[c]));return f},ua:function(a,f){for(var c=0,d=a.length,e=[];c<d;c++){var g=
a[c].cloneNode(!0);e.push(f?b.$(g):g)}return e},da:function(a,f){b.a.ob(a);if(f)for(var c=0,d=f.length;c<d;c++)a.appendChild(f[c])},qc:function(a,f){var c=a.nodeType?[a]:a;if(0<c.length){for(var d=c[0],e=d.parentNode,g=0,l=f.length;g<l;g++)e.insertBefore(f[g],d);g=0;for(l=c.length;g<l;g++)b.removeNode(c[g])}},za:function(b,a){if(b.length){for(a=8===a.nodeType&&a.parentNode||a;b.length&&b[0].parentNode!==a;)b.splice(0,1);for(;1<b.length&&b[b.length-1].parentNode!==a;)b.length--;if(1<b.length){var f=
b[0],c=b[b.length-1];for(b.length=0;f!==c;)b.push(f),f=f.nextSibling;b.push(c)}}return b},sc:function(b,a){7>w?b.setAttribute("selected",a):b.selected=a},$a:function(b){return null===b||b===d?"":b.trim?b.trim():b.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},nd:function(b,a){b=b||"";return a.length>b.length?!1:b.substring(0,a.length)===a},Mc:function(b,a){if(b===a)return!0;if(11===b.nodeType)return!1;if(a.contains)return a.contains(3===b.nodeType?b.parentNode:b);if(a.compareDocumentPosition)return 16==
(a.compareDocumentPosition(b)&16);for(;b&&b!=a;)b=b.parentNode;return!!b},nb:function(a){return b.a.Mc(a,a.ownerDocument.documentElement)},Qb:function(a){return!!b.a.Sb(a,b.a.nb)},A:function(b){return b&&b.tagName&&b.tagName.toLowerCase()},Wb:function(a){return b.onError?function(){try{return a.apply(this,arguments)}catch(f){throw b.onError&&b.onError(f),f;}}:a},setTimeout:function(a,f){return setTimeout(b.a.Wb(a),f)},$b:function(a){setTimeout(function(){b.onError&&b.onError(a);throw a;},0)},p:function(a,
f,d){var e=b.a.Wb(d);d=w&&N[f];if(b.options.useOnlyNativeEvents||d||!c)if(d||"function"!=typeof a.addEventListener)if("undefined"!=typeof a.attachEvent){var g=function(b){e.call(a,b)},l="on"+f;a.attachEvent(l,g);b.a.F.oa(a,function(){a.detachEvent(l,g)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else a.addEventListener(f,e,!1);else c(a).bind(f,e)},Da:function(a,f){if(!a||!a.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var d;"input"===
b.a.A(a)&&a.type&&"click"==f.toLowerCase()?(d=a.type,d="checkbox"==d||"radio"==d):d=!1;if(b.options.useOnlyNativeEvents||!c||d)if("function"==typeof h.createEvent)if("function"==typeof a.dispatchEvent)d=h.createEvent(p[f]||"HTMLEvents"),d.initEvent(f,!0,!0,e,0,0,0,0,0,!1,!1,!1,!1,0,a),a.dispatchEvent(d);else throw Error("The supplied element doesn't support dispatchEvent");else if(d&&a.click)a.click();else if("undefined"!=typeof a.fireEvent)a.fireEvent("on"+f);else throw Error("Browser doesn't support triggering events");
else c(a).trigger(f)},c:function(a){return b.H(a)?a():a},zb:function(a){return b.H(a)?a.t():a},bb:function(a,f,c){var d;f&&("object"===typeof a.classList?(d=a.classList[c?"add":"remove"],b.a.q(f.match(F),function(b){d.call(a.classList,b)})):"string"===typeof a.className.baseVal?z(a.className,"baseVal",f,c):z(a,"className",f,c))},Za:function(a,f){var c=b.a.c(f);if(null===c||c===d)c="";var e=b.f.firstChild(a);!e||3!=e.nodeType||b.f.nextSibling(e)?b.f.da(a,[a.ownerDocument.createTextNode(c)]):e.data=
c;b.a.Rc(a)},rc:function(b,a){b.name=a;if(7>=w)try{b.mergeAttributes(h.createElement("<input name='"+b.name+"'/>"),!1)}catch(f){}},Rc:function(b){9<=w&&(b=1==b.nodeType?b:b.parentNode,b.style&&(b.style.zoom=b.style.zoom))},Nc:function(b){if(w){var a=b.style.width;b.style.width=0;b.style.width=a}},hd:function(a,f){a=b.a.c(a);f=b.a.c(f);for(var c=[],d=a;d<=f;d++)c.push(d);return c},V:function(b){for(var a=[],f=0,c=b.length;f<c;f++)a.push(b[f]);return a},Yb:function(b){return Ea?Symbol(b):b},rd:6===
w,sd:7===w,C:w,ec:function(a,f){for(var c=b.a.V(a.getElementsByTagName("input")).concat(b.a.V(a.getElementsByTagName("textarea"))),d="string"==typeof f?function(b){return b.name===f}:function(b){return f.test(b.name)},e=[],g=c.length-1;0<=g;g--)d(c[g])&&e.push(c[g]);return e},ed:function(a){return"string"==typeof a&&(a=b.a.$a(a))?g&&g.parse?g.parse(a):(new Function("return "+a))():null},Eb:function(a,f,c){if(!g||!g.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");
return g.stringify(b.a.c(a),f,c)},fd:function(a,c,d){d=d||{};var e=d.params||{},g=d.includeFields||this.cc,l=a;if("object"==typeof a&&"form"===b.a.A(a))for(var l=a.action,u=g.length-1;0<=u;u--)for(var z=b.a.ec(a,g[u]),w=z.length-1;0<=w;w--)e[z[w].name]=z[w].value;c=b.a.c(c);var p=h.createElement("form");p.style.display="none";p.action=l;p.method="post";for(var k in c)a=h.createElement("input"),a.type="hidden",a.name=k,a.value=b.a.Eb(b.a.c(c[k])),p.appendChild(a);f(e,function(b,a){var f=h.createElement("input");
f.type="hidden";f.name=b;f.value=a;p.appendChild(f)});h.body.appendChild(p);d.submitter?d.submitter(p):p.submit();setTimeout(function(){p.parentNode.removeChild(p)},0)}}}();b.b("utils",b.a);b.b("utils.arrayForEach",b.a.q);b.b("utils.arrayFirst",b.a.Sb);b.b("utils.arrayFilter",b.a.Ka);b.b("utils.arrayGetDistinctValues",b.a.Tb);b.b("utils.arrayIndexOf",b.a.o);b.b("utils.arrayMap",b.a.fb);b.b("utils.arrayPushAll",b.a.ra);b.b("utils.arrayRemoveItem",b.a.La);b.b("utils.extend",b.a.extend);b.b("utils.fieldsIncludedWithJsonPost",
b.a.cc);b.b("utils.getFormFields",b.a.ec);b.b("utils.peekObservable",b.a.zb);b.b("utils.postJson",b.a.fd);b.b("utils.parseJson",b.a.ed);b.b("utils.registerEventHandler",b.a.p);b.b("utils.stringifyJson",b.a.Eb);b.b("utils.range",b.a.hd);b.b("utils.toggleDomNodeCssClass",b.a.bb);b.b("utils.triggerEvent",b.a.Da);b.b("utils.unwrapObservable",b.a.c);b.b("utils.objectForEach",b.a.D);b.b("utils.addOrRemoveItem",b.a.pa);b.b("utils.setTextContent",b.a.Za);b.b("unwrap",b.a.c);Function.prototype.bind||(Function.prototype.bind=
function(b){var a=this;if(1===arguments.length)return function(){return a.apply(b,arguments)};var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice(0);d.push.apply(d,arguments);return a.apply(b,d)}});b.a.e=new function(){function b(f,g){var h=f[c];if(!h||"null"===h||!e[h]){if(!g)return d;h=f[c]="ko"+a++;e[h]={}}return e[h]}var a=0,c="__ko__"+(new Date).getTime(),e={};return{get:function(a,c){var e=b(a,!1);return e===d?d:e[c]},set:function(a,c,e){if(e!==d||b(a,!1)!==d)b(a,!0)[c]=
e},clear:function(b){var a=b[c];return a?(delete e[a],b[c]=null,!0):!1},I:function(){return a++ +c}}};b.b("utils.domData",b.a.e);b.b("utils.domData.clear",b.a.e.clear);b.a.F=new function(){function a(f,c){var e=b.a.e.get(f,g);e===d&&c&&(e=[],b.a.e.set(f,g,e));return e}function e(c){var d=a(c,!1);if(d)for(var d=d.slice(0),g=0;g<d.length;g++)d[g](c);b.a.e.clear(c);b.a.F.cleanExternalData(c);if(k[c.nodeType])for(d=c.firstChild;c=d;)d=c.nextSibling,8===c.nodeType&&e(c)}var g=b.a.e.I(),h={1:!0,8:!0,9:!0},
k={1:!0,9:!0};return{oa:function(b,c){if("function"!=typeof c)throw Error("Callback must be a function");a(b,!0).push(c)},pc:function(c,e){var u=a(c,!1);u&&(b.a.La(u,e),0==u.length&&b.a.e.set(c,g,d))},$:function(a){if(h[a.nodeType]&&(e(a),k[a.nodeType])){var f=[];b.a.ra(f,a.getElementsByTagName("*"));for(var c=0,d=f.length;c<d;c++)e(f[c])}return a},removeNode:function(a){b.$(a);a.parentNode&&a.parentNode.removeChild(a)},cleanExternalData:function(b){c&&"function"==typeof c.cleanData&&c.cleanData([b])}}};
b.$=b.a.F.$;b.removeNode=b.a.F.removeNode;b.b("cleanNode",b.$);b.b("removeNode",b.removeNode);b.b("utils.domNodeDisposal",b.a.F);b.b("utils.domNodeDisposal.addDisposeCallback",b.a.F.oa);b.b("utils.domNodeDisposal.removeDisposeCallback",b.a.F.pc);(function(){var a=[0,"",""],g=[1,"<table>","</table>"],l=[3,"<table><tbody><tr>","</tr></tbody></table>"],z=[1,"<select multiple='multiple'>","</select>"],k={thead:g,tbody:g,tfoot:g,tr:[2,"<table><tbody>","</tbody></table>"],td:l,th:l,option:z,optgroup:z},
n=8>=b.a.C;b.a.ma=function(d,g){var l;if(c)if(c.parseHTML)l=c.parseHTML(d,g)||[];else{if((l=c.clean([d],g))&&l[0]){for(var u=l[0];u.parentNode&&11!==u.parentNode.nodeType;)u=u.parentNode;u.parentNode&&u.parentNode.removeChild(u)}}else{(l=g)||(l=h);var u=l.parentWindow||l.defaultView||e,z=b.a.$a(d).toLowerCase(),r=l.createElement("div"),m;m=(z=z.match(/^<([a-z]+)[ >]/))&&k[z[1]]||a;z=m[0];m="ignored<div>"+m[1]+d+m[2]+"</div>";for("function"==typeof u.innerShiv?r.appendChild(u.innerShiv(m)):(n&&l.appendChild(r),
r.innerHTML=m,n&&r.parentNode.removeChild(r));z--;)r=r.lastChild;l=b.a.V(r.lastChild.childNodes)}return l};b.a.Cb=function(a,f){b.a.ob(a);f=b.a.c(f);if(null!==f&&f!==d)if("string"!=typeof f&&(f=f.toString()),c)c(a).html(f);else for(var e=b.a.ma(f,a.ownerDocument),g=0;g<e.length;g++)a.appendChild(e[g])}})();b.b("utils.parseHtmlFragment",b.a.ma);b.b("utils.setHtml",b.a.Cb);b.M=function(){function a(c,d){if(c)if(8==c.nodeType){var e=b.M.lc(c.nodeValue);null!=e&&d.push({Lc:c,cd:e})}else if(1==c.nodeType)for(var e=
0,g=c.childNodes,u=g.length;e<u;e++)a(g[e],d)}var c={};return{wb:function(b){if("function"!=typeof b)throw Error("You can only pass a function to ko.memoization.memoize()");var a=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);c[a]=b;return"\x3c!--[ko_memo:"+a+"]--\x3e"},xc:function(b,a){var f=c[b];if(f===d)throw Error("Couldn't find any memo with ID "+b+". Perhaps it's already been unmemoized.");try{return f.apply(null,a||[]),
!0}finally{delete c[b]}},yc:function(c,d){var e=[];a(c,e);for(var g=0,u=e.length;g<u;g++){var h=e[g].Lc,k=[h];d&&b.a.ra(k,d);b.M.xc(e[g].cd,k);h.nodeValue="";h.parentNode&&h.parentNode.removeChild(h)}},lc:function(b){return(b=b.match(/^\[ko_memo\:(.*?)\]$/))?b[1]:null}}}();b.b("memoization",b.M);b.b("memoization.memoize",b.M.wb);b.b("memoization.unmemoize",b.M.xc);b.b("memoization.parseMemoText",b.M.lc);b.b("memoization.unmemoizeDomNodeAndDescendants",b.M.yc);b.Y=function(){function a(){if(g)for(var f=
g,c=0,e;n<g;)if(e=d[n++]){if(n>f){if(5E3<=++c){n=g;b.a.$b(Error("'Too much recursion' after processing "+c+" task groups."));break}f=g}try{e()}catch(u){b.a.$b(u)}}}function c(){a();n=g=d.length=0}var d=[],g=0,k=1,n=0;return{scheduler:e.MutationObserver?function(b){var a=h.createElement("div");(new MutationObserver(b)).observe(a,{attributes:!0});return function(){a.classList.toggle("foo")}}(c):h&&"onreadystatechange"in h.createElement("script")?function(b){var a=h.createElement("script");a.onreadystatechange=
function(){a.onreadystatechange=null;h.documentElement.removeChild(a);a=null;b()};h.documentElement.appendChild(a)}:function(b){setTimeout(b,0)},Wa:function(a){g||b.Y.scheduler(c);d[g++]=a;return k++},cancel:function(b){b-=k-g;b>=n&&b<g&&(d[b]=null)},resetForTesting:function(){var b=g-n;n=g=d.length=0;return b},md:a}}();b.b("tasks",b.Y);b.b("tasks.schedule",b.Y.Wa);b.b("tasks.runEarly",b.Y.md);b.ya={throttle:function(a,c){a.throttleEvaluation=c;var d=null;return b.B({read:a,write:function(e){clearTimeout(d);
d=b.a.setTimeout(function(){a(e)},c)}})},rateLimit:function(b,a){var c,d,e;"number"==typeof a?c=a:(c=a.timeout,d=a.method);b.cb=!1;e="notifyWhenChangesStop"==d?H:x;b.Ta(function(b){return e(b,c)})},deferred:function(a,c){if(!0!==c)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");a.cb||(a.cb=!0,a.Ta(function(c){var e;return function(){b.Y.cancel(e);e=b.Y.Wa(c);a.notifySubscribers(d,"dirty")}}))},notify:function(b,a){b.equalityComparer=
"always"==a?null:m}};var B={undefined:1,"boolean":1,number:1,string:1};b.b("extenders",b.ya);b.vc=function(a,c,d){this.ia=a;this.gb=c;this.Kc=d;this.R=!1;b.G(this,"dispose",this.k)};b.vc.prototype.k=function(){this.R=!0;this.Kc()};b.J=function(){b.a.Ya(this,X);X.rb(this)};var ba="change",X={rb:function(b){b.K={};b.Nb=1},X:function(a,c,d){var e=this;d=d||ba;var g=new b.vc(e,c?a.bind(c):a,function(){b.a.La(e.K[d],g);e.Ia&&e.Ia(d)});e.sa&&e.sa(d);e.K[d]||(e.K[d]=[]);e.K[d].push(g);return g},notifySubscribers:function(a,
c){c=c||ba;c===ba&&this.zc();if(this.Pa(c))try{b.l.Ub();for(var d=this.K[c].slice(0),e=0,g;g=d[e];++e)g.R||g.gb(a)}finally{b.l.end()}},Na:function(){return this.Nb},Uc:function(b){return this.Na()!==b},zc:function(){++this.Nb},Ta:function(a){var c=this,d=b.H(c),e,g,h;c.Ha||(c.Ha=c.notifySubscribers,c.notifySubscribers=A);var k=a(function(){c.Mb=!1;d&&h===c&&(h=c());e=!1;c.tb(g,h)&&c.Ha(g=h)});c.Lb=function(b){c.Mb=e=!0;h=b;k()};c.Kb=function(b){e||(g=b,c.Ha(b,"beforeChange"))}},Pa:function(b){return this.K[b]&&
this.K[b].length},Sc:function(a){if(a)return this.K[a]&&this.K[a].length||0;var c=0;b.a.D(this.K,function(b,a){"dirty"!==b&&(c+=a.length)});return c},tb:function(b,a){return!this.equalityComparer||!this.equalityComparer(b,a)},extend:function(a){var c=this;a&&b.a.D(a,function(a,f){var d=b.ya[a];"function"==typeof d&&(c=d(c,f)||c)});return c}};b.G(X,"subscribe",X.X);b.G(X,"extend",X.extend);b.G(X,"getSubscriptionsCount",X.Sc);b.a.ka&&b.a.Xa(X,Function.prototype);b.J.fn=X;b.hc=function(b){return null!=
b&&"function"==typeof b.X&&"function"==typeof b.notifySubscribers};b.b("subscribable",b.J);b.b("isSubscribable",b.hc);b.va=b.l=function(){function a(b){d.push(e);e=b}function c(){e=d.pop()}var d=[],e,g=0;return{Ub:a,end:c,oc:function(a){if(e){if(!b.hc(a))throw Error("Only subscribable things can act as dependencies");e.gb.call(e.Gc,a,a.Cc||(a.Cc=++g))}},w:function(b,d,e){try{return a(),b.apply(d,e||[])}finally{c()}},Aa:function(){if(e)return e.m.Aa()},Sa:function(){if(e)return e.Sa}}}();b.b("computedContext",
b.va);b.b("computedContext.getDependenciesCount",b.va.Aa);b.b("computedContext.isInitial",b.va.Sa);b.b("ignoreDependencies",b.qd=b.l.w);var J=b.a.Yb("_latestValue");b.N=function(a){function c(){if(0<arguments.length)return c.tb(c[J],arguments[0])&&(c.ga(),c[J]=arguments[0],c.fa()),this;b.l.oc(c);return c[J]}c[J]=a;b.a.ka||b.a.extend(c,b.J.fn);b.J.fn.rb(c);b.a.Ya(c,S);b.options.deferUpdates&&b.ya.deferred(c,!0);return c};var S={equalityComparer:m,t:function(){return this[J]},fa:function(){this.notifySubscribers(this[J])},
ga:function(){this.notifySubscribers(this[J],"beforeChange")}};b.a.ka&&b.a.Xa(S,b.J.fn);var V=b.N.gd="__ko_proto__";S[V]=b.N;b.Oa=function(a,c){return null===a||a===d||a[V]===d?!1:a[V]===c?!0:b.Oa(a[V],c)};b.H=function(a){return b.Oa(a,b.N)};b.Ba=function(a){return"function"==typeof a&&a[V]===b.N||"function"==typeof a&&a[V]===b.B&&a.Vc?!0:!1};b.b("observable",b.N);b.b("isObservable",b.H);b.b("isWriteableObservable",b.Ba);b.b("isWritableObservable",b.Ba);b.b("observable.fn",S);b.G(S,"peek",S.t);b.G(S,
"valueHasMutated",S.fa);b.G(S,"valueWillMutate",S.ga);b.la=function(a){a=a||[];if("object"!=typeof a||!("length"in a))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");a=b.N(a);b.a.Ya(a,b.la.fn);return a.extend({trackArrayChanges:!0})};b.la.fn={remove:function(a){for(var c=this.t(),d=[],e="function"!=typeof a||b.H(a)?function(b){return b===a}:a,g=0;g<c.length;g++){var h=c[g];e(h)&&(0===d.length&&this.ga(),d.push(h),c.splice(g,1),g--)}d.length&&
this.fa();return d},removeAll:function(a){if(a===d){var c=this.t(),e=c.slice(0);this.ga();c.splice(0,c.length);this.fa();return e}return a?this.remove(function(c){return 0<=b.a.o(a,c)}):[]},destroy:function(a){var c=this.t(),d="function"!=typeof a||b.H(a)?function(b){return b===a}:a;this.ga();for(var e=c.length-1;0<=e;e--)d(c[e])&&(c[e]._destroy=!0);this.fa()},destroyAll:function(a){return a===d?this.destroy(function(){return!0}):a?this.destroy(function(c){return 0<=b.a.o(a,c)}):[]},indexOf:function(a){var c=
this();return b.a.o(c,a)},replace:function(b,a){var c=this.indexOf(b);0<=c&&(this.ga(),this.t()[c]=a,this.fa())}};b.a.ka&&b.a.Xa(b.la.fn,b.N.fn);b.a.q("pop push reverse shift sort splice unshift".split(" "),function(a){b.la.fn[a]=function(){var b=this.t();this.ga();this.Vb(b,a,arguments);var c=b[a].apply(b,arguments);this.fa();return c===b?this:c}});b.a.q(["slice"],function(a){b.la.fn[a]=function(){var b=this();return b[a].apply(b,arguments)}});b.b("observableArray",b.la);b.ya.trackArrayChanges=function(a,
c){function d(){if(!e){e=!0;var c=a.notifySubscribers;a.notifySubscribers=function(b,a){a&&a!==ba||++k;return c.apply(this,arguments)};var l=[].concat(a.t()||[]);g=null;h=a.X(function(c){c=[].concat(c||[]);if(a.Pa("arrayChange")){var d;if(!g||1<k)g=b.a.ib(l,c,a.hb);d=g}l=c;g=null;k=0;d&&d.length&&a.notifySubscribers(d,"arrayChange")})}}a.hb={};c&&"object"==typeof c&&b.a.extend(a.hb,c);a.hb.sparse=!0;if(!a.Vb){var e=!1,g=null,h,k=0,p=a.sa,N=a.Ia;a.sa=function(b){p&&p.call(a,b);"arrayChange"===b&&d()};
a.Ia=function(b){N&&N.call(a,b);"arrayChange"!==b||a.Pa("arrayChange")||(h.k(),e=!1)};a.Vb=function(a,c,f){function d(b,a,c){return l[l.length]={status:b,value:a,index:c}}if(e&&!k){var l=[],h=a.length,u=f.length,p=0;switch(c){case "push":p=h;case "unshift":for(c=0;c<u;c++)d("added",f[c],p+c);break;case "pop":p=h-1;case "shift":h&&d("deleted",a[p],p);break;case "splice":c=Math.min(Math.max(0,0>f[0]?h+f[0]:f[0]),h);for(var h=1===u?h:Math.min(c+(f[1]||0),h),u=c+u-2,p=Math.max(h,u),N=[],n=[],m=2;c<p;++c,
++m)c<h&&n.push(d("deleted",a[c],c)),c<u&&N.push(d("added",f[m],c));b.a.dc(n,N);break;default:return}g=l}}}};var C=b.a.Yb("_state");b.m=b.B=function(a,c,e){function g(){if(0<arguments.length){if("function"===typeof h)h.apply(k.pb,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}b.l.oc(g);(k.S||k.s&&g.Qa())&&g.aa();return k.T}"object"===typeof a?e=a:(e=e||{},a&&(e.read=
a));if("function"!=typeof e.read)throw Error("Pass a function that returns the value of the ko.computed");var h=e.write,k={T:d,S:!0,Ra:!1,Fb:!1,R:!1,Va:!1,s:!1,jd:e.read,pb:c||e.owner,i:e.disposeWhenNodeIsRemoved||e.i||null,wa:e.disposeWhen||e.wa,mb:null,r:{},L:0,bc:null};g[C]=k;g.Vc="function"===typeof h;b.a.ka||b.a.extend(g,b.J.fn);b.J.fn.rb(g);b.a.Ya(g,D);e.pure?(k.Va=!0,k.s=!0,b.a.extend(g,t)):e.deferEvaluation&&b.a.extend(g,K);b.options.deferUpdates&&b.ya.deferred(g,!0);k.i&&(k.Fb=!0,k.i.nodeType||
(k.i=null));k.s||e.deferEvaluation||g.aa();k.i&&g.ba()&&b.a.F.oa(k.i,k.mb=function(){g.k()});return g};var D={equalityComparer:m,Aa:function(){return this[C].L},Pb:function(b,a,c){if(this[C].Va&&a===this)throw Error("A 'pure' computed must not be called recursively");this[C].r[b]=c;c.Ga=this[C].L++;c.na=a.Na()},Qa:function(){var b,a,c=this[C].r;for(b in c)if(c.hasOwnProperty(b)&&(a=c[b],a.ia.Uc(a.na)))return!0},bd:function(){this.Fa&&!this[C].Ra&&this.Fa()},ba:function(){return this[C].S||0<this[C].L},
ld:function(){this.Mb||this.ac()},uc:function(b){if(b.cb&&!this[C].i){var a=b.X(this.bd,this,"dirty"),c=b.X(this.ld,this);return{ia:b,k:function(){a.k();c.k()}}}return b.X(this.ac,this)},ac:function(){var a=this,c=a.throttleEvaluation;c&&0<=c?(clearTimeout(this[C].bc),this[C].bc=b.a.setTimeout(function(){a.aa(!0)},c)):a.Fa?a.Fa():a.aa(!0)},aa:function(a){var c=this[C],d=c.wa;if(!c.Ra&&!c.R){if(c.i&&!b.a.nb(c.i)||d&&d()){if(!c.Fb){this.k();return}}else c.Fb=!1;c.Ra=!0;try{this.Qc(a)}finally{c.Ra=!1}c.L||
this.k()}},Qc:function(a){var c=this[C],e=c.Va?d:!c.L,g={Hc:this,Ma:c.r,lb:c.L};b.l.Ub({Gc:g,gb:O,m:this,Sa:e});c.r={};c.L=0;g=this.Pc(c,g);this.tb(c.T,g)&&(c.s||this.notifySubscribers(c.T,"beforeChange"),c.T=g,c.s?this.zc():a&&this.notifySubscribers(c.T));e&&this.notifySubscribers(c.T,"awake")},Pc:function(a,c){try{var d=a.jd;return a.pb?d.call(a.pb):d()}finally{b.l.end(),c.lb&&!a.s&&b.a.D(c.Ma,I),a.S=!1}},t:function(){var b=this[C];(b.S&&!b.L||b.s&&this.Qa())&&this.aa();return b.T},Ta:function(a){b.J.fn.Ta.call(this,
a);this.Fa=function(){this.Kb(this[C].T);this[C].S=!0;this.Lb(this)}},k:function(){var a=this[C];!a.s&&a.r&&b.a.D(a.r,function(b,a){a.k&&a.k()});a.i&&a.mb&&b.a.F.pc(a.i,a.mb);a.r=null;a.L=0;a.R=!0;a.S=!1;a.s=!1;a.i=null}},t={sa:function(a){var c=this,d=c[C];if(!d.R&&d.s&&"change"==a){d.s=!1;if(d.S||c.Qa())d.r=null,d.L=0,d.S=!0,c.aa();else{var e=[];b.a.D(d.r,function(b,a){e[a.Ga]=b});b.a.q(e,function(b,a){var f=d.r[b],e=c.uc(f.ia);e.Ga=a;e.na=f.na;d.r[b]=e})}d.R||c.notifySubscribers(d.T,"awake")}},
Ia:function(a){var c=this[C];c.R||"change"!=a||this.Pa("change")||(b.a.D(c.r,function(b,a){a.k&&(c.r[b]={ia:a.ia,Ga:a.Ga,na:a.na},a.k())}),c.s=!0,this.notifySubscribers(d,"asleep"))},Na:function(){var a=this[C];a.s&&(a.S||this.Qa())&&this.aa();return b.J.fn.Na.call(this)}},K={sa:function(b){"change"!=b&&"beforeChange"!=b||this.t()}};b.a.ka&&b.a.Xa(D,b.J.fn);var y=b.N.gd;b.m[y]=b.N;D[y]=b.m;b.Xc=function(a){return b.Oa(a,b.m)};b.Yc=function(a){return b.Oa(a,b.m)&&a[C]&&a[C].Va};b.b("computed",b.m);
b.b("dependentObservable",b.m);b.b("isComputed",b.Xc);b.b("isPureComputed",b.Yc);b.b("computed.fn",D);b.G(D,"peek",D.t);b.G(D,"dispose",D.k);b.G(D,"isActive",D.ba);b.G(D,"getDependenciesCount",D.Aa);b.nc=function(a,c){if("function"===typeof a)return b.m(a,c,{pure:!0});a=b.a.extend({},a);a.pure=!0;return b.m(a,c)};b.b("pureComputed",b.nc);(function(){function a(b,g,h){h=h||new e;b=g(b);if("object"!=typeof b||null===b||b===d||b instanceof RegExp||b instanceof Date||b instanceof String||b instanceof
Number||b instanceof Boolean)return b;var k=b instanceof Array?[]:{};h.save(b,k);c(b,function(c){var e=g(b[c]);switch(typeof e){case "boolean":case "number":case "string":case "function":k[c]=e;break;case "object":case "undefined":var l=h.get(e);k[c]=l!==d?l:a(e,g,h)}});return k}function c(b,a){if(b instanceof Array){for(var f=0;f<b.length;f++)a(f);"function"==typeof b.toJSON&&a("toJSON")}else for(f in b)a(f)}function e(){this.keys=[];this.Ib=[]}b.wc=function(c){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");
return a(c,function(a){for(var c=0;b.H(a)&&10>c;c++)a=a();return a})};b.toJSON=function(a,c,f){a=b.wc(a);return b.a.Eb(a,c,f)};e.prototype={save:function(a,c){var f=b.a.o(this.keys,a);0<=f?this.Ib[f]=c:(this.keys.push(a),this.Ib.push(c))},get:function(a){a=b.a.o(this.keys,a);return 0<=a?this.Ib[a]:d}}})();b.b("toJS",b.wc);b.b("toJSON",b.toJSON);(function(){b.j={u:function(a){switch(b.a.A(a)){case "option":return!0===a.__ko__hasDomDataOptionValue__?b.a.e.get(a,b.d.options.xb):7>=b.a.C?a.getAttributeNode("value")&&
a.getAttributeNode("value").specified?a.value:a.text:a.value;case "select":return 0<=a.selectedIndex?b.j.u(a.options[a.selectedIndex]):d;default:return a.value}},ha:function(a,c,e){switch(b.a.A(a)){case "option":switch(typeof c){case "string":b.a.e.set(a,b.d.options.xb,d);"__ko__hasDomDataOptionValue__"in a&&delete a.__ko__hasDomDataOptionValue__;a.value=c;break;default:b.a.e.set(a,b.d.options.xb,c),a.__ko__hasDomDataOptionValue__=!0,a.value="number"===typeof c?c:""}break;case "select":if(""===c||
null===c)c=d;for(var g=-1,h=0,k=a.options.length,n;h<k;++h)if(n=b.j.u(a.options[h]),n==c||""==n&&c===d){g=h;break}if(e||0<=g||c===d&&1<a.size)a.selectedIndex=g;break;default:if(null===c||c===d)c="";a.value=c}}}})();b.b("selectExtensions",b.j);b.b("selectExtensions.readValue",b.j.u);b.b("selectExtensions.writeValue",b.j.ha);b.h=function(){function a(c){c=b.a.$a(c);123===c.charCodeAt(0)&&(c=c.slice(1,-1));var f=[],d=c.match(e),l,k=[],n=0;if(d){d.push(",");for(var u=0,m;m=d[u];++u){var t=m.charCodeAt(0);
if(44===t){if(0>=n){f.push(l&&k.length?{key:l,value:k.join("")}:{unknown:l||k.join("")});l=n=0;k=[];continue}}else if(58===t){if(!n&&!l&&1===k.length){l=k.pop();continue}}else 47===t&&u&&1<m.length?(t=d[u-1].match(g))&&!h[t[0]]&&(c=c.substr(c.indexOf(m)+1),d=c.match(e),d.push(","),u=-1,m="/"):40===t||123===t||91===t?++n:41===t||125===t||93===t?--n:l||k.length||34!==t&&39!==t||(m=m.slice(1,-1));k.push(m)}}return f}var c=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,
e=/"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\/(?:[^/\\]|\\.)*\/w*|[^\s:,/][^,"'{}()/:[\]]*[^\s,"'{}()/:[\]]|[^\s]/g,g=/[\])"'A-Za-z0-9_$]+$/,h={"in":1,"return":1,"typeof":1},k={};return{ta:[],ea:k,yb:a,Ua:function(e,g){function h(a,f){var e;if(!t){var g=b.getBindingHandler(a);if(g&&g.preprocess&&!(f=g.preprocess(f,a,h)))return;if(g=k[a])e=f,0<=b.a.o(c,e)?e=!1:(g=e.match(d),e=null===g?!1:g[1]?"Object("+g[1]+")"+g[2]:e),g=e;g&&z.push("'"+a+"':function(_z){"+e+"=_z}")}m&&(f="function(){return "+f+" }");n.push("'"+
a+"':"+f)}g=g||{};var n=[],z=[],m=g.valueAccessors,t=g.bindingParams,Wa="string"===typeof e?a(e):e;b.a.q(Wa,function(b){h(b.key||b.unknown,b.value)});z.length&&h("_ko_property_writers","{"+z.join(",")+" }");return n.join(",")},ad:function(b,a){for(var c=0;c<b.length;c++)if(b[c].key==a)return!0;return!1},Ea:function(a,c,f,d,e){if(a&&b.H(a))!b.Ba(a)||e&&a.t()===d||a(d);else if((a=c.get("_ko_property_writers"))&&a[f])a[f](d)}}}();b.b("expressionRewriting",b.h);b.b("expressionRewriting.bindingRewriteValidators",
b.h.ta);b.b("expressionRewriting.parseObjectLiteral",b.h.yb);b.b("expressionRewriting.preProcessBindings",b.h.Ua);b.b("expressionRewriting._twoWayBindings",b.h.ea);b.b("jsonExpressionRewriting",b.h);b.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",b.h.Ua);(function(){function a(b){return 8==b.nodeType&&k.test(g?b.text:b.nodeValue)}function c(b){return 8==b.nodeType&&n.test(g?b.text:b.nodeValue)}function d(b,e){for(var g=b,h=1,l=[];g=g.nextSibling;){if(c(g)&&(h--,0===h))return l;l.push(g);
a(g)&&h++}if(!e)throw Error("Cannot find closing comment tag to match: "+b.nodeValue);return null}function e(b,a){var c=d(b,a);return c?0<c.length?c[c.length-1].nextSibling:b.nextSibling:null}var g=h&&"\x3c!--test--\x3e"===h.createComment("test").text,k=g?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,n=g?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,p={ul:!0,ol:!0};b.f={Z:{},childNodes:function(b){return a(b)?d(b):b.childNodes},xa:function(c){if(a(c)){c=b.f.childNodes(c);for(var d=
0,e=c.length;d<e;d++)b.removeNode(c[d])}else b.a.ob(c)},da:function(c,d){if(a(c)){b.f.xa(c);for(var e=c.nextSibling,g=0,h=d.length;g<h;g++)e.parentNode.insertBefore(d[g],e)}else b.a.da(c,d)},mc:function(b,c){a(b)?b.parentNode.insertBefore(c,b.nextSibling):b.firstChild?b.insertBefore(c,b.firstChild):b.appendChild(c)},gc:function(c,d,e){e?a(c)?c.parentNode.insertBefore(d,e.nextSibling):e.nextSibling?c.insertBefore(d,e.nextSibling):c.appendChild(d):b.f.mc(c,d)},firstChild:function(b){return a(b)?!b.nextSibling||
c(b.nextSibling)?null:b.nextSibling:b.firstChild},nextSibling:function(b){a(b)&&(b=e(b));return b.nextSibling&&c(b.nextSibling)?null:b.nextSibling},Tc:a,pd:function(b){return(b=(g?b.text:b.nodeValue).match(k))?b[1]:null},kc:function(d){if(p[b.a.A(d)]){var g=d.firstChild;if(g){do if(1===g.nodeType){var h;h=g.firstChild;var l=null;if(h){do if(l)l.push(h);else if(a(h)){var k=e(h,!0);k?h=k:l=[h]}else c(h)&&(l=[h]);while(h=h.nextSibling)}if(h=l)for(l=g.nextSibling,k=0;k<h.length;k++)l?d.insertBefore(h[k],
l):d.appendChild(h[k])}while(g=g.nextSibling)}}}}})();b.b("virtualElements",b.f);b.b("virtualElements.allowedBindings",b.f.Z);b.b("virtualElements.emptyNode",b.f.xa);b.b("virtualElements.insertAfter",b.f.gc);b.b("virtualElements.prepend",b.f.mc);b.b("virtualElements.setDomNodeChildren",b.f.da);(function(){b.Q=function(){this.Fc={}};b.a.extend(b.Q.prototype,{nodeHasBindings:function(a){switch(a.nodeType){case 1:return null!=a.getAttribute("data-bind")||b.g.getComponentNameForNode(a);case 8:return b.f.Tc(a);
default:return!1}},getBindings:function(a,c){var d=this.getBindingsString(a,c),d=d?this.parseBindingsString(d,c,a):null;return b.g.Ob(d,a,c,!1)},getBindingAccessors:function(a,c){var d=this.getBindingsString(a,c),d=d?this.parseBindingsString(d,c,a,{valueAccessors:!0}):null;return b.g.Ob(d,a,c,!0)},getBindingsString:function(a){switch(a.nodeType){case 1:return a.getAttribute("data-bind");case 8:return b.f.pd(a);default:return null}},parseBindingsString:function(a,c,d,e){try{var g=this.Fc,h=a+(e&&e.valueAccessors||
""),k;if(!(k=g[h])){var p,n="with($context){with($data||{}){return{"+b.h.Ua(a,e)+"}}}";p=new Function("$context","$element",n);k=g[h]=p}return k(c,d)}catch(w){throw w.message="Unable to parse bindings.\nBindings value: "+a+"\nMessage: "+w.message,w;}}});b.Q.instance=new b.Q})();b.b("bindingProvider",b.Q);(function(){function a(b){return function(){return b}}function g(b){return b()}function h(a){return b.a.Ca(b.l.w(a),function(b,c){return function(){return a()[c]}})}function k(c,d,e){return"function"===
typeof c?h(c.bind(null,d,e)):b.a.Ca(c,a)}function n(b,a){return h(this.getBindings.bind(this,b,a))}function m(a,c,f){var d,e=b.f.firstChild(c),g=b.Q.instance,h=g.preprocessNode;if(h){for(;d=e;)e=b.f.nextSibling(d),h.call(g,d);e=b.f.firstChild(c)}for(;d=e;)e=b.f.nextSibling(d),t(a,d,f)}function t(a,c,d){var f=!0,e=1===c.nodeType;e&&b.f.kc(c);if(e&&d||b.Q.instance.nodeHasBindings(c))f=N(c,null,a,d).shouldBindDescendants;f&&!F[b.a.A(c)]&&m(a,c,!e)}function p(a){var c=[],d={},f=[];b.a.D(a,function ea(e){if(!d[e]){var g=
b.getBindingHandler(e);g&&(g.after&&(f.push(e),b.a.q(g.after,function(c){if(a[c]){if(-1!==b.a.o(f,c))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+f.join(", "));ea(c)}}),f.length--),c.push({key:e,fc:g}));d[e]=!0}});return c}function N(a,c,f,e){var h=b.a.e.get(a,r);if(!c){if(h)throw Error("You cannot apply bindings multiple times to the same element.");b.a.e.set(a,r,!0)}!h&&e&&b.tc(a,f);var k;if(c&&"function"!==typeof c)k=c;else{var l=b.Q.instance,w=l.getBindingAccessors||
n,z=b.B(function(){(k=c?c(f,a):w.call(l,a,f))&&f.P&&f.P();return k},null,{i:a});k&&z.ba()||(z=null)}var m;if(k){var N=z?function(b){return function(){return g(z()[b])}}:function(b){return k[b]},t=function(){return b.a.Ca(z?z():k,g)};t.get=function(b){return k[b]&&g(N(b))};t.has=function(b){return b in k};e=p(k);b.a.q(e,function(c){var e=c.fc.init,g=c.fc.update,h=c.key;if(8===a.nodeType&&!b.f.Z[h])throw Error("The binding '"+h+"' cannot be used with virtual elements");try{"function"==typeof e&&b.l.w(function(){var b=
e(a,N(h),t,f.$data,f);if(b&&b.controlsDescendantBindings){if(m!==d)throw Error("Multiple bindings ("+m+" and "+h+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");m=h}}),"function"==typeof g&&b.B(function(){g(a,N(h),t,f.$data,f)},null,{i:a})}catch(l){throw l.message='Unable to process binding "'+h+": "+k[h]+'"\nMessage: '+l.message,l;}})}return{shouldBindDescendants:m===d}}function w(a){return a&&a instanceof b.U?a:new b.U(a)}
b.d={};var F={script:!0,textarea:!0,template:!0};b.getBindingHandler=function(a){return b.d[a]};b.U=function(a,c,f,e){var g=this,h="function"==typeof a&&!b.H(a),k,l=b.B(function(){var d=h?a():a,k=b.a.c(d);c?(c.P&&c.P(),b.a.extend(g,c),l&&(g.P=l)):(g.$parents=[],g.$root=k,g.ko=b);g.$rawData=d;g.$data=k;f&&(g[f]=k);e&&e(g,c,k);return g.$data},null,{wa:function(){return k&&!b.a.Qb(k)},i:!0});l.ba()&&(g.P=l,l.equalityComparer=null,k=[],l.Ac=function(a){k.push(a);b.a.F.oa(a,function(a){b.a.La(k,a);k.length||
(l.k(),g.P=l=d)})})};b.U.prototype.createChildContext=function(a,c,f){return new b.U(a,this,c,function(b,a){b.$parentContext=a;b.$parent=a.$data;b.$parents=(a.$parents||[]).slice(0);b.$parents.unshift(b.$parent);f&&f(b)})};b.U.prototype.extend=function(a){return new b.U(this.P||this.$data,this,null,function(c,f){c.$rawData=f.$rawData;b.a.extend(c,"function"==typeof a?a():a)})};var r=b.a.e.I(),y=b.a.e.I();b.tc=function(a,c){if(2==arguments.length)b.a.e.set(a,y,c),c.P&&c.P.Ac(a);else return b.a.e.get(a,
y)};b.Ja=function(a,c,f){1===a.nodeType&&b.f.kc(a);return N(a,c,w(f),!0)};b.Dc=function(a,c,f){f=w(f);return b.Ja(a,k(c,f,a),f)};b.eb=function(b,a){1!==a.nodeType&&8!==a.nodeType||m(w(b),a,!0)};b.Rb=function(b,a){!c&&e.jQuery&&(c=e.jQuery);if(a&&1!==a.nodeType&&8!==a.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");a=a||e.document.body;t(w(b),a,!0)};b.kb=function(a){switch(a.nodeType){case 1:case 8:var c=b.tc(a);if(c)return c;
if(a.parentNode)return b.kb(a.parentNode)}return d};b.Jc=function(a){return(a=b.kb(a))?a.$data:d};b.b("bindingHandlers",b.d);b.b("applyBindings",b.Rb);b.b("applyBindingsToDescendants",b.eb);b.b("applyBindingAccessorsToNode",b.Ja);b.b("applyBindingsToNode",b.Dc);b.b("contextFor",b.kb);b.b("dataFor",b.Jc)})();(function(a){function c(e,k){var n=g.hasOwnProperty(e)?g[e]:a,w;n?n.X(k):(n=g[e]=new b.J,n.X(k),d(e,function(a,c){var f=!(!c||!c.synchronous);h[e]={definition:a,Zc:f};delete g[e];w||f?n.notifySubscribers(a):
b.Y.Wa(function(){n.notifySubscribers(a)})}),w=!0)}function d(b,a){e("getConfig",[b],function(c){c?e("loadComponent",[b,c],function(b){a(b,c)}):a(null,null)})}function e(c,d,g,h){h||(h=b.g.loaders.slice(0));var k=h.shift();if(k){var l=k[c];if(l){var n=!1;if(l.apply(k,d.concat(function(b){n?g(null):null!==b?g(b):e(c,d,g,h)}))!==a&&(n=!0,!k.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");}else e(c,d,g,h)}else g(null)}
var g={},h={};b.g={get:function(d,e){var g=h.hasOwnProperty(d)?h[d]:a;g?g.Zc?b.l.w(function(){e(g.definition)}):b.Y.Wa(function(){e(g.definition)}):c(d,e)},Xb:function(b){delete h[b]},Jb:e};b.g.loaders=[];b.b("components",b.g);b.b("components.get",b.g.get);b.b("components.clearCachedDefinition",b.g.Xb)})();(function(){function a(c,f,d,e){function g(){0===--l&&e(h)}var h={},l=2,n=d.template;d=d.viewModel;n?k(f,n,function(a){b.g.Jb("loadTemplate",[c,a],function(b){h.template=b;g()})}):g();d?k(f,d,function(a){b.g.Jb("loadViewModel",
[c,a],function(b){h[p]=b;g()})}):g()}function c(b,a,f){if("function"===typeof a)f(function(b){return new a(b)});else if("function"===typeof a[p])f(a[p]);else if("instance"in a){var d=a.instance;f(function(){return d})}else"viewModel"in a?c(b,a.viewModel,f):b("Unknown viewModel value: "+a)}function d(a){switch(b.a.A(a)){case "script":return b.a.ma(a.text);case "textarea":return b.a.ma(a.value);case "template":if(g(a.content))return b.a.ua(a.content.childNodes)}return b.a.ua(a.childNodes)}function g(b){return e.DocumentFragment?
b instanceof DocumentFragment:b&&11===b.nodeType}function k(b,a,c){"string"===typeof a.require?n||e.require?(n||e.require)([a.require],c):b("Uses require, but no AMD loader is present"):c(a)}function m(b){return function(a){throw Error("Component '"+b+"': "+a);}}var t={};b.g.register=function(a,c){if(!c)throw Error("Invalid configuration for "+a);if(b.g.ub(a))throw Error("Component "+a+" is already registered");t[a]=c};b.g.ub=function(b){return t.hasOwnProperty(b)};b.g.od=function(a){delete t[a];
b.g.Xb(a)};b.g.Zb={getConfig:function(b,a){a(t.hasOwnProperty(b)?t[b]:null)},loadComponent:function(b,c,d){var e=m(b);k(e,c,function(c){a(b,e,c,d)})},loadTemplate:function(a,c,f){a=m(a);if("string"===typeof c)f(b.a.ma(c));else if(c instanceof Array)f(c);else if(g(c))f(b.a.V(c.childNodes));else if(c.element)if(c=c.element,e.HTMLElement?c instanceof HTMLElement:c&&c.tagName&&1===c.nodeType)f(d(c));else if("string"===typeof c){var k=h.getElementById(c);k?f(d(k)):a("Cannot find element with ID "+c)}else a("Unknown element type: "+
c);else a("Unknown template value: "+c)},loadViewModel:function(b,a,f){c(m(b),a,f)}};var p="createViewModel";b.b("components.register",b.g.register);b.b("components.isRegistered",b.g.ub);b.b("components.unregister",b.g.od);b.b("components.defaultLoader",b.g.Zb);b.g.loaders.push(b.g.Zb);b.g.Bc=t})();(function(){function a(f,d){var e=f.getAttribute("params");if(e){var e=c.parseBindingsString(e,d,f,{valueAccessors:!0,bindingParams:!0}),e=b.a.Ca(e,function(a){return b.m(a,null,{i:f})}),g=b.a.Ca(e,function(a){var c=
a.t();return a.ba()?b.m({read:function(){return b.a.c(a())},write:b.Ba(c)&&function(b){a()(b)},i:f}):c});g.hasOwnProperty("$raw")||(g.$raw=e);return g}return{$raw:{}}}b.g.getComponentNameForNode=function(a){var c=b.a.A(a);if(b.g.ub(c)&&(-1!=c.indexOf("-")||"[object HTMLUnknownElement]"==""+a||8>=b.a.C&&a.tagName===c))return c};b.g.Ob=function(c,d,e,g){if(1===d.nodeType){var h=b.g.getComponentNameForNode(d);if(h){c=c||{};if(c.component)throw Error('Cannot use the "component" binding on a custom element matching a component');
var k={name:h,params:a(d,e)};c.component=g?function(){return k}:k}}return c};var c=new b.Q;9>b.a.C&&(b.g.register=function(b){return function(a){h.createElement(a);return b.apply(this,arguments)}}(b.g.register),h.createDocumentFragment=function(a){return function(){var c=a(),f=b.g.Bc,d;for(d in f)f.hasOwnProperty(d)&&c.createElement(d);return c}}(h.createDocumentFragment))})();(function(a){function c(a,f,d){f=f.template;if(!f)throw Error("Component '"+a+"' has no template");a=b.a.ua(f);b.f.da(d,a)}
function d(b,a,c,f){var e=b.createViewModel;return e?e.call(b,f,{element:a,templateNodes:c}):f}var e=0;b.d.component={init:function(g,h,k,n,m){function w(){var b=t&&t.dispose;"function"===typeof b&&b.call(t);r=t=null}var t,r,y=b.a.V(b.f.childNodes(g));b.a.F.oa(g,w);b.m(function(){var k=b.a.c(h()),n,p;"string"===typeof k?n=k:(n=b.a.c(k.name),p=b.a.c(k.params));if(!n)throw Error("No component name specified");var x=r=++e;b.g.get(n,function(e){if(r===x){w();if(!e)throw Error("Unknown component '"+n+
"'");c(n,e,g);var h=d(e,g,y,p);e=m.createChildContext(h,a,function(b){b.$component=h;b.$componentTemplateNodes=y});t=h;b.eb(e,g)}})},null,{i:g});return{controlsDescendantBindings:!0}}};b.f.Z.component=!0})();var da={"class":"className","for":"htmlFor"};b.d.attr={update:function(a,c){var e=b.a.c(c())||{};b.a.D(e,function(c,e){e=b.a.c(e);var g=!1===e||null===e||e===d;g&&a.removeAttribute(c);8>=b.a.C&&c in da?(c=da[c],g?a.removeAttribute(c):a[c]=e):g||a.setAttribute(c,e.toString());"name"===c&&b.a.rc(a,
g?"":e.toString())})}};(function(){b.d.checked={after:["value","attr"],init:function(a,c,e){function g(){var d=a.checked,h=y?k():d;if(!b.va.Sa()&&(!p||d)){var n=b.l.w(c);if(w){var m=t?n.t():n;r!==h?(d&&(b.a.pa(m,h,!0),b.a.pa(m,r,!1)),r=h):b.a.pa(m,h,d);t&&b.Ba(n)&&n(m)}else b.h.Ea(n,e,"checked",h,!0)}}function h(){var d=b.a.c(c());a.checked=w?0<=b.a.o(d,k()):n?d:k()===d}var k=b.nc(function(){return e.has("checkedValue")?b.a.c(e.get("checkedValue")):e.has("value")?b.a.c(e.get("value")):a.value}),n=
"checkbox"==a.type,p="radio"==a.type;if(n||p){var m=c(),w=n&&b.a.c(m)instanceof Array,t=!(w&&m.push&&m.splice),r=w?k():d,y=p||w;p&&!a.name&&b.d.uniqueName.init(a,function(){return!0});b.m(g,null,{i:a});b.a.p(a,"click",g);b.m(h,null,{i:a});m=d}}};b.h.ea.checked=!0;b.d.checkedValue={update:function(a,c){a.value=b.a.c(c())}}})();b.d.css={update:function(a,c){var d=b.a.c(c());null!==d&&"object"==typeof d?b.a.D(d,function(c,d){d=b.a.c(d);b.a.bb(a,c,d)}):(d=b.a.$a(String(d||"")),b.a.bb(a,a.__ko__cssValue,
!1),a.__ko__cssValue=d,b.a.bb(a,d,!0))}};b.d.enable={update:function(a,c){var d=b.a.c(c());d&&a.disabled?a.removeAttribute("disabled"):d||a.disabled||(a.disabled=!0)}};b.d.disable={update:function(a,c){b.d.enable.update(a,function(){return!b.a.c(c())})}};b.d.event={init:function(a,c,d,e,g){var h=c()||{};b.a.D(h,function(h){"string"==typeof h&&b.a.p(a,h,function(a){var f,k=c()[h];if(k){try{var n=b.a.V(arguments);e=g.$data;n.unshift(e);f=k.apply(e,n)}finally{!0!==f&&(a.preventDefault?a.preventDefault():
a.returnValue=!1)}!1===d.get(h+"Bubble")&&(a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation())}})})}};b.d.foreach={ic:function(a){return function(){var c=a(),d=b.a.zb(c);if(!d||"number"==typeof d.length)return{foreach:c,templateEngine:b.W.sb};b.a.c(c);return{foreach:d.data,as:d.as,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:b.W.sb}}},init:function(a,c){return b.d.template.init(a,
b.d.foreach.ic(c))},update:function(a,c,d,e,g){return b.d.template.update(a,b.d.foreach.ic(c),d,e,g)}};b.h.ta.foreach=!1;b.f.Z.foreach=!0;b.d.hasfocus={init:function(a,c,d){function e(g){a.__ko_hasfocusUpdating=!0;var h=a.ownerDocument;if("activeElement"in h){var k;try{k=h.activeElement}catch(n){k=h.body}g=k===a}h=c();b.h.Ea(h,d,"hasfocus",g,!0);a.__ko_hasfocusLastValue=g;a.__ko_hasfocusUpdating=!1}var g=e.bind(null,!0),h=e.bind(null,!1);b.a.p(a,"focus",g);b.a.p(a,"focusin",g);b.a.p(a,"blur",h);b.a.p(a,
"focusout",h)},update:function(a,c){var d=!!b.a.c(c());a.__ko_hasfocusUpdating||a.__ko_hasfocusLastValue===d||(d?a.focus():a.blur(),!d&&a.__ko_hasfocusLastValue&&a.ownerDocument.body.focus(),b.l.w(b.a.Da,null,[a,d?"focusin":"focusout"]))}};b.h.ea.hasfocus=!0;b.d.hasFocus=b.d.hasfocus;b.h.ea.hasFocus=!0;b.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(a,c){b.a.Cb(a,c())}};P("if");P("ifnot",!1,!0);P("with",!0,!1,function(b,a){return b.createChildContext(a)});var M={};
b.d.options={init:function(a){if("select"!==b.a.A(a))throw Error("options binding applies only to SELECT elements");for(;0<a.length;)a.remove(0);return{controlsDescendantBindings:!0}},update:function(a,c,e){function g(){return b.a.Ka(a.options,function(b){return b.selected})}function h(b,a,c){var d=typeof a;return"function"==d?a(b):"string"==d?b[a]:c}function k(c,d){if(x&&w)b.j.ha(a,b.a.c(e.get("value")),!0);else if(y.length){var g=0<=b.a.o(y,b.j.u(d[0]));b.a.sc(d[0],g);x&&!g&&b.l.w(b.a.Da,null,[a,
"change"])}}var n=a.multiple,p=0!=a.length&&n?a.scrollTop:null,m=b.a.c(c()),w=e.get("valueAllowUnset")&&e.has("value"),t=e.get("optionsIncludeDestroyed");c={};var r,y=[];w||(n?y=b.a.fb(g(),b.j.u):0<=a.selectedIndex&&y.push(b.j.u(a.options[a.selectedIndex])));m&&("undefined"==typeof m.length&&(m=[m]),r=b.a.Ka(m,function(a){return t||a===d||null===a||!b.a.c(a._destroy)}),e.has("optionsCaption")&&(m=b.a.c(e.get("optionsCaption")),null!==m&&m!==d&&r.unshift(M)));var x=!1;c.beforeRemove=function(b){a.removeChild(b)};
m=k;e.has("optionsAfterRender")&&"function"==typeof e.get("optionsAfterRender")&&(m=function(a,c){k(0,c);b.l.w(e.get("optionsAfterRender"),null,[c[0],a!==M?a:d])});b.a.Bb(a,r,function(c,g,k){k.length&&(y=!w&&k[0].selected?[b.j.u(k[0])]:[],x=!0);g=a.ownerDocument.createElement("option");c===M?(b.a.Za(g,e.get("optionsCaption")),b.j.ha(g,d)):(k=h(c,e.get("optionsValue"),c),b.j.ha(g,b.a.c(k)),c=h(c,e.get("optionsText"),k),b.a.Za(g,c));return[g]},c,m);b.l.w(function(){w?b.j.ha(a,b.a.c(e.get("value")),
!0):(n?y.length&&g().length<y.length:y.length&&0<=a.selectedIndex?b.j.u(a.options[a.selectedIndex])!==y[0]:y.length||0<=a.selectedIndex)&&b.a.Da(a,"change")});b.a.Nc(a);p&&20<Math.abs(p-a.scrollTop)&&(a.scrollTop=p)}};b.d.options.xb=b.a.e.I();b.d.selectedOptions={after:["options","foreach"],init:function(a,c,d){b.a.p(a,"change",function(){var e=c(),g=[];b.a.q(a.getElementsByTagName("option"),function(a){a.selected&&g.push(b.j.u(a))});b.h.Ea(e,d,"selectedOptions",g)})},update:function(a,c){if("select"!=
b.a.A(a))throw Error("values binding applies only to SELECT elements");var d=b.a.c(c()),e=a.scrollTop;d&&"number"==typeof d.length&&b.a.q(a.getElementsByTagName("option"),function(a){var c=0<=b.a.o(d,b.j.u(a));a.selected!=c&&b.a.sc(a,c)});a.scrollTop=e}};b.h.ea.selectedOptions=!0;b.d.style={update:function(a,c){var e=b.a.c(c()||{});b.a.D(e,function(c,e){e=b.a.c(e);if(null===e||e===d||!1===e)e="";a.style[c]=e})}};b.d.submit={init:function(a,c,d,e,g){if("function"!=typeof c())throw Error("The value for a submit binding must be a function");
b.a.p(a,"submit",function(b){var d,e=c();try{d=e.call(g.$data,a)}finally{!0!==d&&(b.preventDefault?b.preventDefault():b.returnValue=!1)}})}};b.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(a,c){b.a.Za(a,c())}};b.f.Z.text=!0;(function(){if(e&&e.navigator)var a=function(b){if(b)return parseFloat(b[1])},c=e.opera&&e.opera.version&&parseInt(e.opera.version()),g=e.navigator.userAgent,h=a(g.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),k=a(g.match(/Firefox\/([^ ]*)/));
if(10>b.a.C)var n=b.a.e.I(),m=b.a.e.I(),p=function(a){var c=this.activeElement;(c=c&&b.a.e.get(c,m))&&c(a)},t=function(a,c){var d=a.ownerDocument;b.a.e.get(d,n)||(b.a.e.set(d,n,!0),b.a.p(d,"selectionchange",p));b.a.e.set(a,m,c)};b.d.textInput={init:function(a,e,g){function f(c,d){b.a.p(a,c,d)}function n(){var c=b.a.c(e());if(null===c||c===d)c="";x!==d&&c===x?b.a.setTimeout(n,4):a.value!==c&&(p=c,a.value=c)}function l(){y||(x=a.value,y=b.a.setTimeout(m,4))}function m(){clearTimeout(y);x=y=d;var c=
a.value;p!==c&&(p=c,b.h.Ea(e(),g,"textInput",c))}var p=a.value,y,x,K=9==b.a.C?l:m;10>b.a.C?(f("propertychange",function(b){"value"===b.propertyName&&K(b)}),8==b.a.C&&(f("keyup",m),f("keydown",m)),8<=b.a.C&&(t(a,K),f("dragend",l))):(f("input",m),5>h&&"textarea"===b.a.A(a)?(f("keydown",l),f("paste",l),f("cut",l)):11>c?f("keydown",l):4>k&&(f("DOMAutoComplete",m),f("dragdrop",m),f("drop",m)));f("change",m);b.m(n,null,{i:a})}};b.h.ea.textInput=!0;b.d.textinput={preprocess:function(b,a,c){c("textInput",
b)}}})();b.d.uniqueName={init:function(a,c){if(c()){var d="ko_unique_"+ ++b.d.uniqueName.Ic;b.a.rc(a,d)}}};b.d.uniqueName.Ic=0;b.d.value={after:["options","foreach"],init:function(a,c,d){if("input"!=a.tagName.toLowerCase()||"checkbox"!=a.type&&"radio"!=a.type){var e=["change"],g=d.get("valueUpdate"),h=!1,k=null;g&&("string"==typeof g&&(g=[g]),b.a.ra(e,g),e=b.a.Tb(e));var n=function(){k=null;h=!1;var e=c(),g=b.j.u(a);b.h.Ea(e,d,"value",g)};!b.a.C||"input"!=a.tagName.toLowerCase()||"text"!=a.type||
"off"==a.autocomplete||a.form&&"off"==a.form.autocomplete||-1!=b.a.o(e,"propertychange")||(b.a.p(a,"propertychange",function(){h=!0}),b.a.p(a,"focus",function(){h=!1}),b.a.p(a,"blur",function(){h&&n()}));b.a.q(e,function(c){var d=n;b.a.nd(c,"after")&&(d=function(){k=b.j.u(a);b.a.setTimeout(n,0)},c=c.substring(5));b.a.p(a,c,d)});var m=function(){var e=b.a.c(c()),g=b.j.u(a);if(null!==k&&e===k)b.a.setTimeout(m,0);else if(e!==g)if("select"===b.a.A(a)){var h=d.get("valueAllowUnset"),g=function(){b.j.ha(a,
e,h)};g();h||e===b.j.u(a)?b.a.setTimeout(g,0):b.l.w(b.a.Da,null,[a,"change"])}else b.j.ha(a,e)};b.m(m,null,{i:a})}else b.Ja(a,{checkedValue:c})},update:function(){}};b.h.ea.value=!0;b.d.visible={update:function(a,c){var d=b.a.c(c()),e="none"!=a.style.display;d&&!e?a.style.display="":!d&&e&&(a.style.display="none")}};(function(a){b.d[a]={init:function(c,d,e,g,h){return b.d.event.init.call(this,c,function(){var b={};b[a]=d();return b},e,g,h)}}})("click");b.O=function(){};b.O.prototype.renderTemplateSource=
function(){throw Error("Override renderTemplateSource");};b.O.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock");};b.O.prototype.makeTemplateSource=function(a,c){if("string"==typeof a){c=c||h;var d=c.getElementById(a);if(!d)throw Error("Cannot find template with ID "+a);return new b.v.n(d)}if(1==a.nodeType||8==a.nodeType)return new b.v.qa(a);throw Error("Unknown template type: "+a);};b.O.prototype.renderTemplate=function(b,a,c,d){b=this.makeTemplateSource(b,
d);return this.renderTemplateSource(b,a,c,d)};b.O.prototype.isTemplateRewritten=function(b,a){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(b,a).data("isRewritten")};b.O.prototype.rewriteTemplate=function(b,a,c){b=this.makeTemplateSource(b,c);a=a(b.text());b.text(a);b.data("isRewritten",!0)};b.b("templateEngine",b.O);b.Gb=function(){function a(c,d,e,g){c=b.h.yb(c);for(var f=b.h.ta,h=0;h<c.length;h++){var k=c[h].key;if(f.hasOwnProperty(k)){var n=f[k];if("function"===typeof n){if(k=
n(c[h].value))throw Error(k);}else if(!n)throw Error("This template engine does not support the '"+k+"' binding within its templates");}}e="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+b.h.Ua(c,{valueAccessors:!0})+" } })()},'"+e.toLowerCase()+"')";return g.createJavaScriptEvaluatorBlock(e)+d}var c=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,d=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Oc:function(a,
c,d){c.isTemplateRewritten(a,d)||c.rewriteTemplate(a,function(a){return b.Gb.dd(a,c)},d)},dd:function(b,e){return b.replace(c,function(b,c,d,g,h){return a(h,c,d,e)}).replace(d,function(b,c){return a(c,"\x3c!-- ko --\x3e","#comment",e)})},Ec:function(a,c){return b.M.wb(function(d,e){var g=d.nextSibling;g&&g.nodeName.toLowerCase()===c&&b.Ja(g,a,e)})}}}();b.b("__tr_ambtns",b.Gb.Ec);(function(){b.v={};b.v.n=function(a){if(this.n=a){var c=b.a.A(a);this.ab="script"===c?1:"textarea"===c?2:"template"==c&&
a.content&&11===a.content.nodeType?3:4}};b.v.n.prototype.text=function(){var a=1===this.ab?"text":2===this.ab?"value":"innerHTML";if(0==arguments.length)return this.n[a];var c=arguments[0];"innerHTML"===a?b.a.Cb(this.n,c):this.n[a]=c};var a=b.a.e.I()+"_";b.v.n.prototype.data=function(c){if(1===arguments.length)return b.a.e.get(this.n,a+c);b.a.e.set(this.n,a+c,arguments[1])};var c=b.a.e.I();b.v.n.prototype.nodes=function(){var a=this.n;if(0==arguments.length)return(b.a.e.get(a,c)||{}).jb||(3===this.ab?
a.content:4===this.ab?a:d);b.a.e.set(a,c,{jb:arguments[0]})};b.v.qa=function(b){this.n=b};b.v.qa.prototype=new b.v.n;b.v.qa.prototype.text=function(){if(0==arguments.length){var a=b.a.e.get(this.n,c)||{};a.Hb===d&&a.jb&&(a.Hb=a.jb.innerHTML);return a.Hb}b.a.e.set(this.n,c,{Hb:arguments[0]})};b.b("templateSources",b.v);b.b("templateSources.domElement",b.v.n);b.b("templateSources.anonymousTemplate",b.v.qa)})();(function(){function a(c,d,e){var g;for(d=b.f.nextSibling(d);c&&(g=c)!==d;)c=b.f.nextSibling(g),
e(g,c)}function c(d,e){if(d.length){var g=d[0],h=d[d.length-1],k=g.parentNode,n=b.Q.instance,l=n.preprocessNode;if(l){a(g,h,function(b,a){var c=b.previousSibling,d=l.call(n,b);d&&(b===g&&(g=d[0]||a),b===h&&(h=d[d.length-1]||c))});d.length=0;if(!g)return;g===h?d.push(g):(d.push(g,h),b.a.za(d,k))}a(g,h,function(a){1!==a.nodeType&&8!==a.nodeType||b.Rb(e,a)});a(g,h,function(a){1!==a.nodeType&&8!==a.nodeType||b.M.yc(a,[e])});b.a.za(d,k)}}function e(b){return b.nodeType?b:0<b.length?b[0]:null}function g(a,
d,f,h,n){n=n||{};var m=(a&&e(a)||f||{}).ownerDocument,t=n.templateEngine||k;b.Gb.Oc(f,t,m);f=t.renderTemplate(f,h,n,m);if("number"!=typeof f.length||0<f.length&&"number"!=typeof f[0].nodeType)throw Error("Template engine must return an array of DOM nodes");m=!1;switch(d){case "replaceChildren":b.f.da(a,f);m=!0;break;case "replaceNode":b.a.qc(a,f);m=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+d);}m&&(c(f,h),n.afterRender&&b.l.w(n.afterRender,null,[f,h.$data]));
return f}function h(a,c,d){return b.H(a)?a():"function"===typeof a?a(c,d):a}var k;b.Db=function(a){if(a!=d&&!(a instanceof b.O))throw Error("templateEngine must inherit from ko.templateEngine");k=a};b.Ab=function(a,c,f,n,m){f=f||{};if((f.templateEngine||k)==d)throw Error("Set a template engine before calling renderTemplate");m=m||"replaceChildren";if(n){var t=e(n);return b.B(function(){var d=c&&c instanceof b.U?c:new b.U(b.a.c(c)),k=h(a,d.$data,d),d=g(n,m,k,d,f);"replaceNode"==m&&(n=d,t=e(n))},null,
{wa:function(){return!t||!b.a.nb(t)},i:t&&"replaceNode"==m?t.parentNode:t})}return b.M.wb(function(d){b.Ab(a,c,f,d,"replaceNode")})};b.kd=function(a,e,f,k,n){function m(b,a){c(a,t);f.afterRender&&f.afterRender(a,b);t=null}function l(b,c){t=n.createChildContext(b,f.as,function(b){b.$index=c});var d=h(a,b,t);return g(null,"ignoreTargetNode",d,t,f)}var t;return b.B(function(){var a=b.a.c(e)||[];"undefined"==typeof a.length&&(a=[a]);a=b.a.Ka(a,function(a){return f.includeDestroyed||a===d||null===a||!b.a.c(a._destroy)});
b.l.w(b.a.Bb,null,[k,a,l,f,m])},null,{i:k})};var n=b.a.e.I();b.d.template={init:function(a,c){var d=b.a.c(c());if("string"==typeof d||d.name)b.f.xa(a);else{if("nodes"in d){if(d=d.nodes||[],b.H(d))throw Error('The "nodes" option must be a plain, non-observable array.');}else d=b.f.childNodes(a);d=b.a.jc(d);(new b.v.qa(a)).nodes(d)}return{controlsDescendantBindings:!0}},update:function(a,c,e,g,f){var h=c(),k;c=b.a.c(h);e=!0;g=null;"string"==typeof c?c={}:(h=c.name,"if"in c&&(e=b.a.c(c["if"])),e&&"ifnot"in
c&&(e=!b.a.c(c.ifnot)),k=b.a.c(c.data));"foreach"in c?g=b.kd(h||a,e&&c.foreach||[],c,a,f):e?(f="data"in c?f.createChildContext(k,c.as):f,g=b.Ab(h||a,f,c,a)):b.f.xa(a);f=g;(k=b.a.e.get(a,n))&&"function"==typeof k.k&&k.k();b.a.e.set(a,n,f&&f.ba()?f:d)}};b.h.ta.template=function(a){a=b.h.yb(a);return 1==a.length&&a[0].unknown||b.h.ad(a,"name")?null:"This template engine does not support anonymous templates nested within its templates"};b.f.Z.template=!0})();b.b("setTemplateEngine",b.Db);b.b("renderTemplate",
b.Ab);b.a.dc=function(b,a,c){if(b.length&&a.length){var d,e,g,h,k;for(d=e=0;(!c||d<c)&&(h=b[e]);++e){for(g=0;k=a[g];++g)if(h.value===k.value){h.moved=k.index;k.moved=h.index;a.splice(g,1);d=g=0;break}d+=g}}};b.a.ib=function(){function a(c,d,e,g,f){var h=Math.min,k=Math.max,n=[],m,t=c.length,y,x=d.length,K=x-t||1,da=t+x+1,H,A,M;for(m=0;m<=t;m++)for(A=H,n.push(H=[]),M=h(x,m+K),y=k(0,m-1);y<=M;y++)H[y]=y?m?c[m-1]===d[y-1]?A[y-1]:h(A[y]||da,H[y-1]||da)+1:y+1:m+1;h=[];k=[];K=[];m=t;for(y=x;m||y;)x=n[m][y]-
1,y&&x===n[m][y-1]?k.push(h[h.length]={status:e,value:d[--y],index:y}):m&&x===n[m-1][y]?K.push(h[h.length]={status:g,value:c[--m],index:m}):(--y,--m,f.sparse||h.push({status:"retained",value:d[y]}));b.a.dc(K,k,!f.dontLimitMoves&&10*t);return h.reverse()}return function(b,c,d){d="boolean"===typeof d?{dontLimitMoves:d}:d||{};b=b||[];c=c||[];return b.length<c.length?a(b,c,"added","deleted",d):a(c,b,"deleted","added",d)}}();b.b("utils.compareArrays",b.a.ib);(function(){function a(c,e,g,f,h){var k=[],
n=b.B(function(){var a=e(g,h,b.a.za(k,c))||[];0<k.length&&(b.a.qc(k,a),f&&b.l.w(f,null,[g,a,h]));k.length=0;b.a.ra(k,a)},null,{i:c,wa:function(){return!b.a.Qb(k)}});return{ca:k,B:n.ba()?n:d}}var c=b.a.e.I(),e=b.a.e.I();b.a.Bb=function(g,h,k,n,m){function t(a,c){E=K[c];B!==c&&(D[a]=E);E.qb(B++);b.a.za(E.ca,g);A.push(E);C.push(E)}function y(a,c){if(a)for(var d=0,e=c.length;d<e;d++)c[d]&&b.a.q(c[d].ca,function(b){a(b,d,c[d].ja)})}h=h||[];n=n||{};var x=b.a.e.get(g,c)===d,K=b.a.e.get(g,c)||[],da=b.a.fb(K,
function(b){return b.ja}),H=b.a.ib(da,h,n.dontLimitMoves),A=[],M=0,B=0,I=[],C=[];h=[];for(var D=[],da=[],E,aa=0,ka,fa;ka=H[aa];aa++)switch(fa=ka.moved,ka.status){case "deleted":fa===d&&(E=K[M],E.B&&(E.B.k(),E.B=d),b.a.za(E.ca,g).length&&(n.beforeRemove&&(A.push(E),C.push(E),E.ja===e?E=null:h[aa]=E),E&&I.push.apply(I,E.ca)));M++;break;case "retained":t(aa,M++);break;case "added":fa!==d?t(aa,fa):(E={ja:ka.value,qb:b.N(B++)},A.push(E),C.push(E),x||(da[aa]=E))}b.a.e.set(g,c,A);y(n.beforeMove,D);b.a.q(I,
n.beforeRemove?b.$:b.removeNode);for(var aa=0,x=b.f.firstChild(g),J;E=C[aa];aa++){E.ca||b.a.extend(E,a(g,k,E.ja,m,E.qb));for(M=0;H=E.ca[M];x=H.nextSibling,J=H,M++)H!==x&&b.f.gc(g,H,J);!E.Wc&&m&&(m(E.ja,E.ca,E.qb),E.Wc=!0)}y(n.beforeRemove,h);for(aa=0;aa<h.length;++aa)h[aa]&&(h[aa].ja=e);y(n.afterMove,D);y(n.afterAdd,da)}})();b.b("utils.setDomNodeChildrenFromArrayMapping",b.a.Bb);b.W=function(){this.allowTemplateRewriting=!1};b.W.prototype=new b.O;b.W.prototype.renderTemplateSource=function(a,c,d,
e){if(c=(9>b.a.C?0:a.nodes)?a.nodes():null)return b.a.V(c.cloneNode(!0).childNodes);a=a.text();return b.a.ma(a,e)};b.W.sb=new b.W;b.Db(b.W.sb);b.b("nativeTemplateEngine",b.W);(function(){b.vb=function(){var b=this.$c=function(){if(!c||!c.tmpl)return 0;try{if(0<=c.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(b){}return 1}();this.renderTemplateSource=function(a,d,e,g){g=g||h;e=e||{};if(2>b)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");
var f=a.data("precompiled");f||(f=a.text()||"",f=c.template(null,"{{ko_with $item.koBindingContext}}"+f+"{{/ko_with}}"),a.data("precompiled",f));a=[d.$data];d=c.extend({koBindingContext:d},e.templateOptions);d=c.tmpl(f,a,d);d.appendTo(g.createElement("div"));c.fragments={};return d};this.createJavaScriptEvaluatorBlock=function(b){return"{{ko_code ((function() { return "+b+" })()) }}"};this.addTemplate=function(b,a){h.write("<script type='text/html' id='"+b+"'>"+a+"\x3c/script>")};0<b&&(c.tmpl.tag.ko_code=
{open:"__.push($1 || '');"},c.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};b.vb.prototype=new b.O;var a=new b.vb;0<a.$c&&b.Db(a);b.b("jqueryTmplTemplateEngine",b.vb)})()})})()})();
(function(d){"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?d(require("knockout"),exports):"function"===typeof define&&define.amd?define(["knockout","exports"],d):d(ko,ko.mapping={})})(function(d,e){function h(b,a){var c,d;for(d in a)if(a.hasOwnProperty(d)&&a[d])if(c=e.getType(b[d]),d&&b[d]&&"array"!==c&&"string"!==c)h(b[d],a[d]);else if("array"===e.getType(b[d])&&"array"===e.getType(a[d])){c=b;for(var g=d,f=b[d],k=a[d],n={},m=f.length-1;0<=m;--m)n[f[m]]=f[m];for(m=
k.length-1;0<=m;--m)n[k[m]]=k[m];f=[];k=void 0;for(k in n)f.push(n[k]);c[g]=f}else b[d]=a[d]}function a(b,a){var c={};h(c,b);h(c,a);return c}function c(b,c){for(var d=a({},b),e=S.length-1;0<=e;e--){var h=S[e];d[h]&&(d[""]instanceof Object||(d[""]={}),d[""][h]=d[h],delete d[h])}c&&(d.ignore=g(c.ignore,d.ignore),d.include=g(c.include,d.include),d.copy=g(c.copy,d.copy),d.observe=g(c.observe,d.observe));d.ignore=g(d.ignore,D.ignore);d.include=g(d.include,D.include);d.copy=g(d.copy,D.copy);d.observe=g(d.observe,
D.observe);d.mappedProperties=d.mappedProperties||{};d.copiedProperties=d.copiedProperties||{};return d}function g(b,a){"array"!==e.getType(b)&&(b="undefined"===e.getType(b)?[]:[b]);"array"!==e.getType(a)&&(a="undefined"===e.getType(a)?[]:[a]);return d.utils.arrayGetDistinctValues(b.concat(a))}function k(c,g,h,m,M,f,u){var l="array"===e.getType(d.utils.unwrapObservable(g));f=f||"";if(e.isMapped(c)){var z=d.utils.unwrapObservable(c)[b];h=a(z,h)}var C=u||M,D=function(){return h[m]&&h[m].create instanceof
Function},O=function(b){var a=X,c=d.dependentObservable;d.dependentObservable=function(b,c,e){e=e||{};b&&"object"==typeof b&&(e=b);var g=e.deferEvaluation,f=!1;e.deferEvaluation=!0;b=new B(b,c,e);if(!g){var h=b,g=d.dependentObservable;d.dependentObservable=B;b=d.isWriteableObservable(h);d.dependentObservable=g;g=B({read:function(){f||(d.utils.arrayRemoveItem(a,h),f=!0);return h.apply(h,arguments)},write:b&&function(b){return h(b)},deferEvaluation:!0});g.__DO=h;b=g;a.push(b)}return b};d.dependentObservable.fn=
B.fn;d.computed=d.dependentObservable;b=d.utils.unwrapObservable(M)instanceof Array?h[m].create({data:b||g,parent:C,skip:V}):h[m].create({data:b||g,parent:C});d.dependentObservable=c;d.computed=d.dependentObservable;return b},p=function(){return h[m]&&h[m].update instanceof Function},N=function(b,a){var c={data:a||g,parent:C,target:d.utils.unwrapObservable(b)};d.isWriteableObservable(b)&&(c.observable=b);return h[m].update(c)};if(u=J.get(g))return u;m=m||"";if(l){var l=[],w=!1,F=function(b){return b};
h[m]&&h[m].key&&(F=h[m].key,w=!0);d.isObservable(c)||(c=d.observableArray([]),c.mappedRemove=function(b){var a="function"==typeof b?b:function(a){return a===F(b)};return c.remove(function(b){return a(F(b))})},c.mappedRemoveAll=function(b){var a=H(b,F);return c.remove(function(b){return-1!=d.utils.arrayIndexOf(a,F(b))})},c.mappedDestroy=function(b){var a="function"==typeof b?b:function(a){return a===F(b)};return c.destroy(function(b){return a(F(b))})},c.mappedDestroyAll=function(b){var a=H(b,F);return c.destroy(function(b){return-1!=
d.utils.arrayIndexOf(a,F(b))})},c.mappedIndexOf=function(b){var a=H(c(),F);b=F(b);return d.utils.arrayIndexOf(a,b)},c.mappedGet=function(b){return c()[c.mappedIndexOf(b)]},c.mappedCreate=function(b){if(-1!==c.mappedIndexOf(b))throw Error("There already is an object with the key that you specified.");var a=D()?O(b):b;p()&&(b=N(a,b),d.isWriteableObservable(a)?a(b):a=b);c.push(a);return a});u=H(d.utils.unwrapObservable(c),F).sort();z=H(g,F);w&&z.sort();w=d.utils.compareArrays(u,z);u={};var r,P=d.utils.unwrapObservable(g),
S={},ba=!0,z=0;for(r=P.length;z<r;z++){var ca=F(P[z]);if(void 0===ca||ca instanceof Object){ba=!1;break}S[ca]=P[z]}var P=[],Ga=0,z=0;for(r=w.length;z<r;z++){var ca=w[z],U,ea=f+"["+z+"]";switch(ca.status){case "added":var ja=ba?S[ca.value]:x(d.utils.unwrapObservable(g),ca.value,F);U=k(void 0,ja,h,m,c,ea,M);D()||(U=d.utils.unwrapObservable(U));ea=n(d.utils.unwrapObservable(g),ja,u);U===V?Ga++:P[ea-Ga]=U;u[ea]=!0;break;case "retained":ja=ba?S[ca.value]:x(d.utils.unwrapObservable(g),ca.value,F);U=x(c,
ca.value,F);k(U,ja,h,m,c,ea,M);ea=n(d.utils.unwrapObservable(g),ja,u);P[ea]=U;u[ea]=!0;break;case "deleted":U=x(c,ca.value,F)}l.push({event:ca.status,item:U})}c(P);h[m]&&h[m].arrayChanged&&d.utils.arrayForEach(l,function(b){h[m].arrayChanged(b.event,b.item)})}else if(I(g)){c=d.utils.unwrapObservable(c);if(!c){if(D())return w=O(),p()&&(w=N(w)),w;if(p())return N(w);c={}}p()&&(c=N(c));J.save(g,c);if(p())return c;A(g,function(b){var a=f.length?f+"."+b:b;if(-1==d.utils.arrayIndexOf(h.ignore,a))if(-1!=
d.utils.arrayIndexOf(h.copy,a))c[b]=g[b];else if("object"!=typeof g[b]&&"array"!=typeof g[b]&&0<h.observe.length&&-1==d.utils.arrayIndexOf(h.observe,a))c[b]=g[b],h.copiedProperties[a]=!0;else{var e=J.get(g[b]),n=k(c[b],g[b],h,b,c,a,c),e=e||n;if(0<h.observe.length&&-1==d.utils.arrayIndexOf(h.observe,a))c[b]=e(),h.copiedProperties[a]=!0;else{if(d.isWriteableObservable(c[b])){if(e=d.utils.unwrapObservable(e),c[b]()!==e)c[b](e)}else e=void 0===c[b]?e:d.utils.unwrapObservable(e),c[b]=e;h.mappedProperties[a]=
!0}}})}else switch(e.getType(g)){case "function":p()?d.isWriteableObservable(g)?(g(N(g)),c=g):c=N(g):c=g;break;default:if(d.isWriteableObservable(c))return U=p()?N(c):d.utils.unwrapObservable(g),c(U),U;D()||p();c=D()?O():d.observable(d.utils.unwrapObservable(g));p()&&c(N(c))}return c}function n(b,a,c){for(var d=0,e=b.length;d<e;d++)if(!0!==c[d]&&b[d]===a)return d;return null}function m(b,a){var c;a&&(c=a(b));"undefined"===e.getType(c)&&(c=b);return d.utils.unwrapObservable(c)}function x(b,a,c){b=
d.utils.unwrapObservable(b);for(var e=0,g=b.length;e<g;e++){var f=b[e];if(m(f,c)===a)return f}throw Error("When calling ko.update*, the key '"+a+"' was not found!");}function H(b,a){return d.utils.arrayMap(d.utils.unwrapObservable(b),function(b){return a?m(b,a):b})}function A(b,a){if("array"===e.getType(b))for(var c=0;c<b.length;c++)a(c);else for(c in b)a(c)}function I(b){var a=e.getType(b);return("object"===a||"array"===a)&&null!==b}function O(){var b=[],a=[];this.save=function(c,e){var g=d.utils.arrayIndexOf(b,
c);0<=g?a[g]=e:(b.push(c),a.push(e))};this.get=function(c){c=d.utils.arrayIndexOf(b,c);return 0<=c?a[c]:void 0}}function P(){var b={},a=function(a){var c;try{c=a}catch(d){c="$$$"}a=b[c];void 0===a&&(a=new O,b[c]=a);return a};this.save=function(b,c){a(b).save(b,c)};this.get=function(b){return a(b).get(b)}}var b="__ko_mapping__",B=d.dependentObservable,ba=0,X,J,S=["create","update","key","arrayChanged"],V={},C={include:["_destroy"],ignore:[],copy:[],observe:[]},D=C;e.isMapped=function(a){return(a=d.utils.unwrapObservable(a))&&
a[b]};e.fromJS=function(d){if(0==arguments.length)throw Error("When calling ko.fromJS, pass the object you want to convert.");try{ba++||(X=[],J=new P);var e,g;2==arguments.length&&(arguments[1][b]?g=arguments[1]:e=arguments[1]);3==arguments.length&&(e=arguments[1],g=arguments[2]);g&&(e=a(e,g[b]));e=c(e);var h=k(g,d,e);g&&(h=g);if(!--ba)for(;X.length;){var n=X.pop();n&&(n(),n.__DO.throttleEvaluation=n.throttleEvaluation)}h[b]=a(h[b],e);return h}catch(f){throw ba=0,f;}};e.fromJSON=function(b){var a=
d.utils.parseJson(b);arguments[0]=a;return e.fromJS.apply(this,arguments)};e.updateFromJS=function(){throw Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!");};e.updateFromJSON=function(){throw Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!");};e.toJS=function(a,g){D||e.resetDefaultOptions();if(0==arguments.length)throw Error("When calling ko.mapping.toJS, pass the object you want to convert.");
if("array"!==e.getType(D.ignore))throw Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==e.getType(D.include))throw Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==e.getType(D.copy))throw Error("ko.mapping.defaultOptions().copy should be an array.");g=c(g,a[b]);return e.visitModel(a,function(b){return d.utils.unwrapObservable(b)},g)};e.toJSON=function(b,a){var c=e.toJS(b,a);return d.utils.stringifyJson(c)};e.defaultOptions=function(){if(0<arguments.length)D=
arguments[0];else return D};e.resetDefaultOptions=function(){D={include:C.include.slice(0),ignore:C.ignore.slice(0),copy:C.copy.slice(0)}};e.getType=function(b){if(b&&"object"===typeof b){if(b.constructor===Date)return"date";if(b.constructor===Array)return"array"}return typeof b};e.visitModel=function(a,g,h){h=h||{};h.visitedObjects=h.visitedObjects||new P;var k,n=d.utils.unwrapObservable(a);if(I(n))h=c(h,n[b]),g(a,h.parentName),k="array"===e.getType(n)?[]:{};else return g(a,h.parentName);h.visitedObjects.save(a,
k);var f=h.parentName;A(n,function(a){if(!h.ignore||-1==d.utils.arrayIndexOf(h.ignore,a)){var c=n[a],m=h,x=f||"";"array"===e.getType(n)?f&&(x+="["+a+"]"):(f&&(x+="."),x+=a);m.parentName=x;if(-1!==d.utils.arrayIndexOf(h.copy,a)||-1!==d.utils.arrayIndexOf(h.include,a)||!n[b]||!n[b].mappedProperties||n[b].mappedProperties[a]||!n[b].copiedProperties||n[b].copiedProperties[a]||"array"===e.getType(n))switch(e.getType(d.utils.unwrapObservable(c))){case "object":case "array":case "undefined":m=h.visitedObjects.get(c);
k[a]="undefined"!==e.getType(m)?m:e.visitModel(c,g,h);break;default:k[a]=g(c,h.parentName)}}});return k}});
ko.bindingHandlers.foreachprop={transformObject:function(d,e){var h=[],a;for(a in d)d.hasOwnProperty(a)&&h.push({key:a,value:d[a]});e||h.sort(function(a,d){return a.key.localeCompare(d.key)});return ko.observableArray(h)},init:function(d,e,h,a,c){h=h.get("unsorted");e=ko.utils.unwrapObservable(e());e=ko.bindingHandlers.foreachprop.transformObject(e,h);c=c.createChildContext(c.$rawData,null);jQuery(d).data("childBindingContext",c);ko.applyBindingsToNode(d,{foreach:e},c);return{controlsDescendantBindings:!0}},
update:function(d,e,h,a,c){c=h.get("unsorted");e=ko.utils.unwrapObservable(e());e=ko.bindingHandlers.foreachprop.transformObject(e,c);c=jQuery(d).data("childBindingContext");ko.bindingHandlers.foreach.update(d,e,h,a,c);return{controlsDescendantBindings:!0}}};
function _wfTypeForStep(d){if("undefined"!=typeof d){if(d.exec)return"command";if(d.jobref)return"job";if(d.script)return"script";if(d.scriptfile)return"scriptfile";if(d.scripturl)return"scripturl";if(d.type)return d.nodeStep?"node-step-plugin plugin":null==d.nodeStep||d.nodeStep?"plugin":"workflow-step-plugin plugin"}return"console"}
function _wfStringForStep(d){var e="";if("undefined"!=typeof d)d.description?e=d.description:d.exec?e="Command":d.jobref?e=(d.jobref.group?d.jobref.group+"/":"")+d.jobref.name:d.script?e="Script":d.scriptfile?e="File":d.scripturl?e="URL":d.type&&(e="Plugin "+d.type,d.nodeStep&&RDWorkflow.nodeSteppluginDescriptions&&RDWorkflow.nodeSteppluginDescriptions[d.type]?e=RDWorkflow.nodeSteppluginDescriptions[d.type].title||e:!d.nodeStep&&RDWorkflow.wfSteppluginDescriptions&&RDWorkflow.wfSteppluginDescriptions[d.type]&&
(e=RDWorkflow.wfSteppluginDescriptions[d.type].title||e));else return"[?]";return e}
var RDWorkflow=Class.create({workflow:null,initialize:function(d,e){this.workflow=d;Object.extend(this,e)},contextType:function(d){"string"==typeof d&&(d=RDWorkflow.parseContextId(d));d=this.workflow[RDWorkflow.workflowIndexForContextId(d[0])];return _wfTypeForStep(d)},renderContextStepNumber:function(d){"string"==typeof d&&(d=RDWorkflow.parseContextId(d));d=""+RDWorkflow.stepNumberForContextId(d[0]);return d+". "},renderContextString:function(d){"string"==typeof d&&(d=RDWorkflow.parseContextId(d));
d=this.workflow[RDWorkflow.workflowIndexForContextId(d[0])];return _wfStringForStep(d)}});RDWorkflow.unescape=function(d,e,h,a){for(var c=[],g=!1,k=0,n=null;k<d.length;k++){var m=d.charAt(k);if(m==e)g?(c.push(e),g=!1):g=!0;else if(0<=h.indexOf(m))if(g)c.push(m),g=!1;else if(0<=a.indexOf(m)){n=m;break}else c.push(m);else g&&(c.push(e),g=!1),c.push(m)}return{text:c.join(""),bchar:n,rest:k<=d.length-1?d.substring(k+1):null}};
RDWorkflow.splitEscaped=function(d,e){for(var h=[],a=d;a;)a=RDWorkflow.unescape(a,"\\",["\\","/"],[e]),h.push(a.text),a=a.rest;return h};RDWorkflow.contextStringSeparator="/";RDWorkflow.parseContextId=function(d){return null==d?null:RDWorkflow.splitEscaped(d,RDWorkflow.contextStringSeparator).slice()};RDWorkflow.paramsForContextId=function(d){d=d.match(/^(\d+)(e)?(@(.+))?$/);return d[4]?d[4].replace(/\\([/@,=])/g,"$1"):null};
RDWorkflow.isErrorhandlerForContextId=function(d){return"e"==d.match(/^(\d+)(e)?(@.+)?$/)[2]?!0:!1};RDWorkflow.stepNumberForContextId=function(d){d=d.match(/^(\d+)(e)?(@.+)?$/);return d[1]?parseInt(d[1]):null};RDWorkflow.workflowIndexForContextId=function(d){d=RDWorkflow.stepNumberForContextId(d);return null!=d?d-1:null};RDWorkflow.cleanContextId=function(d){d=RDWorkflow.parseContextId(d);for(var e=0;e<d.length;e++)d[e]=RDWorkflow.stepNumberForContextId(d[e]);return d.join(RDWorkflow.contextStringSeparator)};
function Report(d){var e=this;e.status=ko.observable();e.dateCompleted=ko.observable();e.dateStarted=ko.observable();e.execution=ko.observable();e.executionHref=ko.observable();e.jobId=ko.observable();e.jobDeleted=ko.observable(!1);e.executionId=ko.observable();e.reportId=ko.observable();e.title=ko.observable();e.jobAverageDuration=ko.observable(0);e.duration=ko.observable(0);e.timeNow=ko.observable(new Date);window.setInterval(function(){e.timeNow(new Date)},5E3);e.bulkEditSelected=ko.observable(!1);
e.durationSimple=ko.computed(function(){return MomentUtil.formatDurationSimple(e.duration())});e.durationHumanize=ko.computed(function(){return MomentUtil.formatDurationHumanize(e.duration())});e.startTimeFormat=function(d){return MomentUtil.formatTime(e.dateStarted(),d)};e.endTimeSimple=ko.computed(function(){return MomentUtil.formatTimeSimple(e.dateCompleted())});e.timeToStart=ko.computed(function(){e.timeNow();return moment(e.dateStarted()).fromNow()});e.statusList="scheduled running succeed succeeded failed cancel aborted retry timedout timeout fail".split(" ");
e.isCustomStatus=ko.computed(function(){return 0>e.statusList.indexOf(e.status())});e.customStatusString=ko.computed(function(){return e.execution()?e.execution().status():status()});e.isRetry=ko.computed(function(){return e.execution()&&e.execution().retry&&e.execution().retry()});e.hasRetryExec=ko.computed(function(){return e.execution()&&e.execution().retryExecutionId&&e.execution().retryExecutionId()});e.wasTimedOut=ko.computed(function(){return e.execution()&&e.execution().timedOut&&e.execution().timedOut()});
e.css=ko.computed(function(){return"scheduled"==e.status()?"scheduled":"succeed"==e.status()||"succeeded"==e.status()?"succeeded":"fail"==e.status()||"failed"==e.status()?"failed":"cancel"==e.status()||"aborted"==e.status()?"aborted":"running"==e.status()?"running":"timedout"==e.status()?"timedout":"retry"==e.status()?"failed-with-retry":"other"});e.executionState=ko.computed(function(){var d=e.css();e.execution();return e.hasRetryExec()?"FAILED-WITH-RETRY":e.wasTimedOut()?"TIMEDOUT":d.toUpperCase()});
e.isJob=ko.computed(function(){var d=e.jobId(),a=e.jobDeleted();return d||a});e.isAdhoc=ko.computed(function(){return!e.isJob()});e.jobPercentage=ko.computed(function(){return 0<e.jobAverageDuration()?100*(e.duration()/e.jobAverageDuration()):-1});e.jobPercentageFixed=ko.computed(function(){var d=e.jobPercentage();return 0<=d?d.toFixed(0):"0"});e.jobOverrunDuration=ko.computed(function(){var d=e.jobAverageDuration(),a=e.duration();return 0<d&&a>d?MomentUtil.formatDurationSimple(a-d):""});e.endTimeFormat=
function(d){var a=e.dateCompleted();return MomentUtil.formatTime(a,d)};e.nodeFailCount=ko.computed(function(){var d=ko.utils.unwrapObservable(e.node);if(d&&(d=d.split("/"),3==d.length))return parseInt(d[1])});e.nodeSucceedCount=ko.computed(function(){var d=ko.utils.unwrapObservable(e.node);if(d&&(d=d.split("/"),3==d.length))return parseInt(d[0])});ko.mapping.fromJS(d,{},e)}
function History(d,e,h){var a=this;a.ajaxHistoryLink=d;a.ajaxNowRunningLink=e;a.ajaxBulkDeleteLink=h?h:"object"==typeof appLinks?appLinks.apiExecutionsBulkDelete:null;a.reports=ko.observableArray([]);a.nowrunning=ko.observableArray([]);a.showReports=ko.observable(!1);a.nowRunningEnabled=ko.observable(!0);a.href=ko.observable();a.selected=ko.observable(!1);a.max=ko.observable(20);a.total=ko.observable(0);a.offset=ko.observable(0);a.params=ko.observable();a.reloadInterval=ko.observable(0);a.highlightExecutionId=
ko.observable();a.bulkEditMode=ko.observable(!1);a.bulkEditPrevious=ko.observable(-1);a.bulkEditResults=ko.observable();a.bulkEditProgress=ko.observable(!1);a.results=ko.computed(function(){return a.showReports()?a.reports():a.nowrunning()});a.count=ko.computed(function(){return a.reports().length+a.offset()*a.max()});a.pageCount=ko.computed(function(){return totalPageCount(a.max(),a.total())});a.pages=ko.computed(function(){var c=a.total(),d=a.offset(),e=a.max(),h=a.href();if(1>c||!h)return"";var m=
[],h=h.replace(/[&\?](offset|max)=\d+/ig,"");foreachPage(d,e,c,{maxSteps:10},function(a){var c=_genUrl(h,{offset:a.offset,max:a.max});m.push(ko.utils.extend({url:c,label:a.prevPage?"Previous":a.nextPage?"Next":a.skipped?"\u2026":a.page},a))});return m});a.bulkEditIds=ko.computed(function(){var c=[];ko.utils.arrayForEach(a.reports(),function(a){a.bulkEditSelected()&&c.push(a.executionId())});return c});a.visitPage=function(c){loadHistoryLink(a,a.ajaxHistoryLink,c.url)};a.activateNowRunningTab=function(){jQuery("ul.activity_links > li:first-child").addClass("active");
jQuery("ul.activity_links > li:first-child > a").each(function(c){loadHistoryLink(a,a.ajaxNowRunningLink,this.getAttribute("href"),jQuery(this).data("auto-refresh"))})};a.toggleBulkEdit=function(){a.bulkEditMode(!a.bulkEditMode())};a.rowClicked=function(c,d){if(a.bulkEditMode()){var e=ko.utils.arrayIndexOf(a.reports(),c);if(d&&0<=a.bulkEditPrevious())for(var h=a.bulkEditPrevious(),m=h<e?h:e,x=h<e?e:h,h=c.bulkEditSelected();x>=m&&0<=x;x--)a.reports()[x].bulkEditSelected(!h);else c.bulkEditSelected(!c.bulkEditSelected());
a.bulkEditPrevious(e)}else document.location=c.executionHref()};a.bulkEditToggleAll=function(){ko.utils.arrayForEach(a.reports(),function(a){a.bulkEditSelected(!a.bulkEditSelected())})};a.bulkEditSelectAll=function(){ko.utils.arrayForEach(a.reports(),function(a){a.bulkEditSelected(!0)})};a.bulkEditDeselectAll=function(){ko.utils.arrayForEach(a.reports(),function(a){a.bulkEditSelected(!1)})};a.doBulkDelete=function(c,d){jQuery(c).modal("hide");a.bulkEditProgress(!0);jQuery.ajax({url:a.ajaxBulkDeleteLink,
type:"post",data:JSON.stringify({ids:a.bulkEditIds()}),contentType:"application/json",dataType:"json",beforeSend:_ajaxSendTokens.curry("history_tokens"),success:function(c,e,h){a.bulkEditProgress(!1);a.bulkEditResults(c);c.allsuccessful?a.bulkEditMode(!1):jQuery(d).modal("show");a.reloadData()},error:function(c,e,h){a.bulkEditProgress(!1);a.bulkEditResults({error:"Request did not succeed: "+(c.responseJSON&&c.responseJSON.message?c.responseJSON.message:h)});jQuery(d).modal("show")}}).success(_ajaxReceiveTokens.curry("history_tokens"))};
a.reloadData=function(){loadHistoryLink(a,a.ajaxHistoryLink,a.href())}}var binding={reports:{key:function(d){return ko.utils.unwrapObservable(d.id)},create:function(d){return new Report(d.data)}},nowrunning:{key:function(d){return ko.utils.unwrapObservable(d.id)},create:function(d){return new Report(jQuery.extend({execution:d.data},d.data))}}};
function loadHistoryLink(d,e,h,a){var c=h.substring(h.indexOf("?")+1),g=0<e.indexOf("?")?e+"&"+c:e+"?"+c,k;k=function(e){d.selected(!0);ko.mapping.fromJS(Object.extend(e,{params:c}),binding,d);setTimeout(function(){a&&d.href()==h&&(d.href(h),jQuery.getJSON(g,k))},1E3*a)};d.href(h);jQuery.getJSON(g,k)}
function setupActivityLinks(d,e){var h=jQuery("#"+d);h.on("click","a.activity_link",function(a){a.preventDefault();a=jQuery(this)[0];jQuery("#"+d+" .activity_links > li").removeClass("active");jQuery(a.parentNode).addClass("active");e.showReports(!0);loadHistoryLink(e,e.ajaxHistoryLink,a.getAttribute("href"),jQuery(this).data("auto-refresh"))});h.on("click","a.running_link",function(a){a.preventDefault();a=jQuery(this)[0];e.nowRunningEnabled()&&(jQuery("#"+d+" .activity_links > li").removeClass("active"),
jQuery(a.parentNode).addClass("active"),e.showReports(!1),loadHistoryLink(e,e.ajaxNowRunningLink,a.getAttribute("href"),jQuery(this).data("auto-refresh")))});h.on("click",".autoclick .autoclickable",function(a){a.preventDefault();e.rowClicked(ko.dataFor(this),a.shiftKey);return!1}).on("mousedown",".autoclick .autoclickable",function(a){e.bulkEditMode()&&a.preventDefault()})}
ko.bindingHandlers.executeOnEnter={init:function(d,e,h,a,c){var g=h.get("executeOnEnter");jQuery(d).keypress(function(a){return 13===(a.which?a.which:a.keyCode)?(g.call(c.$data,a),!1):!0})}};
function NodeFilterLinkParams(d){var e=this;e.linkicon=d.linkicon||"";e.classnames=d.classnames||"";e.filterval=d.filterval||"";e.filterkey=d.filterkey||"";e.filter=d.filter||"";e.linktext=d.linktext||"";e.textcss=d.textcss||"";e.suffix=d.suffix||"";e.tag=d.tag;e.title=d.title||"";e.filterData=function(d){return e.filter?{"data-node-filter":ko.unwrap(e.filter),href:d.linkForFilterString(ko.unwrap(e.filter))}:{"data-node-filter":d.escapeFilter(e.filterkey+":")+" "+d.escapeFilter(ko.unwrap(e.filterval)),
href:d.linkForFilterParams(e.filterkey,ko.unwrap(e.filterval))}};e.attributes=function(d){d=e.filterData(d);e.tag&&(d["data-node-tag"]=ko.unwrap(e.tag));e.title&&(d.title=ko.unwrap(e.title));return d};e.viewtext=function(){return(e.linktext?ko.unwrap(e.linktext):e.filter?ko.unwrap(e.filter):ko.unwrap(e.filterval))+ko.unwrap(e.suffix)}}ko.components.register("node-filter-link",{viewModel:NodeFilterLinkParams,template:'<a  class="nodefilterlink"  href="#"  data-bind="attr: attributes($root),  css: classnames"  >     <span data-bind="if: linkicon"><i data-bind="css: linkicon"></i></span><span data-bind="if: !linkicon"><span data-bind="text: viewtext(), css: textcss"></span></span></a>'});
ko.bindingHandlers.bootstrapPopover={init:function(d,e,h,a,c){h.get("bootstrapPopoverContentRef")?_initPopoverContentRef(null,{element:d,contentRef:ko.unwrap(h.get("bootstrapPopoverContentRef"))}):h.get("bootstrapPopoverContentFor")&&_initPopoverContentFor(null,{element:d,target:ko.unwrap(h.get("bootstrapPopoverContentFor"))})}};
ko.bindingHandlers.bootstrapTooltip={init:function(d,e,h,a,c){jQuery(d).tooltip({});ko.utils.domNodeDisposal.addDisposeCallback(d,function(){jQuery(d).tooltip("destroy")})},update:function(d,e,h,a,c){e=e();ko.isObservable(e)&&(ko.unwrap(e),jQuery(d).tooltip("destroy"),jQuery(d).data("original-title",null),jQuery(d).tooltip({}))}};
ko.bindingHandlers.messageTemplate={init:function(d,e,h,a,c){e=jQuery(d).text();jQuery(d).data("ko-message-template",e);return{controlsDescendantBindings:!0}},update:function(d,e,h,a,c){h=h.get("messageTemplatePluralize");e=ko.utils.unwrapObservable(e());a=jQuery(d).data("ko-message-template");e=messageTemplate(a,e,h);ko.utils.setTextContent(d,e)}};var NODE_FILTER_ALL=".*";
function NodeSummary(d){var e=this;e.error=ko.observable();e.tags=ko.observableArray();e.filters=ko.observableArray();e.defaultFilter=ko.observable();e.totalCount=ko.observable(0);e.baseUrl=d.baseUrl?d.baseUrl:"";e.filterToDelete=ko.observable();e.reload=function(){jQuery.ajax({url:_genUrl(appLinks.frameworkNodeSummaryAjax),type:"GET",error:function(d,a,c){e.error("Recent commands list: request failed for "+requrl+": "+c+", "+a)}}).success(function(d){ko.mapping.fromJS(d,{},e)})};e.linkForTagFilter=
function(d){return _genUrl(e.baseUrl,{filter:"tags:"+d.tag()})};e.linkForFilterName=function(d){return _genUrl(e.baseUrl,{filterName:d.name()})};e.linkForNodeFilters=function(d){return _genUrl(e.baseUrl,d.getPageParams())};e.findFilterByName=function(d){var a=ko.utils.arrayFilter(e.filters(),function(a){return a.name()==d});return a&&1==a.length?a[0]:null};e.removeDefault=function(){setFilter("nodes","!").success(function(d,a,c){e.defaultFilter(null)})};e.setDefaultAll=function(){e.setDefault(NODE_FILTER_ALL)};
e.setDefault=function(d){var a=null;if("string"==typeof d)if(d==NODE_FILTER_ALL)a=d;else{d=e.findFilterByName(d);if(!d)return;a=d.name()}else a=d.name();setFilter("nodes",a).success(function(c,d,h){e.defaultFilter(a)})};e.deleteFilterConfirm=function(d){if("string"==typeof d&&(d=e.findFilterByName(d),!d))return;e.filterToDelete(d);jQuery("#deleteFilterKOModal").modal("show")};e.deleteFilter=function(d){jQuery("#deleteFilterKOModal").modal("hide");jQuery.ajax({url:_genUrl(appLinks.frameworkDeleteNodeFilterAjax,
{filtername:d.name()}),beforeSend:_ajaxSendTokens.curry("ajaxDeleteFilterTokens")}).success(function(a,c,g){e.filterToDelete(null);e.filters.remove(d)}).success(_ajaxReceiveTokens.curry("ajaxDeleteFilterTokens"))};d&&ko.mapping.fromJS(d,{},e)}var CSSColors="aliceblue antiquewhite aqua aquamarine azure beige bisque black blanchedalmond blue blueviolet brown burlywood cadetblue chartreuse chocolate coral cornflowerblue cornsilk crimson cyan darkblue darkcyan darkgoldenrod darkgray darkgreen darkkhaki darkmagenta darkolivegreen darkorange darkorchid darkred darksalmon darkseagreen darkslateblue darkslategray darkturquoise darkviolet deeppink deepskyblue dimgray dodgerblue firebrick floralwhite forestgreen fuchsia gainsboro ghostwhite gold goldenrod gray green greenyellow honeydew hotpink indianred indigo ivory khaki lavender lavenderblush lawngreen lemonchiffon lightblue lightcoral lightcyan lightgoldenrodyellow lightgreen lightgrey lightpink lightsalmon lightseagreen lightskyblue lightslategray lightsteelblue lightyellow lime limegreen linen magenta maroon mediumaquamarine mediumblue mediumorchid mediumpurple mediumseagreen mediumslateblue mediumspringgreen mediumturquoise mediumvioletred midnightblue mintcream mistyrose moccasin navajowhite navy oldlace olive olivedrab orange orangered orchid palegoldenrod palegreen paleturquoise palevioletred papayawhip peachpuff peru pink plum powderblue purple red rosybrown royalblue saddlebrown salmon sandybrown seagreen seashell sienna silver skyblue slateblue slategray snow springgreen steelblue tan teal thistle tomato turquoise violet wheat white whitesmoke yellow yellowgreen".split(" ");
function NodeEntry(d){d&&ko.mapping.fromJS(d,{},this)}function TagSummary(d){this.tag=ko.observable(d.tag);this.value=ko.observable(d.value);d&&ko.mapping.fromJS(d,{},this)}
function NodeSet(d){var e=this;e.nodes=ko.observableArray([]);e.tagsummary=ko.observableArray([]);var h={nodes:{create:function(a){return new NodeEntry(a.data)}},tagsummary:{key:function(a){return ko.utils.unwrapObservable(a.tag)},create:function(a){return new TagSummary(a.data)}}};e.glyphiconCss=function(a){return a.match(/^glyphicon-[a-z-]+$/)?"glyphicon "+a:""};e.glyphiconBadges=function(a){var c=[];if(a["ui:badges"]){a=a["ui:badges"]().split(/,\s*/g);for(var d=0;d<a.length;d++)a[d].match(/^glyphicon-[a-z-]+$/)&&
c.push(a[d])}return c};e.isAnsiFg=function(a){return null!=a&&"string"==typeof a&&a.match(/^ansi-fg-(light-)?(black|green|red|yellow|blue|magenta|cyan|white)$/)};e.isStyleFg=function(a){return null!=a&&"string"==typeof a&&a.match(/^#[0-9a-fA-F]{3,6}$/)||0<=CSSColors.indexOf(a)};e.isAnsiBg=function(a){return null!=a&&"string"==typeof a&&a.match(/^ansi-bg-(black|green|red|yellow|blue|magenta|cyan|white|default)$/)};e.isStyleBg=function(a){return null!=a&&"string"==typeof a&&a.match(/^#[0-9a-fA-F]{3,6}$/)||
0<=CSSColors.indexOf(a)};e.iconFgCss=function(a){var c=a["ui:icon:color"]?a["ui:icon:color"]():null;a=a["ui:color"]?a["ui:color"]():null;return e.isAnsiFg(c)?c:e.isAnsiFg(a)?a:null};e.iconBgCss=function(a){var c=a["ui:icon:bgcolor"]?a["ui:icon:bgcolor"]():null;a=a["ui:bgcolor"]?a["ui:bgcolor"]():null;return e.isAnsiBg(c)?c:e.isAnsiBg(a)?a:null};e.iconCss=function(a){var c=[],d=e.iconFgCss(a);d&&c.push(d);(a=e.iconBgCss(a))&&c.push(a);return c.join(" ")};e.nodeFgCss=function(a){a=a["ui:color"]?a["ui:color"]():
null;return e.isAnsiFg(a)?a:null};e.nodeBgCss=function(a){a=a["ui:bgcolor"]?a["ui:bgcolor"]():null;return e.isAnsiBg(a)?a:null};e.nodeCss=function(a){var c=[],d=e.nodeFgCss(a);d&&c.push(d);(a=e.nodeBgCss(a))&&c.push(a);return c.join(" ")};e.iconStyle=function(a){var c={};if(!e.iconFgCss(a)){var d=a["ui:icon:color"]?a["ui:icon:color"]():null,h=a["ui:color"]?a["ui:color"]():null;e.isStyleFg(d)?c.color=d:e.isStyleFg(h)&&(c.color=h)}e.iconBgCss(a)||(d=a["ui:icon:bgcolor"]?a["ui:icon:bgcolor"]():null,
a=a["ui:bgcolor"]?a["ui:bgcolor"]():null,e.isStyleBg(d)?c["background-color"]=d:e.isStyleBg(a)&&(c["background-color"]=a));return c};e.nodeStyle=function(a){var c={},d=a["ui:color"]?a["ui:color"]():null;!e.nodeFgCss(a)&&e.isStyleFg(d)&&(c.color=d);d=a["ui:bgcolor"]?a["ui:bgcolor"]():null;!e.nodeBgCss(a)&&e.isStyleBg(d)&&(c["background-color"]=d);return c};e.startsWith=function(a,c){return a.length>=c.length&&a.substring(0,c.length)==c};e.attributesInNamespace=function(a,c){var d=[],h;for(h in a)e.startsWith(h,
c+":")&&a[h]()&&d.push({name:h,value:a[h](),shortname:h.substring(c.length+1)});d.sort(function(a,c){return a.shortname.localeCompare(c.shortname)});return d};e.attributeNamespaceRegex=/^(.+?):.+$/;e.attributeNamespaceNames=function(a){var c=[],d;for(d in a)(a=d.match(e.attributeNamespaceRegex))&&1<a.length&&0>c.indexOf(a[1])&&c.push(a[1]);c.sort();return c};e.attributeNamespaces=function(a){var c={},d=[],h;for(h in a){var n=h.match(e.attributeNamespaceRegex);n&&1<n.length&&(c[n[1]]||(c[n[1]]=[],
d.push(n[1])),c[n[1]].push({name:h,value:ko.utils.unwrapObservable(a[h]),shortname:h.substring(n[1].length+1)}))}d.sort();a=[];for(h=0;h<d.length;h++)n=c[d[h]],n.sort(function(a,c){return a.shortname.localeCompare(c.shortname)}),a.push({ns:d[h],values:n});return a};e.OsAttributeNames="nodename hostname username description tags osFamily osName osVersion osArch".split(" ");e.displayAttributes=function(a){var c={},d;for(d in a)0>d.indexOf(":")&&0>e.OsAttributeNames.indexOf(d)&&(c[d]=a[d]);return c};
e.expandNodeAttributes=function(a,c){return c.replace(/\$\{node\.([a-zA-Z-.]+)\}/g,function(c,d,e,h){return a[d]?a[d]()||"":h})};e.convertTagSummary=function(a){var c=[],d;for(d in a)c.push({tag:d,value:a[d]});return c};e.loadJS=function(a){ko.mapping.fromJS({nodes:a.nodes,tagsummary:e.convertTagSummary(a.tagsummary)},h,e)};d&&e.loadJS(d)}
function NodeFilters(d,e,h,a){var c=this;c.baseRunUrl=d;c.baseSaveJobUrl=e;c.baseNodesPageUrl=h;c.filterName=ko.observable(a.filterName);c.filter=ko.observable(a.filter);c.filterAll=ko.observable(a.filterAll);c.nodeExcludePrecedence=ko.observable(null==a.nodeExcludePrecedence||a.nodeExcludePrecedence?"true":"false");c.nodefilterLinkId=a.nodefilterLinkId;c.total=ko.observable(0);c.allcount=ko.observable(0);c.loading=ko.observable(!1);c.error=ko.observable(null);c.project=ko.observable(a.project);c.page=
ko.observable(a.page?a.page:0);c.pagingMax=ko.observable(a.pagingMax?a.pagingMax:20);c.paging=ko.observable(null!=a.paging?a.paging?!0:!1:!1);c.maxShown=ko.observable(a.maxShown);c.view=ko.observable(a.view);c.emptyMode=ko.observable(a.emptyMode?a.emptyMode:"localnode");c.emptyMessage=ko.observable(a.emptyMessage?a.emptyMessage:"No match");c.hideAll=ko.observable(null!=a.hideAll?a.hideAll?!0:!1:!1);c.nodeSummary=ko.observable(a.nodeSummary?a.nodeSummary:null);c.nodeSet=ko.observable(new NodeSet);
c.truncated=ko.observable(!1);c.loaded=ko.observable(!1);c.browse=ko.observable(!1);c.colkeys=ko.observableArray([]);this.pageDisplay=ko.computed({read:function(){return c.page()+1},write:function(a){c.page(a-1);c.browse(!0);c.updateMatchedNodes()},owner:c});c.filterColumns=ko.pureComputed(function(){return ko.utils.arrayFilter(c.colkeys(),function(a){return!c.nodeSet().startsWith(a,"ui:")})});c.useDefaultColumns=ko.pureComputed(function(){return 1>c.filterColumns().size()});c.totalColumnsCount=ko.pureComputed(function(){return c.useDefaultColumns()?
5:2+c.filterColumns().size()});c.isFilterNameAll=ko.pureComputed(function(){return c.filterName()==NODE_FILTER_ALL});c.filterNameDisplay=ko.pureComputed(function(){return c.isFilterNameAll()?"All Nodes":c.filterName()});c.canSaveFilter=ko.pureComputed(function(){return!c.filterName()&&c.filterWithoutAll()});c.canDeleteFilter=ko.pureComputed(function(){return c.filterName()&&!c.isFilterNameAll()});c.canSetDefaultFilter=ko.pureComputed(function(){return c.filterName()&&c.filterName()!=c.nodeSummary().defaultFilter()});
c.canRemoveDefaultFilter=ko.pureComputed(function(){return c.filterName()&&c.filterName()==c.nodeSummary().defaultFilter()});c.deleteFilter=function(){c.nodeSummary().deleteFilterConfirm(c.filterName())};c.setDefaultFilter=function(){c.nodeSummary().setDefault(c.filterName())};c.pageRemaining=ko.computed(function(){return 0>=c.total()||0>c.page()?0:c.allcount()-(c.page()+1)*c.pagingMax()});c.hasMoreNodes=ko.computed(function(){return 0<c.pageRemaining()});c.hasMultiplePages=ko.computed(function(){return c.pageRemaining()>
c.pagingMax()});c.hasPaging=ko.computed(function(){return c.paging()&&c.total()>c.pagingMax()});c.maxPages=ko.pureComputed(function(){return c.paging()&&Math.ceil(c.total()/c.pagingMax())});c.pageNumbersSkipped=ko.computed(function(){for(var a=[],d=c.page(),e=c.maxPages(),h=0;h<e;h++)h>=d-3&&h<=d+3||3>h||h>=e-3?a.push(h):h!=d-3-1&&h!=d+3+1||a.push("..");return a});c.nodesTitle=ko.computed(function(){return 1==c.allcount()?a.nodesTitleSingular||"Node":a.nodesTitlePlural||"Nodes"});c.filterWithoutAll=
ko.computed({read:function(){return c.filterAll()&&c.filter()==NODE_FILTER_ALL&&c.hideAll()?"":c.filter()},write:function(a){c.filter(a)},owner:this});c.filterIsSet=ko.pureComputed(function(){return!!c.filterWithoutAll()||!!c.filterName()});c.filter.subscribe(function(a){""==a&&c.hideAll()?c.filterAll(!0):a==NODE_FILTER_ALL&&c.filterAll(!0)});c.filter.subscribe(function(a){""==a&&"blank"==c.emptyMode()&&c.clear()});c.filter.subscribe(function(a){a===NODE_FILTER_ALL?c.filterName(NODE_FILTER_ALL):""!=
a&&c.filterName()&&c.filterName(null)});c.nodeExcludePrecedence.subscribe(function(a){c.updateMatchedNodes()});c.loading.subscribe(function(a){a||c.loaded(!0)});c.hasNodes=ko.computed(function(){return 0!=c.allcount()});c.runCommand=function(){document.location=_genUrl(c.baseRunUrl,{filter:c.filter(),filterName:c.filterName()?c.filterName():""})};c.saveJob=function(){document.location=_genUrl(c.baseSaveJobUrl,{filter:c.filter(),filterName:c.filterName()?c.filterName():""})};c.nodesPageView=function(){document.location=
_genUrl(c.baseNodesPageUrl,{filter:c.filter(),filterName:c.filterName()?c.filterName():""})};c.clear=function(){c.page(0);c.total(0);c.allcount(-1)};c.reset=function(){c.clear();c.filterAll(!1);c.filterWithoutAll(null);c.filterName(null)};c.useFilterString=function(a){c.filterAll(!1);c.filterWithoutAll(a);c.filterName(null);c.clear();c.updateMatchedNodes()};c.getPageParams=function(){return{filter:c.filter()||"",filterName:c.filterName()||"",filterAll:c.filterAll()||"",page:c.page()||0,max:c.pagingMax()||
20}};c.getPageUrl=function(){return c.nodeSummary().linkForNodeFilters(c)};c.escapeFilter=function(a){if(""!=a&&!a.match(/[ '"\r\n]/))return null==a?"":a;var c='"';null!=a&&(c+=a.replace(/"/g,'""'));return c+'"'};c.paramsAsfilter=function(a){var d=[],e;for(e in a)d.push(c.escapeFilter(e+":")),d.push(c.escapeFilter(a[e]));return d.join(" ")};c.linkForFilterString=function(a){return _genUrl(c.baseNodesPageUrl,{filter:a})};c.linkForFilterParams=function(a,d){var e;"object"==typeof a?e=c.paramsAsfilter(a):
"string"==typeof a&&"string"==typeof d&&(e={},e[a]=d,e=c.paramsAsfilter(e));return c.linkForFilterString(e)};c.triggerNodeRemoteEdit=function(a){doRemoteEdit(a.nodename(),c.project(),c.nodeSet().expandNodeAttributes(a.attributes,a.attributes.remoteUrl()))};c.setPageParams=function(a){c.filterAll(a.filterAll);c.filter(a.filter);c.filterName(a.filterName);c.clear();c.page(a.page||0);c.pagingMax(a.max||20);c.updateMatchedNodes()};c.selectNodeFilterLink=function(a,d){var e=c.filter(),h=jQuery(a).data("node-filter-name"),
x=jQuery(a).data("node-filter"),H=jQuery(a).data("node-tag");x&&0<=x.indexOf("&")&&(x=html_unescape(x));var A=jQuery(a).data("node-filter-all"),I=e?e.indexOf("tags: "):-1;if(d&&H&&0<=I){for(var x=e.substring(0,I),e=e.substring(I+6),O="";0==e.indexOf(" ");)e=e.substring(1);I=e.indexOf(" ");0<I&&(O=e.substring(I),e=e.substring(0,I));x=x+"tags: "+e+"+"+H+O}else x&&!h&&e&&!A&&e!=NODE_FILTER_ALL?x=e+" "+x:A&&(x=NODE_FILTER_ALL);c.filterAll(A);c.filter(x);c.filterName(h);c.clear();c.updateMatchedNodes()};
c.updateNodesNextPage=function(){c.page()||c.page(0);c.page(c.page()+1);c.updateMatchedNodes()};c.browseNodesPage=function(a){if(c.page()!=a){if(!a||a>=c.maxPages()||0>a)a=0;c.pageDisplay(a+1)}};c.browseNodesPageNext=function(){c.page()+1<c.maxPages()&&c.browseNodesPage(c.page()+1)};c.browseNodesPagePrev=function(){0<c.page()&&c.browseNodesPage(c.page()-1)};c.browseNodesPageUrl=function(a){var d=c.getPageParams();0<=a&&a<c.maxPages()?d.page=a:d.page=0;return _genUrl(c.baseNodesPageUrl,d)};c.browseNodesPagePrevUrl=
function(){return c.browseNodesPageUrl(c.page()-1)};c.browseNodesPageNextUrl=function(){return c.browseNodesPageUrl(c.page()+1)};c.updateNodesRemainingPages=function(){c.page(-1);c.updateMatchedNodes()};c.loadJS=function(a){ko.mapping.fromJS(a,{},c)};c.pagingMax.subscribe(function(){c.updateMatchedNodes()});c.newFilterText=function(){c.page(0);c.updateMatchedNodes()};c.updateMatchedNodes=function(){if((c.filter()||"blank"!=c.emptyMode())&&c.project()){var a=c.filterName()?{filterName:c.filterName()}:
c.filter()?{filter:c.filter()}:{},d=c.page(),e={view:c.view()?c.view():"table",declarenone:!0,fullresults:!0,expanddetail:!0,inlinepaging:!1,nodefilterLinkId:c.nodefilterLinkId};c.paging()&&(e.page=d,e.max=c.pagingMax(),e.inlinepaging=!0,0!=d&&(e.view="tableContent"));c.maxShown()&&(e.maxShown=c.maxShown());a=Object.extend(e,a);if("localnode"==c.emptyMode()&&!c.filter())a.localNodeOnly="true";else if("blank"==c.emptyMode()&&!c.filter()){c.clear();return}d=c.nodeExcludePrecedence();a.nodeExcludePrecedence=
"string"==typeof d&&"false"===d||"boolean"==typeof d&&!d?"false":"true";c.loading(!0);var h=_genUrl(appLinks.frameworkNodesQueryAjax,a);jQuery.ajax({type:"GET",dataType:"json",url:h,error:function(a,d,e){c.loading(!1);"function"==typeof errcallback&&c.error("Failed "+h+": "+e+", "+d)},success:function(a,d,e){c.loading(!1);c.nodeSet().loadJS({nodes:a.allnodes,tagsummary:a.tagsummary});c.loadJS({allcount:a.allcount,total:a.total,truncated:a.truncated,colkeys:a.colkeys})}})}}}
function AdhocLink(d,e){var h=this;h.nodefilter=e;h.href=ko.observable(null);h.title=ko.observable(null);h.execid=ko.observable(null);h.filter=ko.observable(null);h.status=ko.observable(null);h.succeeded=ko.observable(null);var a={scheduled:"running",running:"running",succeed:"succeed",succeeded:"succeed",fail:"fail",failed:"fail",cancel:"aborted",aborted:"aborted",retry:"failedretry",timedout:"timedout",timeout:"timedout"};h.statusClass=ko.pureComputed(function(){var c=a[h.status()];return c?c:"other"});
h.fillCommand=function(){jQuery("#runFormExec").val(h.title());h.nodefilter.useFilterString(h.filter())};ko.mapping.fromJS(d,{},h)}
function AdhocCommand(d,e){var h=this;h.nodefilter=e;h.loadMax=20;h.recentCommandsLoaded=ko.observable(!1);h.recentCommands=ko.observableArray([]);h.commandString=ko.observable();h.commandStringDelayed=ko.pureComputed(this.commandString).extend({rateLimit:{method:"notifyWhenChangesStop",timeout:1E3}});h.running=ko.observable(!1);h.canRun=ko.observable(!1);h.allowInput=ko.pureComputed(function(){return!h.running()&&h.canRun()});h.followControl=null;var a={recentCommands:{create:function(a){return new AdhocLink(a.data,
h.nodefilter)}}};h.recentCommandsNoneFound=ko.pureComputed(function(){return 1>h.recentCommands().length&&h.recentCommandsLoaded()});h.loadList=function(a){var d=_genUrl(appLinks.adhocHistoryAjax,jQuery.extend({max:h.loadMax},a));return jQuery.ajax({type:"GET",url:d,error:function(a,c,e){runError("Recent commands list: request failed for "+d+": "+e+", "+c)}})};h.loadRecentCommands=function(){h.loadList({}).done(function(c,d,e){h.recentCommandsLoaded(!0);try{ko.mapping.fromJS({recentCommands:c.executions},
a,h)}catch(n){console.log("Recent commands list: error receiving data",n),runError("Recent commands list: error receiving data: "+n)}})};d&&ko.mapping.fromJS(d,{},h)}
ko.bindingHandlers.urlPathParam={init:function(d,e,h,a,c){e=jQuery(d).attr("href");jQuery(d).data("ko-orig-href",e)},update:function(d,e,h,a,c){h=ko.utils.unwrapObservable(e());e=jQuery(d).data("ko-orig-href");var g=[];"object"!=typeof h?g=[h]:jQuery.isArray(h)?g=h:"object"==typeof h&&(g=ko.utils.unwrapObservable(h.value),jQuery.isArray(g)||(g=[g]));for(h=0;h<g.length;h++)g[h]=ko.utils.unwrapObservable(g[h]);var k=0;e=e.replace(/%3C%24%3E/ig,function(a,c,d){return g[k++]});d.setAttribute("href",e)}};
function JobStepInfo(d,e,h){this.parent=d;this.ndx=e;this.jobId=ko.observable(h.id);this.ehJobId=ko.observable(h.ehId);this.type=ko.observable(h.type||"unknown-step-type");this.stepident=ko.observable(h.stepident||"(Unknown)");this.ehType=ko.observable(h.ehType);this.ehStepident=ko.observable(h.ehStepident);this.ehKeepgoingOnSuccess=ko.observable(h.ehKeepgoingOnSuccess)}function JobWorkflow(d,e,h){var a=this;a.id=h;a.multi=d;a.workflow=e||[];a.insert=function(c,d){a.workflow[c]=d}}
function WorkflowStepInfo(d,e,h){var a=this;a.multiworkflow=d;a.stepctx=e;a.stepctxArray=ko.observableArray(RDWorkflow.parseContextId(e));a.job=h.job;a.ehJob=h.ehJob;a.jobstep=ko.observable();a.jobId=ko.observable(h.id);a.ehJobId=ko.observable(h.ehId);a.type=ko.observable(h.type||"unknown-step-type");a.ehType=ko.observable(h.ehType);a.stepident=ko.observable(h.stepident||"Step: "+e);a.ehStepident=ko.observable(h.ehStepident);a.ehKeepgoingOnSuccess=ko.observable(h.ehKeepgoingOnSuccess);a.hasParent=
ko.pureComputed(function(){return 1<a.stepctxArray().length});a.hasLink=ko.pureComputed(function(){var c=a.hasParent(),d="job"==a.type();return c||d});a.linkJobId=ko.pureComputed(function(){return"job"==a.type()?a.jobId():a.hasParent()?a.parentJobId():a.multiworkflow.jobId});a.linkTitle=ko.pureComputed(function(){return"job"==a.type()?a.stepident():a.hasParent()?a.parentJobTitle():"Current Job"});a.parentJobId=ko.pureComputed(function(){var c=a.hasParent(),d=a.parentStepInfo();return c&&d?d.isErrorhandler()?
d.ehJobId():d.jobId()||d.ehJobId():null});a.parentJobTitle=ko.pureComputed(function(){var c=a.hasParent(),d=a.parentStepInfo();return c&&d?d.isErrorhandler()?d.ehStepident():d.jobId()&&d.stepident()||d.ehStepident():null});a.parentStepInfo=ko.computed(function(){var c=a.stepctxArray();return 1<c.length?(c=c.slice(0,-1).join("/"),a.multiworkflow.getStepInfoForStepctx(c)):null});a.stepnum=ko.pureComputed(function(){var c=a.stepctxArray();return 0<c.length?RDWorkflow.stepNumberForContextId(c[c.length-
1]):null});a.isErrorhandler=ko.pureComputed(function(){var c=a.stepctxArray();if(0<c.length)for(var d=0;d<c.length;d++)if(RDWorkflow.isErrorhandlerForContextId(c[d]))return!0;return!1});a.stepdesc=ko.pureComputed(function(){var c=a.stepnum();return c?c+". "+a.stepident():null});a.stepdescFull=ko.pureComputed(function(){if(!a.stepnum())return null;var c=a.stepdesc();a.isErrorhandler()&&a.ehType()&&(c=c+" ! "+a.ehStepident());return c});a.stepctxString=ko.pureComputed(function(){return a.stepctx});
a.stepctxClean=ko.pureComputed(function(){return"Workflow step: "+RDWorkflow.cleanContextId(a.stepctx)});a.stepctxPathFull=ko.computed(function(){return 1<a.stepctxArray().length?a.parentStepInfo().stepctxPathFull()+" / "+a.stepdescFull():a.stepdescFull()});a.jobstep.subscribe(function(c){c&&(a.type(c.type()),a.stepident(c.stepident()),a.jobId(c.jobId()),a.ehJobId(c.ehJobId()),a.ehType(c.ehType()),a.ehStepident(c.ehStepident()),a.ehKeepgoingOnSuccess(c.ehKeepgoingOnSuccess()))})}
function JobWorkflowsCache(d,e){var h=this;h.url=d;h.jobs=jQuery.extend({},e);h.load=function(a){return jQuery.ajax({url:_genUrl(h.url,{id:a}),method:"GET",contentType:"json",success:function(c){h.add(a,c.workflow)}})};h.add=function(a,c){if(h.jobs[a]&&ko.isObservable(h.jobs[a]))h.jobs[a](c);else h.jobs[a]=ko.observable(c)};h.tempSubscribe=function(a,c){var d;d=a.subscribe(function(a){d.dispose();c(a)})};h.getJob=function(a,c){h.jobs[a]&&ko.isObservable(h.jobs[a])&&h.jobs[a]()?c(h.jobs[a]()):ko.isObservable(h.jobs[a])?
h.tempSubscribe(h.jobs[a],c):(h.jobs[a]=ko.observable(),h.tempSubscribe(h.jobs[a],c),h.load(a))}}
function MultiWorkflow(d,e){var h=this;h.workflowInfo=d;h.dynamicStepDescriptionDisabled=e.dynamicStepDescriptionDisabled;h.cache=new JobWorkflowsCache(e.url,{});h.job=null;h.jobId=e.id;h.workflowsets={};h.stepinfoset={};h.loadJob=function(a,c){if(h.workflowsets[a]&&0<h.workflowsets[a].workflow.length)return c(h.workflowsets[a]),h.workflowsets[a];h.workflowsets[a]=h.workflowsets[a]||new JobWorkflow(h,[],a);var d=h.workflowsets[a];h.cache.getJob(a,function(d){d=h.fillJobWorkflow(a,d);c(d)});return d};
h.updateJobCache=function(a,c){a&&!h.workflowsets[a]&&(c&&h.cache.add(a,c),h.loadJob(a,function(){}))};h.fillJobWorkflow=function(a,c){if(h.workflowsets[a]&&0<h.workflowsets[a].workflow.length)return h.workflowsets[a];var d=h.workflowsets[a]||new JobWorkflow(h,[],a);h.workflowsets[a]=d;for(var e=0;e<c.length;e++){var n={type:_wfTypeForStep(c[e]),stepident:_wfStringForStep(c[e]),id:c[e].jobId};c[e].errorhandler&&(n.ehType=_wfTypeForStep(c[e].errorhandler),n.ehStepident=_wfStringForStep(c[e].errorhandler),
n.ehKeepgoingOnSuccess=_wfStringForStep(c[e].errorhandler.keepgoingOnSuccess));c[e].ehJobId&&(n.ehId=c[e].ehJobId);d.insert(e,new JobStepInfo(d,e,n));"job"==n.type&&h.updateJobCache(n.id,c[e].workflow);n.ehId&&h.updateJobCache(n.ehId,c[e].ehWorkflow)}return d};h.getParentJobStepInfoForStepctx=function(a,c){a?h.getStepInfoForStepctx(a,function(d){"job"==d.type()&&d.jobId()?h.loadJob(d.jobId(),function(a){d.job=a;d.ehJobId()?h.loadJob(d.ehJobId(),function(a){d.ehJob=a;c(d)}):c(d)}):d.ehJobId()?h.loadJob(d.ehJobId(),
function(a){d.ehJob=a;c(d)}):console.log("stepctx was not job: "+a,d)}):h.loadJob(h.jobId,function(a){c(new WorkflowStepInfo(h,"",{id:h.jobId,type:"job",job:a}))})};h.getStepInfoForStepctx=function(a,c){if(h.dynamicStepDescriptionDisabled)return h.stepinfoset[a]||(h.stepinfoset[a]=new WorkflowStepInfo(h,a,{type:h.workflowInfo.contextType(a),stepident:h.workflowInfo.renderContextString(a)})),h.stepinfoset[a];if(h.stepinfoset[a]){var d=h.stepinfoset[a];if("function"==typeof c&&d.jobstep())c(d);else if("function"==
typeof c){var e;e=d.jobstep.subscribe(function(a){a&&(e.dispose(),c(d))})}return d}var n=new WorkflowStepInfo(h,a,{});h.stepinfoset[a]=n;var m=RDWorkflow.parseContextId(a),x=m.pop(),H=RDWorkflow.workflowIndexForContextId(x);h.getParentJobStepInfoForStepctx(m.join("/"),function(a){var d=(a=0<m.length&&RDWorkflow.isErrorhandlerForContextId(m[m.length-1])?a.ehJob:a.job||a.ehJob)&&a.workflow[H];n.parent=a;n.jobstep(d);"function"==typeof c&&c(n)});return n};h.initialLoad=function(a){a.workflow&&h.updateJobCache(a.id,
a.workflow)};h.initialLoad(e)}
function RDNodeStep(d,e,h){var a=this;a.node=e;a.flow=h;a.stepctx=d.stepctx;a.stepinfo=ko.observable(h.multiWorkflow.getStepInfoForStepctx(d.stepctx));a.type=ko.observable(h.workflow.contextType(d.stepctx));a.stepident=ko.observable(h.workflow.renderContextString(d.stepctx));a.stepctxdesc=ko.observable("Workflow Step: "+d.stepctx);a.parameters=ko.observable(d.parameters||null);a.followingOutput=ko.observable(!1);a.hovering=ko.observable(!1);a.outputLineCount=ko.observable(-1);a.startTime=ko.observable(d.startTime||
null);a.updateTime=ko.observable(d.updateTime||null);a.endTime=ko.observable(d.endTime||null);a.duration=ko.observable(d.duration||-1);a.executionState=ko.observable(d.executionState||null);a.parameterizedStep=ko.observable(0<=d.stepctx.indexOf("@"));a.startTimeSimple=ko.pureComputed(function(){return MomentUtil.formatTimeSimpleUTC(a.startTime())});a.startTimeFormat=function(c){return MomentUtil.formatTimeUTC(a.startTime(),c)};a.endTimeSimple=ko.pureComputed(function(){return MomentUtil.formatTimeSimpleUTC(a.endTime())});
a.endTimeFormat=function(c){return MomentUtil.formatTimeUTC(a.endTime(),c)};a.durationCalc=ko.pureComputed(function(){var c=a.duration();return 0>c&&a.endTime()&&a.startTime()?moment(a.endTime()).diff(moment(a.startTime())):c});a.durationSimple=ko.pureComputed(function(){return MomentUtil.formatDurationSimple(a.durationCalc())})}
RDNodeStep.stateCompare=function(d,e){if(d==e)return!1;var h="SUCCEEDED NONE NOT_STARTED WAITING FAILED ABORTED RUNNING RUNNING_HANDLER".split(" "),a=h.indexOf(d),h=h.indexOf(e);return 0>a?!0:h>a};RDNodeStep.completedStates=["SUCCEEDED","FAILED","ABORTED","NONE_SUCCEEDED","PARTIAL_SUCCEEDED"];RDNodeStep.runningStates=["RUNNING","RUNNING_HANDLER"];
function RDNode(d,e,h){var a=this;a.flow=h;a.name=d;a.state=ko.observable();a.steps=ko.observableArray([]).extend({rateLimit:200});a.expanded=ko.observable(!1);var c={steps:{key:function(a){return ko.utils.unwrapObservable(a.stepctx)},create:function(c){return new RDNodeStep(c.data,a,h)}}};a.durationMs=ko.observable(-1);a.toggleExpand=function(){a.expanded(!a.expanded());a.expanded()?(h.selectedNodes.push(a.name),h.loadStateForNode(a)):h.selectedNodes.remove(a.name)};a.duration=ko.pureComputed(function(){var c=
a.durationMs();0>c&&ko.utils.arrayForEach(a.steps(),function(a){a.parameterizedStep()||(a=a.duration(),0<=a&&0>c?c=a:0<=a&&(c+=a))});return c});a.durationSimple=ko.pureComputed(function(){return MomentUtil.formatDurationSimple(a.duration())});a.summary=ko.observable();a.summaryState=ko.observable();a.currentStep=ko.observable();a.lastUpdated=ko.observable(null);a.findStepForCtx=function(c){var d=ko.utils.arrayFilter(a.steps(),function(a){return a.stepctx==c});return d&&1==d.length?d[0]:null};a.summaryDescriptionForState=
function(a){var c=a.summaryState;return"RUNNING"==c||"RUNNING_HANDLER"==c?"Running":"SUCCEEDED"==c?"All Steps OK":"FAILED"==c?a.FAILED?a.FAILED+" "+h.pluralize(a.FAILED,"Step")+" FAILED":"Failed":"WAITING"==c&&a.WAITING?"Waiting to run "+(a.WAITING||"some")+" "+h.pluralize(a.WAITING,"Step"):"NOT_STARTED"==c?"No steps were run":"PARTIAL_NOT_STARTED"==c?(a.PARTIAL_NOT_STARTED||"Some")+" "+h.pluralize(a.PARTIAL_NOT_STARTED,"Step")+" not run":"WAITING"==c?"Waiting":"PARTIAL_SUCCEEDED"==c?(a.PARTIAL_SUCCEEDED||
"Some")+" did not succeed":"NONE_SUCCEEDED"==c?"No steps succeeded":"NONE"==c?"No Steps":null};a.summarize=function(){var c=null,d={total:0,SUCCEEDED:0,FAILED:0,WAITING:0,NOT_STARTED:0,RUNNING:0,RUNNING_HANDLER:0,other:0,duration_ms_total:0,pending:a.flow.pendingStepsForNode(a.name)},e="SUCCEEDED FAILED WAITING NOT_STARTED RUNNING RUNNING_HANDLER".split(" ");ko.utils.arrayForEach(a.steps(),function(a){var h=a.executionState();a.parameterizedStep()||(d.total++,0<=e.indexOf(h)&&null!=d[h]?d[h]++:d.other++);
if(!c&&RDNodeStep.stateCompare("NONE",a.executionState())||c&&RDNodeStep.stateCompare(c.executionState(),a.executionState()))c=a});a.currentStep(c);0<d.total?0<d.RUNNING?(a.summary("Running"),a.summaryState("RUNNING")):0<d.RUNNING_HANDLER?(a.summary("Running"),a.summaryState("RUNNING_HANDLER")):d.total==d.SUCCEEDED&&1>d.pending?(a.summary("All Steps OK"),a.summaryState("SUCCEEDED")):0<d.FAILED?(a.summary(d.FAILED+" "+h.pluralize(d.FAILED,"Step")+" FAILED"),a.summaryState("FAILED")):0<d.WAITING?(a.summary("Waiting to run "+
d.WAITING+" "+h.pluralize(d.WAITING,"Step")),a.summaryState("WAITING")):d.NOT_STARTED==d.total&&1>d.pending?(a.summary("No steps were run"),a.summaryState("NOT_STARTED")):0<d.NOT_STARTED?(a.summary(d.NOT_STARTED+" "+h.pluralize(d.NOT_STARTED,"Step")+" not run"),a.summaryState("PARTIAL_NOT_STARTED")):0<d.pending?(a.summary("Waiting"),a.summaryState("WAITING")):0<d.SUCCEEDED?(a.summary(d.total-d.SUCCEEDED+" did not succeed"),a.summaryState("PARTIAL_SUCCEEDED")):(a.summary("No steps succeeded"),a.summaryState("NONE_SUCCEEDED")):
0<d.pending?(a.summary("Waiting"),a.summaryState("WAITING")):(a.summary("No Steps"),a.summaryState("NONE"))};a.currentStepFromData=function(c){a.currentStep(new RDNodeStep(c,a,a.flow))};a.updateSummary=function(c){c.lastUpdated&&a.lastUpdated()==c.lastUpdated&&c.summaryState==a.summaryState()||(a.lastUpdated(c.lastUpdated),a.summaryState(c.summaryState),a.summary(a.summaryDescriptionForState(c)),a.durationMs(c.duration),c.currentStep?a.currentStepFromData(c.currentStep):a.currentStep(null))};a.loadData=
function(c){a.updateSummary(c.summary);a.updateSteps(c.steps)};a.updateSteps=function(d){ko.mapping.fromJS({steps:d},c,this);a.summarize()};e&&a.updateSteps(e)}
function NodeFlowViewModel(d,e,h,a,c){var g=this;g.workflow=d;g.multiWorkflow=a;g.errorMessage=ko.observable();g.statusMessage=ko.observable();g.stateLoaded=ko.observable(!1);g.pendingNodeSteps=ko.observable({});g.nodes=ko.observableArray([]).extend({rateLimit:500});g.selectedNodes=ko.observableArray([]);g.followingStep=ko.observable();g.execFollowingControl=c.followControl;g.followingControl=null;g.followOutputUrl=e;g.nodeStateUpdateUrl=h;g.completed=ko.observable();g.executionState=ko.observable();
g.executionStatusString=ko.observable();g.retryExecutionId=ko.observable();g.retryExecutionState=ko.observable();g.retryExecutionUrl=ko.observable();g.retryExecutionAttempt=ko.observable();g.retry=ko.observable();g.execDuration=ko.observable();g.jobAverageDuration=ko.observable();g.startTime=ko.observable();g.endTime=ko.observable();g.executionId=ko.observable(c.executionId);g.outputScrollOffset=0;g.activeTab=ko.observable("summary");g.scheduled=ko.pureComputed(function(){return"SCHEDULED"===g.executionState()});
g.failed=ko.pureComputed(function(){return"FAILED"===g.executionState()});g.incompleteState=ko.pureComputed(function(){return"OTHER"===g.executionState()&&"incomplete"===g.executionStatusString()});g.totalSteps=ko.pureComputed(function(){return g.workflow.workflow.length});g.activeNodes=ko.pureComputed(function(){return ko.utils.arrayFilter(g.nodes(),function(a){return"NONE"!==a.summaryState()})});g.displayStatusString=ko.computed(function(){var a=g.executionStatusString();return null!=a&&g.executionState()!=
a.toUpperCase()&&!g.incompleteState()});g.canKillExec=ko.computed(function(){return g.execFollowingControl&&g.execFollowingControl.killjobauth});g.killRequested=ko.observable(!1);g.killResponseData=ko.observable({});g.killExecAction=function(){g.execFollowingControl&&g.execFollowingControl.docancel().then(function(a){g.killRequested(!0);g.killResponseData(a)})};g.killStatusFailed=ko.computed(function(){var a=g.killRequested(),c=g.killResponseData();return a?c&&!c.cancelled:!1});g.killStatusPending=
ko.computed(function(){var a=g.killRequested(),c=g.killResponseData();return a?c&&c.cancelled&&"pending"===c.abortstate:!1});g.killStatusText=ko.computed(function(){var a=g.killRequested(),c=g.killResponseData();return a?c&&c.cancelled&&"pending"===c.abortstate?c.reason||"Killing Job...":c&&c.cancelled&&"aborted"===c.abortstate?c.reason||"Killed.":(c?c.error||c.reason:"")||"Failed to Kill Job.":""});g.totalNodeCount=ko.observable(0);g.nodeIndex={};g.totalNodes=ko.pureComputed(function(){var a=ko.utils.arrayFilter(g.nodes(),
function(a){return"NONE"!==a.summaryState()});return a?a.length:0});g.jobPercentage=ko.pureComputed(function(){return 0<g.jobAverageDuration()?100*(g.execDuration()/g.jobAverageDuration()):-1});g.jobPercentageFixed=ko.pureComputed(function(){var a=g.jobPercentage();return 0<=a?a.toFixed(0):"0"});g.jobOverrunDuration=ko.pureComputed(function(){var a=g.jobAverageDuration(),c=g.execDuration();return 0<a&&c>a?MomentUtil.formatDurationSimple(c-a):""});g.completedNodes=ko.computed(function(){var a=[];ko.utils.arrayForEach(g.nodes(),
function(c){0<=RDNodeStep.completedStates.indexOf(c.summaryState())&&a.push(c)});return a});g.succeededNodes=ko.computed(function(){var a=[];ko.utils.arrayForEach(g.nodes(),function(c){"SUCCEEDED"==c.summaryState()&&a.push(c)});return a});g.runningNodes=ko.computed(function(){var a=[];ko.utils.arrayForEach(g.nodes(),function(c){0<=RDNodeStep.runningStates.indexOf(c.summaryState())&&a.push(c)});return a});g.waitingNodes=ko.computed(function(){var a=[];ko.utils.arrayForEach(g.nodes(),function(c){"WAITING"==
c.summaryState()&&a.push(c)});return a});g.notstartedNodes=ko.computed(function(){var a=[];ko.utils.arrayForEach(g.nodes(),function(c){"NOT_STARTED"==c.summaryState()&&a.push(c)});return a});g.partialNodes=ko.computed(function(){var a=[];ko.utils.arrayForEach(g.nodes(),function(c){"PARTIAL_NOT_STARTED"!=c.summaryState()&&"PARTIAL_SUCCEEDED"!=c.summaryState()||a.push(c)});return a});g.failedNodes=ko.computed(function(){var a=[];ko.utils.arrayForEach(g.nodes(),function(c){"FAILED"==c.summaryState()&&
a.push(c)});return a});g.percentageFixed=function(a,c){return 0==c?0:(a/c*100).toFixed(0)};g.stopShowingOutput=function(){g.followingControl&&(g.followingControl.stopFollowingOutput(),g.followingControl=null)};g.showOutput=function(a){var c=a.node.name,d=a.stepctx,e='.wfnodeoutput[data-node="'+c+'"]',e=jQuery.find(d?e+("[data-stepctx='"+d+"']"):e+"[data-stepctx=]");if(!e||1!=e.length)throw"could not find output area";e=e[0];c={nodename:c};d&&Object.extend(c,{stepctx:d});var h=new FollowControl(null,
null,{parentElement:e,extraParams:"&"+Object.toQueryString(c),appLinks:{tailExecutionOutput:g.followOutputUrl},finishedExecutionAction:!1,autoscroll:!1,onAppend:function(){a.outputLineCount(h.getLineCount())}});h.workflow=g.workflow;h.setColNode(!1);h.setColStep(null==d);h.beginFollowingOutput();return h};g.toggleOutputForNodeStep=function(a,c){g.stopShowingOutput();var d=a.node,e=RDWorkflow.cleanContextId(a.stepctx),h=function(){d.expanded(!0);var a=d.findStepForCtx(e);if(!a)throw"failed to find step for context: "+
e+" and node: "+d.name;a.followingOutput(!0);ko.utils.arrayForEach(g.nodes(),function(c){ko.utils.arrayForEach(c.steps(),function(c){c!=a&&c.followingOutput(!1)})});var h=g.showOutput(a);g.followingStep(a);g.followingControl=h;"function"==typeof c&&c()};if(d.expanded()||a.followingOutput())a.followingOutput()?(a.followingOutput(!1),g.followingStep(null)):h();else return g.loadStateForNode(d).then(h);return!0};g.scrollTo=function(a,c,d){window.scrollTo((a.x?a.x:a.offsetLeft)+(c?c:0),(a.y?a.y:a.offsetTop)+
(d?d:0))};g.scrollToNodeStep=function(a,c){var d=$$('.wfnodestep[data-node="'+a+'"][data-stepctx="'+c+'"]');d&&(jQuery("#tab_link_flow a").tab("show"),g.scrollTo($(d[0])))};g.scrollToNode=function(a){if(a=jQuery.find('.wfnodestate.container[data-node="'+a+'"]'))jQuery("#tab_link_flow a").tab("show"),g.scrollTo(a[0])};g.scrollToOutput=function(a){a.followingOutput()?g.scrollToNode(a.node.name):g.toggleOutputForNodeStep(a,function(){g.scrollToNode(a.node.name)})};g.pluralize=function(a,c,d){return 1==
a?c:null!=d?d:c+"s"};g.stepStateForCtx=function(a,c){"string"==typeof c&&(c=RDWorkflow.parseContextId(c));var d=c[0],e=RDWorkflow.workflowIndexForContextId(d),d=RDWorkflow.paramsForContextId(d),e=a.steps[e];d&&e.parameterStates&&e.parameterStates[d]&&(e=e.parameterStates[d]);return 1<c.length&&e.workflow?g.stepStateForCtx(e.workflow,c.slice(1)):e};g.pendingStepsForNode=function(a){var c=g.pendingNodeSteps();return null!=c[a]?c[a]:null!=c._other?c._other:0};g.countPendingStepsForNodes=function(a,c,
d){"undefined"==typeof d&&(d={});for(var e=0;e<a.steps.length;e++){var h=a.steps[e];h.hasSubworkflow&&g.countPendingStepsForNodes(h.workflow,c,d);if(h.hasSubworkflow&&h.nodeStep&&h.parameterStates||h.nodeStep&&!h.hasSubworkflow){var A=null==a.targetNodes||0==a.targetNodes.length?c:a.targetNodes;null!=h.nodeStates?A=ko.utils.arrayFilter(A,function(a){return null==h.nodeStates[a]}):null!=h.parameterStates&&(A=ko.utils.arrayFilter(A,function(a){return null==h.parameterStates["node="+a]}));ko.utils.arrayForEach(A,
function(a){null==d[a]?d[a]=1:d[a]++})}}return d};g.extractNodeStepStates=function(a,c,d){for(var e=c?c.length:0,h=[],A=0;A<e;A++){var I=c[A],O=g.stepStateForCtx(d,I.stepctx).nodeStates[a];O.stepctx=I.stepctx;h.push(O)}return h};g.updateNodes=function(a){if(a.allNodes){g.stateLoaded(!0);g.pendingNodeSteps(a.completed?{_other:0}:g.countPendingStepsForNodes(a,a.allNodes));var c=a.allNodes,d=c.length;g.totalNodeCount(d);for(var e=0;e<d;e++){var h=c[e],A=a.nodeSummaries[h],I=null;!I&&a.nodeSteps&&a.nodeSteps[h]&&
(I=a.nodeSteps[h]);var O=g.findNode(h);O&&I?O.updateSteps(I):O?O.updateSummary(A):(h=new RDNode(h,I,g),h.updateSummary(A),g.nodes.push(h),g.nodeIndex[h.name]=h)}}};g.loadStateForNode=function(a){return jQuery.ajax({url:_genUrl(g.nodeStateUpdateUrl,{node:a.name}),dataType:"json",success:function(c,d,e){c.error?g.errorMessage("Failed to load state: "+(e.responseJSON&&e.responseJSON.error?e.responseJSON.error:err),e.responseJSON):a.loadData(c)},error:function(a,c,d){g.errorMessage("Failed to load state: "+
(a.responseJSON&&a.responseJSON.error?a.responseJSON.error:d),a.responseJSON)}})};g.formatTimeAtDate=function(a){return MomentUtil.formatTimeAtDateUTC(a)};g.formatDurationHumanize=function(a){return MomentUtil.formatDurationHumanize(a)};g.formatDurationMomentHumanize=function(a){return MomentUtil.formatDurationMomentHumanize(a)};g.addNode=function(a,c){var d=new RDNode(a,c,g);g.nodes.push(d);g.nodeIndex[d.name]=d};g.findNode=function(a){return g.nodeIndex[a]};g.execDurationSimple=ko.pureComputed(function(){return MomentUtil.formatDurationSimple(g.execDuration())});
g.execDurationHumanized=ko.pureComputed(function(){return MomentUtil.formatDurationHumanize(g.execDuration())});g.followFlowState=function(a,c){a.addUpdater({updateError:function(a,c){g.stateLoaded(!1);"pending"!==a?g.errorMessage(c.state.errorMessage?c.state.errorMessage:a):g.statusMessage(c.state.errorMessage?c.state.errorMessage:a);ko.mapping.fromJS({executionState:c.executionState,executionStatusString:c.executionStatusString,retryExecutionId:c.retryExecutionId,retryExecutionUrl:c.retryExecutionUrl,
retryExecutionState:c.retryExecutionState,retryExecutionAttempt:c.retryExecutionAttempt,retry:c.retry,completed:c.completed,execDuration:c.execDuration,jobAverageDuration:c.jobAverageDuration,startTime:c.startTime?c.startTime:c.state?c.state.startTime:null,endTime:c.endTime?c.endTime:c.state?c.state.endTime:null},{},g)},updateState:function(a){ko.mapping.fromJS({executionState:a.executionState,executionStatusString:a.executionStatusString,retryExecutionId:a.retryExecutionId,retryExecutionUrl:a.retryExecutionUrl,
retryExecutionState:a.retryExecutionState,retryExecutionAttempt:a.retryExecutionAttempt,retry:a.retry,completed:a.completed,execDuration:a.execDuration,jobAverageDuration:a.jobAverageDuration,startTime:a.startTime?a.startTime:a.state?a.state.startTime:null,endTime:a.endTime?a.endTime:a.state?a.state.endTime:null},{},g);c&&g.updateNodes(a.state)}})}}function showError(d){appendText($("error"),d);$("error").show()}
function disableRunBar(d){var e=jQuery("#runbox");d&&e.find("button.runbutton").button("loading")}function enableRunBar(){jQuery("#runbox").find("button.runbutton").button("reset")}var running=!1;function runStarted(){running=!0}function afterRun(){running=!1;jQuery(".execRerun").show();jQuery("#runFormExec").focus()}function runError(d){jQuery(".errormessage").html(d);jQuery("#runerror").collapse("show");jQuery("#runcontent").hide();onRunComplete()}
function requestFailure(d){runError("Request failed: "+d.statusText)}
function runFormSubmit(d){if(running||!$F("runFormExec")||!nodeFilter.filter()&&!nodeFilter.filterName())return!1;d=jQuery("#"+d+" :input").serialize();adhocCommand.running(!0);disableRunBar(!0);runStarted();$("runcontent").loading("Starting Execution\u2026");jQuery.ajax({type:"POST",url:_genUrl(appLinks.scheduledExecutionRunAdhocInline,d),beforeSend:_ajaxSendTokens.curry("adhoc_req_tokens"),success:function(d,h,a){try{startRunFollow(d)}catch(c){console.log(c),runError(c)}},error:function(d,h,a){requestFailure(h)}}).success(_ajaxReceiveTokens.curry("adhoc_req_tokens"));
return!1}function startRunFollow(d){d.error?runError(d.error):d.id?($("runcontent").loading("Loading Output\u2026"),jQuery("#runcontent").load(_genUrl(appLinks.executionFollowFragment,{id:d.id,mode:"tail"}),function(e,h,a){"success"==h?(Element.show("runcontent"),_initAffix(),e=continueRunFollow(d),ko.applyBindings(e,jQuery("#runcontent .executionshow")[0])):requestFailure(a)})):runError("Server response was invalid: "+d.toString())}
function continueRunFollow(d){var e=loadJsonData("pageParams"),h=[{exec:adhocCommand.commandString()}],a=new RDWorkflow(h,{}),e=new FollowControl(d.id,"runcontent",{workflow:a,parentElement:"commandPerform",viewoptionsCompleteId:"viewoptionscomplete",cmdOutputErrorId:"cmdoutputerror",outfileSizeId:"outfilesize",extraParams:e.disableMarkdown,smallIconUrl:e.smallIconUrl,iconUrl:e.iconUrl,lastlines:e.lastlines,maxLastLines:e.maxLastLines,killjobauth:e.adhocKillAllowed,colStep:{value:!1},collapseCtx:{value:!1,
changed:!1},groupOutput:{value:!1},tailmode:!0,taildelay:1.5,browsemode:!1,nodemode:!1,execData:{},appLinks:appLinks,onComplete:onRunComplete,dobind:!0}),h=new NodeFlowViewModel(a,null,null,null,{followControl:e,executionId:d.id}),a=new FlowState(d.id,null,{workflow:a,loadUrl:_genUrl(appLinks.executionAjaxExecState,{id:d.id}),outputUrl:null,selectedOutputStatusId:null,reloadInterval:1500});h.followFlowState(a);e.beginFollowingOutput(d.id);a.beginFollowing();d=adhocCommand.followControl;adhocCommand.followControl=
e;d&&d.stopFollowingOutput();return h}function onRunComplete(){adhocCommand.running(!1);enableRunBar();afterRun()}var nodeFilter,adhocCommand;
function _updateBoxInfo(d,e){e.total&&"0"!=e.total&&!running?(enableRunBar(),adhocCommand.canRun(!0)):running||(disableRunBar(!1),adhocCommand.canRun(!1));null!=e.total&&"undefined"!=typeof nodeFilter&&nodeFilter.total(e.total);null!=e.allcount&&"undefined"!=typeof nodeFilter&&nodeFilter.allcount(e.allcount);null!=e.filter&&"undefined"!=typeof nodeFilter&&nodeFilter.filter(e.filter)}
function closeOutputArea(){jQuery("#runcontent").hide();onRunComplete();adhocCommand.followControl&&adhocCommand.followControl.stopFollowingOutput()}
function init(){var d=loadJsonData("pageParams");jQuery("body").on("click",".nodefilterlink",function(a){a.preventDefault();nodeFilter.selectNodeFilterLink(this)});jQuery("#nodesContent").on("click",".closeoutput",function(a){a.preventDefault();closeOutputArea()});$$("#runbox input").each(function(a){"text"==a.type&&a.observe("keypress",function(a){if(noenter(a))return!0;runFormSubmit("runbox");return!1})});var e=new History(appLinks.reportsEventsAjax,appLinks.menuNowrunningAjax);ko.applyBindings(e,
document.getElementById("activity_section"));setupActivityLinks("activity_section",e);"true"==d.emptyQuery&&e.activateNowRunningTab();var e=loadJsonData("filterParamsJSON"),h=new NodeSummary({baseUrl:appLinks.frameworkNodes});nodeFilter=new NodeFilters(appLinks.frameworkAdhoc,appLinks.scheduledExecutionCreate,appLinks.frameworkNodes,Object.extend(e,{nodeSummary:h,view:"embed",maxShown:100,emptyMode:"blank",project:d.project,nodesTitleSingular:message("Node"),nodesTitlePlural:message("Node.plural")}));
ko.applyBindings(nodeFilter,document.getElementById("actionButtonArea"));ko.applyBindings(nodeFilter,document.getElementById("nodefilterViewArea"));ko.applyBindings(nodeFilter,document.getElementById("nodefiltersHidden"));adhocCommand=new AdhocCommand({commandString:d.runCommand},nodeFilter);ko.applyBindings(adhocCommand,document.getElementById("adhocInput"));nodeFilter.filterName.subscribe(function(a){a&&(jQuery("a[data-node-filter-name]").removeClass("active"),jQuery("a[data-node-filter-name='"+
a+"']").addClass("active"))});nodeFilter.total.subscribe(function(a){a&&"0"!=a&&!running?(enableRunBar(),adhocCommand.canRun(!0)):running||(disableRunBar(!1),adhocCommand.canRun(!1))});h.reload();nodeFilter.updateMatchedNodes();jQuery(".act_adhoc_history_dropdown").click(function(){adhocCommand.loadRecentCommands()})}jQuery(document).ready(init);