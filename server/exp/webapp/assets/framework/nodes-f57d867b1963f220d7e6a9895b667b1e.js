//# sourceMappingURL=nodes.js.map
(function(){(function(e){var d=this||(0,eval)("this"),m=d.document,h=d.navigator,b=d.jQuery,l=d.JSON;(function(b){"function"===typeof define&&define.amd?define(["exports","require"],b):"object"===typeof exports&&"object"===typeof module?b(module.exports||exports):b(d.ko={})})(function(D,u){function E(a,f){return null===a||typeof a in Y?a===f:!1}function C(c,f){var g;return function(){g||(g=a.a.setTimeout(function(){g=e;c()},f))}}function K(c,f){var g;return function(){clearTimeout(g);g=a.a.setTimeout(c,
f)}}function X(a,f){f&&f!==P?"beforeChange"===f?this.Kb(a):this.Ha(a,f):this.Lb(a)}function Q(a,f){null!==f&&f.k&&f.k()}function R(a,f){var g=this.Hc,b=g[v];b.R||(this.lb&&this.Ma[f]?(g.Pb(f,a,this.Ma[f]),this.Ma[f]=null,--this.lb):b.r[f]||g.Pb(f,a,b.s?{ia:a}:g.uc(a)))}function Z(c,f,g,b){a.d[c]={init:function(c,d,e,t,r){var p,B;a.m(function(){var ca=a.a.c(d()),F=!g!==!ca,V=!B;if(V||f||F!==p)V&&a.va.Aa()&&(B=a.a.ua(a.f.childNodes(c),!0)),F?(V||a.f.da(c,a.a.ua(B)),a.eb(b?b(r,ca):r,c)):a.f.xa(c),p=
F},null,{i:c});return{controlsDescendantBindings:!0}}};a.h.ta[c]=!1;a.f.Z[c]=!0}var a="undefined"!==typeof D?D:{};a.b=function(c,f){for(var b=c.split("."),k=a,d=0;d<b.length-1;d++)k=k[b[d]];k[b[b.length-1]]=f};a.G=function(a,f,b){a[f]=b};a.version="3.4.0";a.b("version",a.version);a.options={deferUpdates:!1,useOnlyNativeEvents:!1};a.a=function(){function c(a,c){for(var f in a)a.hasOwnProperty(f)&&c(f,a[f])}function f(a,c){if(c)for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);return a}function g(a,c){a.__proto__=
c;return a}function k(c,f,b,g){var k=c[f].match(B)||[];a.a.q(b.match(B),function(c){a.a.pa(k,c,g)});c[f]=k.join(" ")}var L={__proto__:[]}instanceof Array,G="function"===typeof Symbol,x={},t={};x[h&&/Firefox\/2/i.test(h.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];x.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");c(x,function(a,c){if(c.length)for(var f=0,b=c.length;f<b;f++)t[c[f]]=a});var r={propertychange:!0},p=
m&&function(){for(var a=3,c=m.createElement("div"),f=c.getElementsByTagName("i");c.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",f[0];);return 4<a?a:e}(),B=/\S+/g;return{cc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],q:function(a,c){for(var f=0,b=a.length;f<b;f++)c(a[f],f)},o:function(a,c){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,c);for(var f=0,b=a.length;f<b;f++)if(a[f]===c)return f;return-1},Sb:function(a,c,f){for(var b=
0,g=a.length;b<g;b++)if(c.call(f,a[b],b))return a[b];return null},La:function(c,f){var b=a.a.o(c,f);0<b?c.splice(b,1):0===b&&c.shift()},Tb:function(c){c=c||[];for(var f=[],b=0,g=c.length;b<g;b++)0>a.a.o(f,c[b])&&f.push(c[b]);return f},fb:function(a,c){a=a||[];for(var f=[],b=0,g=a.length;b<g;b++)f.push(c(a[b],b));return f},Ka:function(a,c){a=a||[];for(var f=[],b=0,g=a.length;b<g;b++)c(a[b],b)&&f.push(a[b]);return f},ra:function(a,c){if(c instanceof Array)a.push.apply(a,c);else for(var f=0,b=c.length;f<
b;f++)a.push(c[f]);return a},pa:function(c,f,b){var g=a.a.o(a.a.zb(c),f);0>g?b&&c.push(f):b||c.splice(g,1)},ka:L,extend:f,Xa:g,Ya:L?g:f,D:c,Ca:function(a,c){if(!a)return a;var f={},b;for(b in a)a.hasOwnProperty(b)&&(f[b]=c(a[b],b,a));return f},ob:function(c){for(;c.firstChild;)a.removeNode(c.firstChild)},jc:function(c){c=a.a.V(c);for(var f=(c[0]&&c[0].ownerDocument||m).createElement("div"),b=0,g=c.length;b<g;b++)f.appendChild(a.$(c[b]));return f},ua:function(c,f){for(var b=0,g=c.length,k=[];b<g;b++){var p=
c[b].cloneNode(!0);k.push(f?a.$(p):p)}return k},da:function(c,f){a.a.ob(c);if(f)for(var b=0,g=f.length;b<g;b++)c.appendChild(f[b])},qc:function(c,f){var b=c.nodeType?[c]:c;if(0<b.length){for(var g=b[0],k=g.parentNode,p=0,r=f.length;p<r;p++)k.insertBefore(f[p],g);p=0;for(r=b.length;p<r;p++)a.removeNode(b[p])}},za:function(a,c){if(a.length){for(c=8===c.nodeType&&c.parentNode||c;a.length&&a[0].parentNode!==c;)a.splice(0,1);for(;1<a.length&&a[a.length-1].parentNode!==c;)a.length--;if(1<a.length){var f=
a[0],b=a[a.length-1];for(a.length=0;f!==b;)a.push(f),f=f.nextSibling;a.push(b)}}return a},sc:function(a,c){7>p?a.setAttribute("selected",c):a.selected=c},$a:function(a){return null===a||a===e?"":a.trim?a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},nd:function(a,c){a=a||"";return c.length>a.length?!1:a.substring(0,c.length)===c},Mc:function(a,c){if(a===c)return!0;if(11===a.nodeType)return!1;if(c.contains)return c.contains(3===a.nodeType?a.parentNode:a);if(c.compareDocumentPosition)return 16==
(c.compareDocumentPosition(a)&16);for(;a&&a!=c;)a=a.parentNode;return!!a},nb:function(c){return a.a.Mc(c,c.ownerDocument.documentElement)},Qb:function(c){return!!a.a.Sb(c,a.a.nb)},A:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},Wb:function(c){return a.onError?function(){try{return c.apply(this,arguments)}catch(f){throw a.onError&&a.onError(f),f;}}:c},setTimeout:function(c,f){return setTimeout(a.a.Wb(c),f)},$b:function(c){setTimeout(function(){a.onError&&a.onError(c);throw c;},0)},p:function(c,
f,g){var k=a.a.Wb(g);g=p&&r[f];if(a.options.useOnlyNativeEvents||g||!b)if(g||"function"!=typeof c.addEventListener)if("undefined"!=typeof c.attachEvent){var d=function(a){k.call(c,a)},t="on"+f;c.attachEvent(t,d);a.a.F.oa(c,function(){c.detachEvent(t,d)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else c.addEventListener(f,k,!1);else b(c).bind(f,k)},Da:function(c,f){if(!c||!c.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var g;"input"===
a.a.A(c)&&c.type&&"click"==f.toLowerCase()?(g=c.type,g="checkbox"==g||"radio"==g):g=!1;if(a.options.useOnlyNativeEvents||!b||g)if("function"==typeof m.createEvent)if("function"==typeof c.dispatchEvent)g=m.createEvent(t[f]||"HTMLEvents"),g.initEvent(f,!0,!0,d,0,0,0,0,0,!1,!1,!1,!1,0,c),c.dispatchEvent(g);else throw Error("The supplied element doesn't support dispatchEvent");else if(g&&c.click)c.click();else if("undefined"!=typeof c.fireEvent)c.fireEvent("on"+f);else throw Error("Browser doesn't support triggering events");
else b(c).trigger(f)},c:function(c){return a.H(c)?c():c},zb:function(c){return a.H(c)?c.t():c},bb:function(c,f,b){var g;f&&("object"===typeof c.classList?(g=c.classList[b?"add":"remove"],a.a.q(f.match(B),function(a){g.call(c.classList,a)})):"string"===typeof c.className.baseVal?k(c.className,"baseVal",f,b):k(c,"className",f,b))},Za:function(c,f){var b=a.a.c(f);if(null===b||b===e)b="";var g=a.f.firstChild(c);!g||3!=g.nodeType||a.f.nextSibling(g)?a.f.da(c,[c.ownerDocument.createTextNode(b)]):g.data=
b;a.a.Rc(c)},rc:function(a,c){a.name=c;if(7>=p)try{a.mergeAttributes(m.createElement("<input name='"+a.name+"'/>"),!1)}catch(f){}},Rc:function(a){9<=p&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},Nc:function(a){if(p){var c=a.style.width;a.style.width=0;a.style.width=c}},hd:function(c,f){c=a.a.c(c);f=a.a.c(f);for(var b=[],g=c;g<=f;g++)b.push(g);return b},V:function(a){for(var c=[],f=0,b=a.length;f<b;f++)c.push(a[f]);return c},Yb:function(a){return G?Symbol(a):a},rd:6===p,
sd:7===p,C:p,ec:function(c,f){for(var b=a.a.V(c.getElementsByTagName("input")).concat(a.a.V(c.getElementsByTagName("textarea"))),g="string"==typeof f?function(a){return a.name===f}:function(a){return f.test(a.name)},k=[],p=b.length-1;0<=p;p--)g(b[p])&&k.push(b[p]);return k},ed:function(c){return"string"==typeof c&&(c=a.a.$a(c))?l&&l.parse?l.parse(c):(new Function("return "+c))():null},Eb:function(c,f,b){if(!l||!l.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");
return l.stringify(a.a.c(c),f,b)},fd:function(f,b,g){g=g||{};var k=g.params||{},p=g.includeFields||this.cc,r=f;if("object"==typeof f&&"form"===a.a.A(f))for(var r=f.action,d=p.length-1;0<=d;d--)for(var t=a.a.ec(f,p[d]),L=t.length-1;0<=L;L--)k[t[L].name]=t[L].value;b=a.a.c(b);var e=m.createElement("form");e.style.display="none";e.action=r;e.method="post";for(var G in b)f=m.createElement("input"),f.type="hidden",f.name=G,f.value=a.a.Eb(a.a.c(b[G])),e.appendChild(f);c(k,function(a,c){var f=m.createElement("input");
f.type="hidden";f.name=a;f.value=c;e.appendChild(f)});m.body.appendChild(e);g.submitter?g.submitter(e):e.submit();setTimeout(function(){e.parentNode.removeChild(e)},0)}}}();a.b("utils",a.a);a.b("utils.arrayForEach",a.a.q);a.b("utils.arrayFirst",a.a.Sb);a.b("utils.arrayFilter",a.a.Ka);a.b("utils.arrayGetDistinctValues",a.a.Tb);a.b("utils.arrayIndexOf",a.a.o);a.b("utils.arrayMap",a.a.fb);a.b("utils.arrayPushAll",a.a.ra);a.b("utils.arrayRemoveItem",a.a.La);a.b("utils.extend",a.a.extend);a.b("utils.fieldsIncludedWithJsonPost",
a.a.cc);a.b("utils.getFormFields",a.a.ec);a.b("utils.peekObservable",a.a.zb);a.b("utils.postJson",a.a.fd);a.b("utils.parseJson",a.a.ed);a.b("utils.registerEventHandler",a.a.p);a.b("utils.stringifyJson",a.a.Eb);a.b("utils.range",a.a.hd);a.b("utils.toggleDomNodeCssClass",a.a.bb);a.b("utils.triggerEvent",a.a.Da);a.b("utils.unwrapObservable",a.a.c);a.b("utils.objectForEach",a.a.D);a.b("utils.addOrRemoveItem",a.a.pa);a.b("utils.setTextContent",a.a.Za);a.b("unwrap",a.a.c);Function.prototype.bind||(Function.prototype.bind=
function(a){var f=this;if(1===arguments.length)return function(){return f.apply(a,arguments)};var b=Array.prototype.slice.call(arguments,1);return function(){var k=b.slice(0);k.push.apply(k,arguments);return f.apply(a,k)}});a.a.e=new function(){function a(c,d){var x=c[b];if(!x||"null"===x||!k[x]){if(!d)return e;x=c[b]="ko"+f++;k[x]={}}return k[x]}var f=0,b="__ko__"+(new Date).getTime(),k={};return{get:function(f,b){var g=a(f,!1);return g===e?e:g[b]},set:function(f,b,g){if(g!==e||a(f,!1)!==e)a(f,!0)[b]=
g},clear:function(a){var c=a[b];return c?(delete k[c],a[b]=null,!0):!1},I:function(){return f++ +b}}};a.b("utils.domData",a.a.e);a.b("utils.domData.clear",a.a.e.clear);a.a.F=new function(){function c(c,f){var b=a.a.e.get(c,g);b===e&&f&&(b=[],a.a.e.set(c,g,b));return b}function f(b){var g=c(b,!1);if(g)for(var g=g.slice(0),k=0;k<g.length;k++)g[k](b);a.a.e.clear(b);a.a.F.cleanExternalData(b);if(d[b.nodeType])for(g=b.firstChild;b=g;)g=b.nextSibling,8===b.nodeType&&f(b)}var g=a.a.e.I(),k={1:!0,8:!0,9:!0},
d={1:!0,9:!0};return{oa:function(a,f){if("function"!=typeof f)throw Error("Callback must be a function");c(a,!0).push(f)},pc:function(f,b){var k=c(f,!1);k&&(a.a.La(k,b),0==k.length&&a.a.e.set(f,g,e))},$:function(c){if(k[c.nodeType]&&(f(c),d[c.nodeType])){var b=[];a.a.ra(b,c.getElementsByTagName("*"));for(var g=0,r=b.length;g<r;g++)f(b[g])}return c},removeNode:function(c){a.$(c);c.parentNode&&c.parentNode.removeChild(c)},cleanExternalData:function(a){b&&"function"==typeof b.cleanData&&b.cleanData([a])}}};
a.$=a.a.F.$;a.removeNode=a.a.F.removeNode;a.b("cleanNode",a.$);a.b("removeNode",a.removeNode);a.b("utils.domNodeDisposal",a.a.F);a.b("utils.domNodeDisposal.addDisposeCallback",a.a.F.oa);a.b("utils.domNodeDisposal.removeDisposeCallback",a.a.F.pc);(function(){var c=[0,"",""],f=[1,"<table>","</table>"],g=[3,"<table><tbody><tr>","</tr></tbody></table>"],k=[1,"<select multiple='multiple'>","</select>"],L={thead:f,tbody:f,tfoot:f,tr:[2,"<table><tbody>","</tbody></table>"],td:g,th:g,option:k,optgroup:k},
G=8>=a.a.C;a.a.ma=function(f,g){var k;if(b)if(b.parseHTML)k=b.parseHTML(f,g)||[];else{if((k=b.clean([f],g))&&k[0]){for(var p=k[0];p.parentNode&&11!==p.parentNode.nodeType;)p=p.parentNode;p.parentNode&&p.parentNode.removeChild(p)}}else{(k=g)||(k=m);var p=k.parentWindow||k.defaultView||d,e=a.a.$a(f).toLowerCase(),h=k.createElement("div"),l;l=(e=e.match(/^<([a-z]+)[ >]/))&&L[e[1]]||c;e=l[0];l="ignored<div>"+l[1]+f+l[2]+"</div>";for("function"==typeof p.innerShiv?h.appendChild(p.innerShiv(l)):(G&&k.appendChild(h),
h.innerHTML=l,G&&h.parentNode.removeChild(h));e--;)h=h.lastChild;k=a.a.V(h.lastChild.childNodes)}return k};a.a.Cb=function(c,f){a.a.ob(c);f=a.a.c(f);if(null!==f&&f!==e)if("string"!=typeof f&&(f=f.toString()),b)b(c).html(f);else for(var g=a.a.ma(f,c.ownerDocument),k=0;k<g.length;k++)c.appendChild(g[k])}})();a.b("utils.parseHtmlFragment",a.a.ma);a.b("utils.setHtml",a.a.Cb);a.M=function(){function c(f,b){if(f)if(8==f.nodeType){var d=a.M.lc(f.nodeValue);null!=d&&b.push({Lc:f,cd:d})}else if(1==f.nodeType)for(var d=
0,e=f.childNodes,h=e.length;d<h;d++)c(e[d],b)}var f={};return{wb:function(a){if("function"!=typeof a)throw Error("You can only pass a function to ko.memoization.memoize()");var c=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);f[c]=a;return"\x3c!--[ko_memo:"+c+"]--\x3e"},xc:function(a,c){var b=f[a];if(b===e)throw Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized.");try{return b.apply(null,c||[]),
!0}finally{delete f[a]}},yc:function(f,b){var d=[];c(f,d);for(var e=0,h=d.length;e<h;e++){var t=d[e].Lc,r=[t];b&&a.a.ra(r,b);a.M.xc(d[e].cd,r);t.nodeValue="";t.parentNode&&t.parentNode.removeChild(t)}},lc:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();a.b("memoization",a.M);a.b("memoization.memoize",a.M.wb);a.b("memoization.unmemoize",a.M.xc);a.b("memoization.parseMemoText",a.M.lc);a.b("memoization.unmemoizeDomNodeAndDescendants",a.M.yc);a.Y=function(){function c(){if(k)for(var c=
k,f=0,d;h<k;)if(d=b[h++]){if(h>c){if(5E3<=++f){h=k;a.a.$b(Error("'Too much recursion' after processing "+f+" task groups."));break}c=k}try{d()}catch(p){a.a.$b(p)}}}function f(){c();h=k=b.length=0}var b=[],k=0,e=1,h=0;return{scheduler:d.MutationObserver?function(a){var c=m.createElement("div");(new MutationObserver(a)).observe(c,{attributes:!0});return function(){c.classList.toggle("foo")}}(f):m&&"onreadystatechange"in m.createElement("script")?function(a){var c=m.createElement("script");c.onreadystatechange=
function(){c.onreadystatechange=null;m.documentElement.removeChild(c);c=null;a()};m.documentElement.appendChild(c)}:function(a){setTimeout(a,0)},Wa:function(c){k||a.Y.scheduler(f);b[k++]=c;return e++},cancel:function(a){a-=e-k;a>=h&&a<k&&(b[a]=null)},resetForTesting:function(){var a=k-h;h=k=b.length=0;return a},md:c}}();a.b("tasks",a.Y);a.b("tasks.schedule",a.Y.Wa);a.b("tasks.runEarly",a.Y.md);a.ya={throttle:function(c,f){c.throttleEvaluation=f;var b=null;return a.B({read:c,write:function(k){clearTimeout(b);
b=a.a.setTimeout(function(){c(k)},f)}})},rateLimit:function(a,f){var b,k,d;"number"==typeof f?b=f:(b=f.timeout,k=f.method);a.cb=!1;d="notifyWhenChangesStop"==k?K:C;a.Ta(function(a){return d(a,b)})},deferred:function(c,f){if(!0!==f)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");c.cb||(c.cb=!0,c.Ta(function(f){var b;return function(){a.Y.cancel(b);b=a.Y.Wa(f);c.notifySubscribers(e,"dirty")}}))},notify:function(a,f){a.equalityComparer=
"always"==f?null:E}};var Y={undefined:1,"boolean":1,number:1,string:1};a.b("extenders",a.ya);a.vc=function(c,f,b){this.ia=c;this.gb=f;this.Kc=b;this.R=!1;a.G(this,"dispose",this.k)};a.vc.prototype.k=function(){this.R=!0;this.Kc()};a.J=function(){a.a.Ya(this,H);H.rb(this)};var P="change",H={rb:function(a){a.K={};a.Nb=1},X:function(c,f,b){var k=this;b=b||P;var d=new a.vc(k,f?c.bind(f):c,function(){a.a.La(k.K[b],d);k.Ia&&k.Ia(b)});k.sa&&k.sa(b);k.K[b]||(k.K[b]=[]);k.K[b].push(d);return d},notifySubscribers:function(c,
f){f=f||P;f===P&&this.zc();if(this.Pa(f))try{a.l.Ub();for(var b=this.K[f].slice(0),k=0,d;d=b[k];++k)d.R||d.gb(c)}finally{a.l.end()}},Na:function(){return this.Nb},Uc:function(a){return this.Na()!==a},zc:function(){++this.Nb},Ta:function(c){var f=this,b=a.H(f),k,d,e;f.Ha||(f.Ha=f.notifySubscribers,f.notifySubscribers=X);var h=c(function(){f.Mb=!1;b&&e===f&&(e=f());k=!1;f.tb(d,e)&&f.Ha(d=e)});f.Lb=function(a){f.Mb=k=!0;e=a;h()};f.Kb=function(a){k||(d=a,f.Ha(a,"beforeChange"))}},Pa:function(a){return this.K[a]&&
this.K[a].length},Sc:function(c){if(c)return this.K[c]&&this.K[c].length||0;var f=0;a.a.D(this.K,function(a,c){"dirty"!==a&&(f+=c.length)});return f},tb:function(a,f){return!this.equalityComparer||!this.equalityComparer(a,f)},extend:function(c){var f=this;c&&a.a.D(c,function(c,b){var d=a.ya[c];"function"==typeof d&&(f=d(f,b)||f)});return f}};a.G(H,"subscribe",H.X);a.G(H,"extend",H.extend);a.G(H,"getSubscriptionsCount",H.Sc);a.a.ka&&a.a.Xa(H,Function.prototype);a.J.fn=H;a.hc=function(a){return null!=
a&&"function"==typeof a.X&&"function"==typeof a.notifySubscribers};a.b("subscribable",a.J);a.b("isSubscribable",a.hc);a.va=a.l=function(){function c(a){b.push(k);k=a}function f(){k=b.pop()}var b=[],k,d=0;return{Ub:c,end:f,oc:function(c){if(k){if(!a.hc(c))throw Error("Only subscribable things can act as dependencies");k.gb.call(k.Gc,c,c.Cc||(c.Cc=++d))}},w:function(a,b,g){try{return c(),a.apply(b,g||[])}finally{f()}},Aa:function(){if(k)return k.m.Aa()},Sa:function(){if(k)return k.Sa}}}();a.b("computedContext",
a.va);a.b("computedContext.getDependenciesCount",a.va.Aa);a.b("computedContext.isInitial",a.va.Sa);a.b("ignoreDependencies",a.qd=a.l.w);var T=a.a.Yb("_latestValue");a.N=function(c){function b(){if(0<arguments.length)return b.tb(b[T],arguments[0])&&(b.ga(),b[T]=arguments[0],b.fa()),this;a.l.oc(b);return b[T]}b[T]=c;a.a.ka||a.a.extend(b,a.J.fn);a.J.fn.rb(b);a.a.Ya(b,I);a.options.deferUpdates&&a.ya.deferred(b,!0);return b};var I={equalityComparer:E,t:function(){return this[T]},fa:function(){this.notifySubscribers(this[T])},
ga:function(){this.notifySubscribers(this[T],"beforeChange")}};a.a.ka&&a.a.Xa(I,a.J.fn);var W=a.N.gd="__ko_proto__";I[W]=a.N;a.Oa=function(c,b){return null===c||c===e||c[W]===e?!1:c[W]===b?!0:a.Oa(c[W],b)};a.H=function(c){return a.Oa(c,a.N)};a.Ba=function(c){return"function"==typeof c&&c[W]===a.N||"function"==typeof c&&c[W]===a.B&&c.Vc?!0:!1};a.b("observable",a.N);a.b("isObservable",a.H);a.b("isWriteableObservable",a.Ba);a.b("isWritableObservable",a.Ba);a.b("observable.fn",I);a.G(I,"peek",I.t);a.G(I,
"valueHasMutated",I.fa);a.G(I,"valueWillMutate",I.ga);a.la=function(c){c=c||[];if("object"!=typeof c||!("length"in c))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");c=a.N(c);a.a.Ya(c,a.la.fn);return c.extend({trackArrayChanges:!0})};a.la.fn={remove:function(c){for(var b=this.t(),g=[],k="function"!=typeof c||a.H(c)?function(a){return a===c}:c,d=0;d<b.length;d++){var e=b[d];k(e)&&(0===g.length&&this.ga(),g.push(e),b.splice(d,1),d--)}g.length&&
this.fa();return g},removeAll:function(c){if(c===e){var b=this.t(),g=b.slice(0);this.ga();b.splice(0,b.length);this.fa();return g}return c?this.remove(function(b){return 0<=a.a.o(c,b)}):[]},destroy:function(c){var b=this.t(),g="function"!=typeof c||a.H(c)?function(a){return a===c}:c;this.ga();for(var k=b.length-1;0<=k;k--)g(b[k])&&(b[k]._destroy=!0);this.fa()},destroyAll:function(c){return c===e?this.destroy(function(){return!0}):c?this.destroy(function(b){return 0<=a.a.o(c,b)}):[]},indexOf:function(c){var b=
this();return a.a.o(b,c)},replace:function(a,b){var g=this.indexOf(a);0<=g&&(this.ga(),this.t()[g]=b,this.fa())}};a.a.ka&&a.a.Xa(a.la.fn,a.N.fn);a.a.q("pop push reverse shift sort splice unshift".split(" "),function(c){a.la.fn[c]=function(){var a=this.t();this.ga();this.Vb(a,c,arguments);var b=a[c].apply(a,arguments);this.fa();return b===a?this:b}});a.a.q(["slice"],function(c){a.la.fn[c]=function(){var a=this();return a[c].apply(a,arguments)}});a.b("observableArray",a.la);a.ya.trackArrayChanges=function(c,
b){function g(){if(!k){k=!0;var b=c.notifySubscribers;c.notifySubscribers=function(a,c){c&&c!==P||++h;return b.apply(this,arguments)};var f=[].concat(c.t()||[]);d=null;e=c.X(function(b){b=[].concat(b||[]);if(c.Pa("arrayChange")){var g;if(!d||1<h)d=a.a.ib(f,b,c.hb);g=d}f=b;d=null;h=0;g&&g.length&&c.notifySubscribers(g,"arrayChange")})}}c.hb={};b&&"object"==typeof b&&a.a.extend(c.hb,b);c.hb.sparse=!0;if(!c.Vb){var k=!1,d=null,e,h=0,t=c.sa,r=c.Ia;c.sa=function(a){t&&t.call(c,a);"arrayChange"===a&&g()};
c.Ia=function(a){r&&r.call(c,a);"arrayChange"!==a||c.Pa("arrayChange")||(e.k(),k=!1)};c.Vb=function(c,b,f){function g(a,c,b){return e[e.length]={status:a,value:c,index:b}}if(k&&!h){var e=[],r=c.length,t=f.length,G=0;switch(b){case "push":G=r;case "unshift":for(b=0;b<t;b++)g("added",f[b],G+b);break;case "pop":G=r-1;case "shift":r&&g("deleted",c[G],G);break;case "splice":b=Math.min(Math.max(0,0>f[0]?r+f[0]:f[0]),r);for(var r=1===t?r:Math.min(b+(f[1]||0),r),t=b+t-2,G=Math.max(r,t),l=[],n=[],q=2;b<G;++b,
++q)b<r&&n.push(g("deleted",c[b],b)),b<t&&l.push(g("added",f[q],b));a.a.dc(n,l);break;default:return}d=e}}}};var v=a.a.Yb("_state");a.m=a.B=function(c,b,g){function k(){if(0<arguments.length){if("function"===typeof d)d.apply(h.pb,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}a.l.oc(k);(h.S||h.s&&k.Qa())&&k.aa();return h.T}"object"===typeof c?g=c:(g=g||{},c&&(g.read=
c));if("function"!=typeof g.read)throw Error("Pass a function that returns the value of the ko.computed");var d=g.write,h={T:e,S:!0,Ra:!1,Fb:!1,R:!1,Va:!1,s:!1,jd:g.read,pb:b||g.owner,i:g.disposeWhenNodeIsRemoved||g.i||null,wa:g.disposeWhen||g.wa,mb:null,r:{},L:0,bc:null};k[v]=h;k.Vc="function"===typeof d;a.a.ka||a.a.extend(k,a.J.fn);a.J.fn.rb(k);a.a.Ya(k,A);g.pure?(h.Va=!0,h.s=!0,a.a.extend(k,q)):g.deferEvaluation&&a.a.extend(k,w);a.options.deferUpdates&&a.ya.deferred(k,!0);h.i&&(h.Fb=!0,h.i.nodeType||
(h.i=null));h.s||g.deferEvaluation||k.aa();h.i&&k.ba()&&a.a.F.oa(h.i,h.mb=function(){k.k()});return k};var A={equalityComparer:E,Aa:function(){return this[v].L},Pb:function(a,b,g){if(this[v].Va&&b===this)throw Error("A 'pure' computed must not be called recursively");this[v].r[a]=g;g.Ga=this[v].L++;g.na=b.Na()},Qa:function(){var a,b,g=this[v].r;for(a in g)if(g.hasOwnProperty(a)&&(b=g[a],b.ia.Uc(b.na)))return!0},bd:function(){this.Fa&&!this[v].Ra&&this.Fa()},ba:function(){return this[v].S||0<this[v].L},
ld:function(){this.Mb||this.ac()},uc:function(a){if(a.cb&&!this[v].i){var b=a.X(this.bd,this,"dirty"),g=a.X(this.ld,this);return{ia:a,k:function(){b.k();g.k()}}}return a.X(this.ac,this)},ac:function(){var c=this,b=c.throttleEvaluation;b&&0<=b?(clearTimeout(this[v].bc),this[v].bc=a.a.setTimeout(function(){c.aa(!0)},b)):c.Fa?c.Fa():c.aa(!0)},aa:function(c){var b=this[v],g=b.wa;if(!b.Ra&&!b.R){if(b.i&&!a.a.nb(b.i)||g&&g()){if(!b.Fb){this.k();return}}else b.Fb=!1;b.Ra=!0;try{this.Qc(c)}finally{b.Ra=!1}b.L||
this.k()}},Qc:function(c){var b=this[v],g=b.Va?e:!b.L,k={Hc:this,Ma:b.r,lb:b.L};a.l.Ub({Gc:k,gb:R,m:this,Sa:g});b.r={};b.L=0;k=this.Pc(b,k);this.tb(b.T,k)&&(b.s||this.notifySubscribers(b.T,"beforeChange"),b.T=k,b.s?this.zc():c&&this.notifySubscribers(b.T));g&&this.notifySubscribers(b.T,"awake")},Pc:function(c,b){try{var g=c.jd;return c.pb?g.call(c.pb):g()}finally{a.l.end(),b.lb&&!c.s&&a.a.D(b.Ma,Q),c.S=!1}},t:function(){var a=this[v];(a.S&&!a.L||a.s&&this.Qa())&&this.aa();return a.T},Ta:function(c){a.J.fn.Ta.call(this,
c);this.Fa=function(){this.Kb(this[v].T);this[v].S=!0;this.Lb(this)}},k:function(){var c=this[v];!c.s&&c.r&&a.a.D(c.r,function(a,c){c.k&&c.k()});c.i&&c.mb&&a.a.F.pc(c.i,c.mb);c.r=null;c.L=0;c.R=!0;c.S=!1;c.s=!1;c.i=null}},q={sa:function(c){var b=this,g=b[v];if(!g.R&&g.s&&"change"==c){g.s=!1;if(g.S||b.Qa())g.r=null,g.L=0,g.S=!0,b.aa();else{var k=[];a.a.D(g.r,function(a,c){k[c.Ga]=a});a.a.q(k,function(a,c){var k=g.r[a],d=b.uc(k.ia);d.Ga=c;d.na=k.na;g.r[a]=d})}g.R||b.notifySubscribers(g.T,"awake")}},
Ia:function(c){var b=this[v];b.R||"change"!=c||this.Pa("change")||(a.a.D(b.r,function(a,c){c.k&&(b.r[a]={ia:c.ia,Ga:c.Ga,na:c.na},c.k())}),b.s=!0,this.notifySubscribers(e,"asleep"))},Na:function(){var c=this[v];c.s&&(c.S||this.Qa())&&this.aa();return a.J.fn.Na.call(this)}},w={sa:function(a){"change"!=a&&"beforeChange"!=a||this.t()}};a.a.ka&&a.a.Xa(A,a.J.fn);var n=a.N.gd;a.m[n]=a.N;A[n]=a.m;a.Xc=function(c){return a.Oa(c,a.m)};a.Yc=function(c){return a.Oa(c,a.m)&&c[v]&&c[v].Va};a.b("computed",a.m);
a.b("dependentObservable",a.m);a.b("isComputed",a.Xc);a.b("isPureComputed",a.Yc);a.b("computed.fn",A);a.G(A,"peek",A.t);a.G(A,"dispose",A.k);a.G(A,"isActive",A.ba);a.G(A,"getDependenciesCount",A.Aa);a.nc=function(c,b){if("function"===typeof c)return a.m(c,b,{pure:!0});c=a.a.extend({},c);c.pure=!0;return a.m(c,b)};a.b("pureComputed",a.nc);(function(){function c(a,d,h){h=h||new g;a=d(a);if("object"!=typeof a||null===a||a===e||a instanceof RegExp||a instanceof Date||a instanceof String||a instanceof
Number||a instanceof Boolean)return a;var l=a instanceof Array?[]:{};h.save(a,l);b(a,function(b){var f=d(a[b]);switch(typeof f){case "boolean":case "number":case "string":case "function":l[b]=f;break;case "object":case "undefined":var g=h.get(f);l[b]=g!==e?g:c(f,d,h)}});return l}function b(a,c){if(a instanceof Array){for(var f=0;f<a.length;f++)c(f);"function"==typeof a.toJSON&&c("toJSON")}else for(f in a)c(f)}function g(){this.keys=[];this.Ib=[]}a.wc=function(b){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");
return c(b,function(c){for(var b=0;a.H(c)&&10>b;b++)c=c();return c})};a.toJSON=function(c,b,f){c=a.wc(c);return a.a.Eb(c,b,f)};g.prototype={save:function(c,b){var f=a.a.o(this.keys,c);0<=f?this.Ib[f]=b:(this.keys.push(c),this.Ib.push(b))},get:function(c){c=a.a.o(this.keys,c);return 0<=c?this.Ib[c]:e}}})();a.b("toJS",a.wc);a.b("toJSON",a.toJSON);(function(){a.j={u:function(c){switch(a.a.A(c)){case "option":return!0===c.__ko__hasDomDataOptionValue__?a.a.e.get(c,a.d.options.xb):7>=a.a.C?c.getAttributeNode("value")&&
c.getAttributeNode("value").specified?c.value:c.text:c.value;case "select":return 0<=c.selectedIndex?a.j.u(c.options[c.selectedIndex]):e;default:return c.value}},ha:function(c,b,g){switch(a.a.A(c)){case "option":switch(typeof b){case "string":a.a.e.set(c,a.d.options.xb,e);"__ko__hasDomDataOptionValue__"in c&&delete c.__ko__hasDomDataOptionValue__;c.value=b;break;default:a.a.e.set(c,a.d.options.xb,b),c.__ko__hasDomDataOptionValue__=!0,c.value="number"===typeof b?b:""}break;case "select":if(""===b||
null===b)b=e;for(var d=-1,h=0,l=c.options.length,x;h<l;++h)if(x=a.j.u(c.options[h]),x==b||""==x&&b===e){d=h;break}if(g||0<=d||b===e&&1<c.size)c.selectedIndex=d;break;default:if(null===b||b===e)b="";c.value=b}}}})();a.b("selectExtensions",a.j);a.b("selectExtensions.readValue",a.j.u);a.b("selectExtensions.writeValue",a.j.ha);a.h=function(){function c(c){c=a.a.$a(c);123===c.charCodeAt(0)&&(c=c.slice(1,-1));var b=[],f=c.match(d),g,l=[],x=0;if(f){f.push(",");for(var V=0,M;M=f[V];++V){var n=M.charCodeAt(0);
if(44===n){if(0>=x){b.push(g&&l.length?{key:g,value:l.join("")}:{unknown:g||l.join("")});g=x=0;l=[];continue}}else if(58===n){if(!x&&!g&&1===l.length){g=l.pop();continue}}else 47===n&&V&&1<M.length?(n=f[V-1].match(e))&&!h[n[0]]&&(c=c.substr(c.indexOf(M)+1),f=c.match(d),f.push(","),V=-1,M="/"):40===n||123===n||91===n?++x:41===n||125===n||93===n?--x:g||l.length||34!==n&&39!==n||(M=M.slice(1,-1));l.push(M)}}return b}var b=["true","false","null","undefined"],g=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,
d=/"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\/(?:[^/\\]|\\.)*\/w*|[^\s:,/][^,"'{}()/:[\]]*[^\s,"'{}()/:[\]]|[^\s]/g,e=/[\])"'A-Za-z0-9_$]+$/,h={"in":1,"return":1,"typeof":1},l={};return{ta:[],ea:l,yb:c,Ua:function(d,k){function p(c,d){var k;if(!n){var r=a.getBindingHandler(c);if(r&&r.preprocess&&!(d=r.preprocess(d,c,p)))return;if(r=l[c])k=d,0<=a.a.o(b,k)?k=!1:(r=k.match(g),k=null===r?!1:r[1]?"Object("+r[1]+")"+r[2]:k),r=k;r&&h.push("'"+c+"':function(_z){"+k+"=_z}")}L&&(d="function(){return "+d+" }");e.push("'"+
c+"':"+d)}k=k||{};var e=[],h=[],L=k.valueAccessors,n=k.bindingParams,M="string"===typeof d?c(d):d;a.a.q(M,function(a){p(a.key||a.unknown,a.value)});h.length&&p("_ko_property_writers","{"+h.join(",")+" }");return e.join(",")},ad:function(a,c){for(var b=0;b<a.length;b++)if(a[b].key==c)return!0;return!1},Ea:function(c,b,f,g,d){if(c&&a.H(c))!a.Ba(c)||d&&c.t()===g||c(g);else if((c=b.get("_ko_property_writers"))&&c[f])c[f](g)}}}();a.b("expressionRewriting",a.h);a.b("expressionRewriting.bindingRewriteValidators",
a.h.ta);a.b("expressionRewriting.parseObjectLiteral",a.h.yb);a.b("expressionRewriting.preProcessBindings",a.h.Ua);a.b("expressionRewriting._twoWayBindings",a.h.ea);a.b("jsonExpressionRewriting",a.h);a.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",a.h.Ua);(function(){function c(a){return 8==a.nodeType&&h.test(e?a.text:a.nodeValue)}function b(a){return 8==a.nodeType&&l.test(e?a.text:a.nodeValue)}function g(a,g){for(var d=a,k=1,e=[];d=d.nextSibling;){if(b(d)&&(k--,0===k))return e;e.push(d);
c(d)&&k++}if(!g)throw Error("Cannot find closing comment tag to match: "+a.nodeValue);return null}function d(a,c){var b=g(a,c);return b?0<b.length?b[b.length-1].nextSibling:a.nextSibling:null}var e=m&&"\x3c!--test--\x3e"===m.createComment("test").text,h=e?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,l=e?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,t={ul:!0,ol:!0};a.f={Z:{},childNodes:function(a){return c(a)?g(a):a.childNodes},xa:function(b){if(c(b)){b=a.f.childNodes(b);for(var f=
0,g=b.length;f<g;f++)a.removeNode(b[f])}else a.a.ob(b)},da:function(b,f){if(c(b)){a.f.xa(b);for(var g=b.nextSibling,d=0,k=f.length;d<k;d++)g.parentNode.insertBefore(f[d],g)}else a.a.da(b,f)},mc:function(a,b){c(a)?a.parentNode.insertBefore(b,a.nextSibling):a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b)},gc:function(b,f,g){g?c(b)?b.parentNode.insertBefore(f,g.nextSibling):g.nextSibling?b.insertBefore(f,g.nextSibling):b.appendChild(f):a.f.mc(b,f)},firstChild:function(a){return c(a)?!a.nextSibling||
b(a.nextSibling)?null:a.nextSibling:a.firstChild},nextSibling:function(a){c(a)&&(a=d(a));return a.nextSibling&&b(a.nextSibling)?null:a.nextSibling},Tc:c,pd:function(a){return(a=(e?a.text:a.nodeValue).match(h))?a[1]:null},kc:function(g){if(t[a.a.A(g)]){var e=g.firstChild;if(e){do if(1===e.nodeType){var h;h=e.firstChild;var l=null;if(h){do if(l)l.push(h);else if(c(h)){var n=d(h,!0);n?h=n:l=[h]}else b(h)&&(l=[h]);while(h=h.nextSibling)}if(h=l)for(l=e.nextSibling,n=0;n<h.length;n++)l?g.insertBefore(h[n],
l):g.appendChild(h[n])}while(e=e.nextSibling)}}}}})();a.b("virtualElements",a.f);a.b("virtualElements.allowedBindings",a.f.Z);a.b("virtualElements.emptyNode",a.f.xa);a.b("virtualElements.insertAfter",a.f.gc);a.b("virtualElements.prepend",a.f.mc);a.b("virtualElements.setDomNodeChildren",a.f.da);(function(){a.Q=function(){this.Fc={}};a.a.extend(a.Q.prototype,{nodeHasBindings:function(c){switch(c.nodeType){case 1:return null!=c.getAttribute("data-bind")||a.g.getComponentNameForNode(c);case 8:return a.f.Tc(c);
default:return!1}},getBindings:function(c,b){var g=this.getBindingsString(c,b),g=g?this.parseBindingsString(g,b,c):null;return a.g.Ob(g,c,b,!1)},getBindingAccessors:function(c,b){var g=this.getBindingsString(c,b),g=g?this.parseBindingsString(g,b,c,{valueAccessors:!0}):null;return a.g.Ob(g,c,b,!0)},getBindingsString:function(c){switch(c.nodeType){case 1:return c.getAttribute("data-bind");case 8:return a.f.pd(c);default:return null}},parseBindingsString:function(c,b,g,d){try{var e=this.Fc,h=c+(d&&d.valueAccessors||
""),l;if(!(l=e[h])){var t,r="with($context){with($data||{}){return{"+a.h.Ua(c,d)+"}}}";t=new Function("$context","$element",r);l=e[h]=t}return l(b,g)}catch(p){throw p.message="Unable to parse bindings.\nBindings value: "+c+"\nMessage: "+p.message,p;}}});a.Q.instance=new a.Q})();a.b("bindingProvider",a.Q);(function(){function c(a){return function(){return a}}function f(a){return a()}function g(c){return a.a.Ca(a.l.w(c),function(a,b){return function(){return c()[b]}})}function k(b,f,d){return"function"===
typeof b?g(b.bind(null,f,d)):a.a.Ca(b,c)}function h(a,b){return g(this.getBindings.bind(this,a,b))}function l(b,c,f){var g,d=a.f.firstChild(c),k=a.Q.instance,e=k.preprocessNode;if(e){for(;g=d;)d=a.f.nextSibling(g),e.call(k,g);d=a.f.firstChild(c)}for(;g=d;)d=a.f.nextSibling(g),n(b,g,f)}function n(b,c,f){var g=!0,d=1===c.nodeType;d&&a.f.kc(c);if(d&&f||a.Q.instance.nodeHasBindings(c))g=r(c,null,b,f).shouldBindDescendants;g&&!B[a.a.A(c)]&&l(b,c,!d)}function t(c){var b=[],f={},g=[];a.a.D(c,function U(d){if(!f[d]){var k=
a.getBindingHandler(d);k&&(k.after&&(g.push(d),a.a.q(k.after,function(b){if(c[b]){if(-1!==a.a.o(g,b))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+g.join(", "));U(b)}}),g.length--),b.push({key:d,fc:k}));f[d]=!0}});return b}function r(b,c,g,d){var k=a.a.e.get(b,q);if(!c){if(k)throw Error("You cannot apply bindings multiple times to the same element.");a.a.e.set(b,q,!0)}!k&&d&&a.tc(b,g);var p;if(c&&"function"!==typeof c)p=c;else{var r=a.Q.instance,l=r.getBindingAccessors||
h,n=a.B(function(){(p=c?c(g,b):l.call(r,b,g))&&g.P&&g.P();return p},null,{i:b});p&&n.ba()||(n=null)}var x;if(p){var B=n?function(a){return function(){return f(n()[a])}}:function(a){return p[a]},G=function(){return a.a.Ca(n?n():p,f)};G.get=function(a){return p[a]&&f(B(a))};G.has=function(a){return a in p};d=t(p);a.a.q(d,function(c){var f=c.fc.init,d=c.fc.update,k=c.key;if(8===b.nodeType&&!a.f.Z[k])throw Error("The binding '"+k+"' cannot be used with virtual elements");try{"function"==typeof f&&a.l.w(function(){var a=
f(b,B(k),G,g.$data,g);if(a&&a.controlsDescendantBindings){if(x!==e)throw Error("Multiple bindings ("+x+" and "+k+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");x=k}}),"function"==typeof d&&a.B(function(){d(b,B(k),G,g.$data,g)},null,{i:b})}catch(h){throw h.message='Unable to process binding "'+k+": "+p[k]+'"\nMessage: '+h.message,h;}})}return{shouldBindDescendants:x===e}}function p(b){return b&&b instanceof a.U?b:new a.U(b)}
a.d={};var B={script:!0,textarea:!0,template:!0};a.getBindingHandler=function(b){return a.d[b]};a.U=function(b,c,f,g){var d=this,k="function"==typeof b&&!a.H(b),h,p=a.B(function(){var e=k?b():b,h=a.a.c(e);c?(c.P&&c.P(),a.a.extend(d,c),p&&(d.P=p)):(d.$parents=[],d.$root=h,d.ko=a);d.$rawData=e;d.$data=h;f&&(d[f]=h);g&&g(d,c,h);return d.$data},null,{wa:function(){return h&&!a.a.Qb(h)},i:!0});p.ba()&&(d.P=p,p.equalityComparer=null,h=[],p.Ac=function(b){h.push(b);a.a.F.oa(b,function(b){a.a.La(h,b);h.length||
(p.k(),d.P=p=e)})})};a.U.prototype.createChildContext=function(b,c,f){return new a.U(b,this,c,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);f&&f(a)})};a.U.prototype.extend=function(b){return new a.U(this.P||this.$data,this,null,function(c,f){c.$rawData=f.$rawData;a.a.extend(c,"function"==typeof b?b():b)})};var q=a.a.e.I(),m=a.a.e.I();a.tc=function(b,c){if(2==arguments.length)a.a.e.set(b,m,c),c.P&&c.P.Ac(b);else return a.a.e.get(b,
m)};a.Ja=function(b,c,f){1===b.nodeType&&a.f.kc(b);return r(b,c,p(f),!0)};a.Dc=function(b,c,f){f=p(f);return a.Ja(b,k(c,f,b),f)};a.eb=function(a,b){1!==b.nodeType&&8!==b.nodeType||l(p(a),b,!0)};a.Rb=function(a,c){!b&&d.jQuery&&(b=d.jQuery);if(c&&1!==c.nodeType&&8!==c.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");c=c||d.document.body;n(p(a),c,!0)};a.kb=function(b){switch(b.nodeType){case 1:case 8:var c=a.tc(b);if(c)return c;
if(b.parentNode)return a.kb(b.parentNode)}return e};a.Jc=function(b){return(b=a.kb(b))?b.$data:e};a.b("bindingHandlers",a.d);a.b("applyBindings",a.Rb);a.b("applyBindingsToDescendants",a.eb);a.b("applyBindingAccessorsToNode",a.Ja);a.b("applyBindingsToNode",a.Dc);a.b("contextFor",a.kb);a.b("dataFor",a.Jc)})();(function(b){function f(f,d){var k=e.hasOwnProperty(f)?e[f]:b,p;k?k.X(d):(k=e[f]=new a.J,k.X(d),g(f,function(b,c){var g=!(!c||!c.synchronous);h[f]={definition:b,Zc:g};delete e[f];p||g?k.notifySubscribers(b):
a.Y.Wa(function(){k.notifySubscribers(b)})}),p=!0)}function g(a,b){d("getConfig",[a],function(c){c?d("loadComponent",[a,c],function(a){b(a,c)}):b(null,null)})}function d(f,g,e,h){h||(h=a.g.loaders.slice(0));var l=h.shift();if(l){var n=l[f];if(n){var L=!1;if(n.apply(l,g.concat(function(a){L?e(null):null!==a?e(a):d(f,g,e,h)}))!==b&&(L=!0,!l.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");}else d(f,g,e,h)}else e(null)}
var e={},h={};a.g={get:function(g,d){var k=h.hasOwnProperty(g)?h[g]:b;k?k.Zc?a.l.w(function(){d(k.definition)}):a.Y.Wa(function(){d(k.definition)}):f(g,d)},Xb:function(a){delete h[a]},Jb:d};a.g.loaders=[];a.b("components",a.g);a.b("components.get",a.g.get);a.b("components.clearCachedDefinition",a.g.Xb)})();(function(){function b(c,f,g,d){function k(){0===--l&&d(h)}var h={},l=2,q=g.template;g=g.viewModel;q?e(f,q,function(b){a.g.Jb("loadTemplate",[c,b],function(a){h.template=a;k()})}):k();g?e(f,g,function(b){a.g.Jb("loadViewModel",
[c,b],function(a){h[n]=a;k()})}):k()}function f(a,b,c){if("function"===typeof b)c(function(a){return new b(a)});else if("function"===typeof b[n])c(b[n]);else if("instance"in b){var g=b.instance;c(function(){return g})}else"viewModel"in b?f(a,b.viewModel,c):a("Unknown viewModel value: "+b)}function g(b){switch(a.a.A(b)){case "script":return a.a.ma(b.text);case "textarea":return a.a.ma(b.value);case "template":if(k(b.content))return a.a.ua(b.content.childNodes)}return a.a.ua(b.childNodes)}function k(a){return d.DocumentFragment?
a instanceof DocumentFragment:a&&11===a.nodeType}function e(a,b,c){"string"===typeof b.require?u||d.require?(u||d.require)([b.require],c):a("Uses require, but no AMD loader is present"):c(b)}function h(a){return function(b){throw Error("Component '"+a+"': "+b);}}var l={};a.g.register=function(b,c){if(!c)throw Error("Invalid configuration for "+b);if(a.g.ub(b))throw Error("Component "+b+" is already registered");l[b]=c};a.g.ub=function(a){return l.hasOwnProperty(a)};a.g.od=function(b){delete l[b];
a.g.Xb(b)};a.g.Zb={getConfig:function(a,b){b(l.hasOwnProperty(a)?l[a]:null)},loadComponent:function(a,f,g){var d=h(a);e(d,f,function(f){b(a,d,f,g)})},loadTemplate:function(b,c,f){b=h(b);if("string"===typeof c)f(a.a.ma(c));else if(c instanceof Array)f(c);else if(k(c))f(a.a.V(c.childNodes));else if(c.element)if(c=c.element,d.HTMLElement?c instanceof HTMLElement:c&&c.tagName&&1===c.nodeType)f(g(c));else if("string"===typeof c){var e=m.getElementById(c);e?f(g(e)):b("Cannot find element with ID "+c)}else b("Unknown element type: "+
c);else b("Unknown template value: "+c)},loadViewModel:function(a,b,c){f(h(a),b,c)}};var n="createViewModel";a.b("components.register",a.g.register);a.b("components.isRegistered",a.g.ub);a.b("components.unregister",a.g.od);a.b("components.defaultLoader",a.g.Zb);a.g.loaders.push(a.g.Zb);a.g.Bc=l})();(function(){function b(c,d){var e=c.getAttribute("params");if(e){var e=f.parseBindingsString(e,d,c,{valueAccessors:!0,bindingParams:!0}),e=a.a.Ca(e,function(b){return a.m(b,null,{i:c})}),h=a.a.Ca(e,function(b){var f=
b.t();return b.ba()?a.m({read:function(){return a.a.c(b())},write:a.Ba(f)&&function(a){b()(a)},i:c}):f});h.hasOwnProperty("$raw")||(h.$raw=e);return h}return{$raw:{}}}a.g.getComponentNameForNode=function(b){var c=a.a.A(b);if(a.g.ub(c)&&(-1!=c.indexOf("-")||"[object HTMLUnknownElement]"==""+b||8>=a.a.C&&b.tagName===c))return c};a.g.Ob=function(f,d,e,h){if(1===d.nodeType){var l=a.g.getComponentNameForNode(d);if(l){f=f||{};if(f.component)throw Error('Cannot use the "component" binding on a custom element matching a component');
var n={name:l,params:b(d,e)};f.component=h?function(){return n}:n}}return f};var f=new a.Q;9>a.a.C&&(a.g.register=function(a){return function(b){m.createElement(b);return a.apply(this,arguments)}}(a.g.register),m.createDocumentFragment=function(b){return function(){var c=b(),f=a.g.Bc,d;for(d in f)f.hasOwnProperty(d)&&c.createElement(d);return c}}(m.createDocumentFragment))})();(function(b){function f(b,c,f){c=c.template;if(!c)throw Error("Component '"+b+"' has no template");b=a.a.ua(c);a.f.da(f,b)}
function g(a,b,c,f){var g=a.createViewModel;return g?g.call(a,f,{element:b,templateNodes:c}):f}var d=0;a.d.component={init:function(e,h,l,n,r){function p(){var a=q&&q.dispose;"function"===typeof a&&a.call(q);m=q=null}var q,m,w=a.a.V(a.f.childNodes(e));a.a.F.oa(e,p);a.m(function(){var l=a.a.c(h()),n,t;"string"===typeof l?n=l:(n=a.a.c(l.name),t=a.a.c(l.params));if(!n)throw Error("No component name specified");var x=m=++d;a.g.get(n,function(d){if(m===x){p();if(!d)throw Error("Unknown component '"+n+
"'");f(n,d,e);var k=g(d,e,w,t);d=r.createChildContext(k,b,function(a){a.$component=k;a.$componentTemplateNodes=w});q=k;a.eb(d,e)}})},null,{i:e});return{controlsDescendantBindings:!0}}};a.f.Z.component=!0})();var y={"class":"className","for":"htmlFor"};a.d.attr={update:function(b,f){var g=a.a.c(f())||{};a.a.D(g,function(f,g){g=a.a.c(g);var d=!1===g||null===g||g===e;d&&b.removeAttribute(f);8>=a.a.C&&f in y?(f=y[f],d?b.removeAttribute(f):b[f]=g):d||b.setAttribute(f,g.toString());"name"===f&&a.a.rc(b,
d?"":g.toString())})}};(function(){a.d.checked={after:["value","attr"],init:function(b,f,g){function d(){var e=b.checked,k=w?l():e;if(!a.va.Sa()&&(!t||e)){var h=a.l.w(f);if(p){var n=q?h.t():h;m!==k?(e&&(a.a.pa(n,k,!0),a.a.pa(n,m,!1)),m=k):a.a.pa(n,k,e);q&&a.Ba(h)&&h(n)}else a.h.Ea(h,g,"checked",k,!0)}}function h(){var g=a.a.c(f());b.checked=p?0<=a.a.o(g,l()):n?g:l()===g}var l=a.nc(function(){return g.has("checkedValue")?a.a.c(g.get("checkedValue")):g.has("value")?a.a.c(g.get("value")):b.value}),n=
"checkbox"==b.type,t="radio"==b.type;if(n||t){var r=f(),p=n&&a.a.c(r)instanceof Array,q=!(p&&r.push&&r.splice),m=p?l():e,w=t||p;t&&!b.name&&a.d.uniqueName.init(b,function(){return!0});a.m(d,null,{i:b});a.a.p(b,"click",d);a.m(h,null,{i:b});r=e}}};a.h.ea.checked=!0;a.d.checkedValue={update:function(b,f){b.value=a.a.c(f())}}})();a.d.css={update:function(b,f){var g=a.a.c(f());null!==g&&"object"==typeof g?a.a.D(g,function(f,g){g=a.a.c(g);a.a.bb(b,f,g)}):(g=a.a.$a(String(g||"")),a.a.bb(b,b.__ko__cssValue,
!1),b.__ko__cssValue=g,a.a.bb(b,g,!0))}};a.d.enable={update:function(b,f){var g=a.a.c(f());g&&b.disabled?b.removeAttribute("disabled"):g||b.disabled||(b.disabled=!0)}};a.d.disable={update:function(b,f){a.d.enable.update(b,function(){return!a.a.c(f())})}};a.d.event={init:function(b,f,g,d,e){var h=f()||{};a.a.D(h,function(h){"string"==typeof h&&a.a.p(b,h,function(b){var c,p=f()[h];if(p){try{var l=a.a.V(arguments);d=e.$data;l.unshift(d);c=p.apply(d,l)}finally{!0!==c&&(b.preventDefault?b.preventDefault():
b.returnValue=!1)}!1===g.get(h+"Bubble")&&(b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation())}})})}};a.d.foreach={ic:function(b){return function(){var f=b(),g=a.a.zb(f);if(!g||"number"==typeof g.length)return{foreach:f,templateEngine:a.W.sb};a.a.c(f);return{foreach:g.data,as:g.as,includeDestroyed:g.includeDestroyed,afterAdd:g.afterAdd,beforeRemove:g.beforeRemove,afterRender:g.afterRender,beforeMove:g.beforeMove,afterMove:g.afterMove,templateEngine:a.W.sb}}},init:function(b,f){return a.d.template.init(b,
a.d.foreach.ic(f))},update:function(b,f,g,d,e){return a.d.template.update(b,a.d.foreach.ic(f),g,d,e)}};a.h.ta.foreach=!1;a.f.Z.foreach=!0;a.d.hasfocus={init:function(b,f,g){function d(e){b.__ko_hasfocusUpdating=!0;var k=b.ownerDocument;if("activeElement"in k){var h;try{h=k.activeElement}catch(p){h=k.body}e=h===b}k=f();a.h.Ea(k,g,"hasfocus",e,!0);b.__ko_hasfocusLastValue=e;b.__ko_hasfocusUpdating=!1}var e=d.bind(null,!0),h=d.bind(null,!1);a.a.p(b,"focus",e);a.a.p(b,"focusin",e);a.a.p(b,"blur",h);a.a.p(b,
"focusout",h)},update:function(b,f){var g=!!a.a.c(f());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===g||(g?b.focus():b.blur(),!g&&b.__ko_hasfocusLastValue&&b.ownerDocument.body.focus(),a.l.w(a.a.Da,null,[b,g?"focusin":"focusout"]))}};a.h.ea.hasfocus=!0;a.d.hasFocus=a.d.hasfocus;a.h.ea.hasFocus=!0;a.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,f){a.a.Cb(b,f())}};Z("if");Z("ifnot",!1,!0);Z("with",!0,!1,function(a,b){return a.createChildContext(b)});var J={};
a.d.options={init:function(b){if("select"!==a.a.A(b))throw Error("options binding applies only to SELECT elements");for(;0<b.length;)b.remove(0);return{controlsDescendantBindings:!0}},update:function(b,f,g){function d(){return a.a.Ka(b.options,function(a){return a.selected})}function h(a,b,c){var f=typeof b;return"function"==f?b(a):"string"==f?a[b]:c}function l(f,d){if(y&&p)a.j.ha(b,a.a.c(g.get("value")),!0);else if(F.length){var e=0<=a.a.o(F,a.j.u(d[0]));a.a.sc(d[0],e);y&&!e&&a.l.w(a.a.Da,null,[b,
"change"])}}var n=b.multiple,t=0!=b.length&&n?b.scrollTop:null,q=a.a.c(f()),p=g.get("valueAllowUnset")&&g.has("value"),m=g.get("optionsIncludeDestroyed");f={};var w,F=[];p||(n?F=a.a.fb(d(),a.j.u):0<=b.selectedIndex&&F.push(a.j.u(b.options[b.selectedIndex])));q&&("undefined"==typeof q.length&&(q=[q]),w=a.a.Ka(q,function(b){return m||b===e||null===b||!a.a.c(b._destroy)}),g.has("optionsCaption")&&(q=a.a.c(g.get("optionsCaption")),null!==q&&q!==e&&w.unshift(J)));var y=!1;f.beforeRemove=function(a){b.removeChild(a)};
q=l;g.has("optionsAfterRender")&&"function"==typeof g.get("optionsAfterRender")&&(q=function(b,c){l(0,c);a.l.w(g.get("optionsAfterRender"),null,[c[0],b!==J?b:e])});a.a.Bb(b,w,function(f,d,k){k.length&&(F=!p&&k[0].selected?[a.j.u(k[0])]:[],y=!0);d=b.ownerDocument.createElement("option");f===J?(a.a.Za(d,g.get("optionsCaption")),a.j.ha(d,e)):(k=h(f,g.get("optionsValue"),f),a.j.ha(d,a.a.c(k)),f=h(f,g.get("optionsText"),k),a.a.Za(d,f));return[d]},f,q);a.l.w(function(){p?a.j.ha(b,a.a.c(g.get("value")),
!0):(n?F.length&&d().length<F.length:F.length&&0<=b.selectedIndex?a.j.u(b.options[b.selectedIndex])!==F[0]:F.length||0<=b.selectedIndex)&&a.a.Da(b,"change")});a.a.Nc(b);t&&20<Math.abs(t-b.scrollTop)&&(b.scrollTop=t)}};a.d.options.xb=a.a.e.I();a.d.selectedOptions={after:["options","foreach"],init:function(b,f,d){a.a.p(b,"change",function(){var e=f(),h=[];a.a.q(b.getElementsByTagName("option"),function(b){b.selected&&h.push(a.j.u(b))});a.h.Ea(e,d,"selectedOptions",h)})},update:function(b,f){if("select"!=
a.a.A(b))throw Error("values binding applies only to SELECT elements");var d=a.a.c(f()),e=b.scrollTop;d&&"number"==typeof d.length&&a.a.q(b.getElementsByTagName("option"),function(b){var c=0<=a.a.o(d,a.j.u(b));b.selected!=c&&a.a.sc(b,c)});b.scrollTop=e}};a.h.ea.selectedOptions=!0;a.d.style={update:function(b,f){var d=a.a.c(f()||{});a.a.D(d,function(f,d){d=a.a.c(d);if(null===d||d===e||!1===d)d="";b.style[f]=d})}};a.d.submit={init:function(b,f,d,e,h){if("function"!=typeof f())throw Error("The value for a submit binding must be a function");
a.a.p(b,"submit",function(a){var d,g=f();try{d=g.call(h.$data,b)}finally{!0!==d&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}})}};a.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(b,f){a.a.Za(b,f())}};a.f.Z.text=!0;(function(){if(d&&d.navigator)var b=function(a){if(a)return parseFloat(a[1])},f=d.opera&&d.opera.version&&parseInt(d.opera.version()),g=d.navigator.userAgent,h=b(g.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),l=b(g.match(/Firefox\/([^ ]*)/));
if(10>a.a.C)var n=a.a.e.I(),q=a.a.e.I(),t=function(b){var c=this.activeElement;(c=c&&a.a.e.get(c,q))&&c(b)},r=function(b,c){var f=b.ownerDocument;a.a.e.get(f,n)||(a.a.e.set(f,n,!0),a.a.p(f,"selectionchange",t));a.a.e.set(b,q,c)};a.d.textInput={init:function(b,c,d){function g(c,f){a.a.p(b,c,f)}function n(){var f=a.a.c(c());if(null===f||f===e)f="";x!==e&&f===x?a.a.setTimeout(n,4):b.value!==f&&(m=f,b.value=f)}function q(){w||(x=b.value,w=a.a.setTimeout(t,4))}function t(){clearTimeout(w);x=w=e;var f=
b.value;m!==f&&(m=f,a.h.Ea(c(),d,"textInput",f))}var m=b.value,w,x,y=9==a.a.C?q:t;10>a.a.C?(g("propertychange",function(a){"value"===a.propertyName&&y(a)}),8==a.a.C&&(g("keyup",t),g("keydown",t)),8<=a.a.C&&(r(b,y),g("dragend",q))):(g("input",t),5>h&&"textarea"===a.a.A(b)?(g("keydown",q),g("paste",q),g("cut",q)):11>f?g("keydown",q):4>l&&(g("DOMAutoComplete",t),g("dragdrop",t),g("drop",t)));g("change",t);a.m(n,null,{i:b})}};a.h.ea.textInput=!0;a.d.textinput={preprocess:function(a,b,c){c("textInput",
a)}}})();a.d.uniqueName={init:function(b,f){if(f()){var d="ko_unique_"+ ++a.d.uniqueName.Ic;a.a.rc(b,d)}}};a.d.uniqueName.Ic=0;a.d.value={after:["options","foreach"],init:function(b,f,d){if("input"!=b.tagName.toLowerCase()||"checkbox"!=b.type&&"radio"!=b.type){var e=["change"],h=d.get("valueUpdate"),l=!1,n=null;h&&("string"==typeof h&&(h=[h]),a.a.ra(e,h),e=a.a.Tb(e));var q=function(){n=null;l=!1;var e=f(),h=a.j.u(b);a.h.Ea(e,d,"value",h)};!a.a.C||"input"!=b.tagName.toLowerCase()||"text"!=b.type||
"off"==b.autocomplete||b.form&&"off"==b.form.autocomplete||-1!=a.a.o(e,"propertychange")||(a.a.p(b,"propertychange",function(){l=!0}),a.a.p(b,"focus",function(){l=!1}),a.a.p(b,"blur",function(){l&&q()}));a.a.q(e,function(f){var d=q;a.a.nd(f,"after")&&(d=function(){n=a.j.u(b);a.a.setTimeout(q,0)},f=f.substring(5));a.a.p(b,f,d)});var m=function(){var e=a.a.c(f()),h=a.j.u(b);if(null!==n&&e===n)a.a.setTimeout(m,0);else if(e!==h)if("select"===a.a.A(b)){var k=d.get("valueAllowUnset"),h=function(){a.j.ha(b,
e,k)};h();k||e===a.j.u(b)?a.a.setTimeout(h,0):a.l.w(a.a.Da,null,[b,"change"])}else a.j.ha(b,e)};a.m(m,null,{i:b})}else a.Ja(b,{checkedValue:f})},update:function(){}};a.h.ea.value=!0;a.d.visible={update:function(b,f){var d=a.a.c(f()),e="none"!=b.style.display;d&&!e?b.style.display="":!d&&e&&(b.style.display="none")}};(function(b){a.d[b]={init:function(f,d,e,h,l){return a.d.event.init.call(this,f,function(){var a={};a[b]=d();return a},e,h,l)}}})("click");a.O=function(){};a.O.prototype.renderTemplateSource=
function(){throw Error("Override renderTemplateSource");};a.O.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock");};a.O.prototype.makeTemplateSource=function(b,f){if("string"==typeof b){f=f||m;var d=f.getElementById(b);if(!d)throw Error("Cannot find template with ID "+b);return new a.v.n(d)}if(1==b.nodeType||8==b.nodeType)return new a.v.qa(b);throw Error("Unknown template type: "+b);};a.O.prototype.renderTemplate=function(a,b,d,e){a=this.makeTemplateSource(a,
e);return this.renderTemplateSource(a,b,d,e)};a.O.prototype.isTemplateRewritten=function(a,b){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,b).data("isRewritten")};a.O.prototype.rewriteTemplate=function(a,b,d){a=this.makeTemplateSource(a,d);b=b(a.text());a.text(b);a.data("isRewritten",!0)};a.b("templateEngine",a.O);a.Gb=function(){function b(c,f,d,g){c=a.h.yb(c);for(var e=a.h.ta,h=0;h<c.length;h++){var l=c[h].key;if(e.hasOwnProperty(l)){var n=e[l];if("function"===typeof n){if(l=
n(c[h].value))throw Error(l);}else if(!n)throw Error("This template engine does not support the '"+l+"' binding within its templates");}}d="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a.h.Ua(c,{valueAccessors:!0})+" } })()},'"+d.toLowerCase()+"')";return g.createJavaScriptEvaluatorBlock(d)+f}var f=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,d=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Oc:function(b,
c,f){c.isTemplateRewritten(b,f)||c.rewriteTemplate(b,function(b){return a.Gb.dd(b,c)},f)},dd:function(a,e){return a.replace(f,function(a,f,d,g,h){return b(h,f,d,e)}).replace(d,function(a,f){return b(f,"\x3c!-- ko --\x3e","#comment",e)})},Ec:function(b,c){return a.M.wb(function(f,d){var g=f.nextSibling;g&&g.nodeName.toLowerCase()===c&&a.Ja(g,b,d)})}}}();a.b("__tr_ambtns",a.Gb.Ec);(function(){a.v={};a.v.n=function(b){if(this.n=b){var c=a.a.A(b);this.ab="script"===c?1:"textarea"===c?2:"template"==c&&
b.content&&11===b.content.nodeType?3:4}};a.v.n.prototype.text=function(){var b=1===this.ab?"text":2===this.ab?"value":"innerHTML";if(0==arguments.length)return this.n[b];var c=arguments[0];"innerHTML"===b?a.a.Cb(this.n,c):this.n[b]=c};var b=a.a.e.I()+"_";a.v.n.prototype.data=function(f){if(1===arguments.length)return a.a.e.get(this.n,b+f);a.a.e.set(this.n,b+f,arguments[1])};var f=a.a.e.I();a.v.n.prototype.nodes=function(){var b=this.n;if(0==arguments.length)return(a.a.e.get(b,f)||{}).jb||(3===this.ab?
b.content:4===this.ab?b:e);a.a.e.set(b,f,{jb:arguments[0]})};a.v.qa=function(a){this.n=a};a.v.qa.prototype=new a.v.n;a.v.qa.prototype.text=function(){if(0==arguments.length){var b=a.a.e.get(this.n,f)||{};b.Hb===e&&b.jb&&(b.Hb=b.jb.innerHTML);return b.Hb}a.a.e.set(this.n,f,{Hb:arguments[0]})};a.b("templateSources",a.v);a.b("templateSources.domElement",a.v.n);a.b("templateSources.anonymousTemplate",a.v.qa)})();(function(){function b(c,f,d){var g;for(f=a.f.nextSibling(f);c&&(g=c)!==f;)c=a.f.nextSibling(g),
d(g,c)}function f(f,d){if(f.length){var g=f[0],e=f[f.length-1],h=g.parentNode,k=a.Q.instance,l=k.preprocessNode;if(l){b(g,e,function(a,b){var c=a.previousSibling,f=l.call(k,a);f&&(a===g&&(g=f[0]||b),a===e&&(e=f[f.length-1]||c))});f.length=0;if(!g)return;g===e?f.push(g):(f.push(g,e),a.a.za(f,h))}b(g,e,function(b){1!==b.nodeType&&8!==b.nodeType||a.Rb(d,b)});b(g,e,function(b){1!==b.nodeType&&8!==b.nodeType||a.M.yc(b,[d])});a.a.za(f,h)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function h(b,
c,e,k,l){l=l||{};var q=(b&&d(b)||e||{}).ownerDocument,m=l.templateEngine||n;a.Gb.Oc(e,m,q);e=m.renderTemplate(e,k,l,q);if("number"!=typeof e.length||0<e.length&&"number"!=typeof e[0].nodeType)throw Error("Template engine must return an array of DOM nodes");q=!1;switch(c){case "replaceChildren":a.f.da(b,e);q=!0;break;case "replaceNode":a.a.qc(b,e);q=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+c);}q&&(f(e,k),l.afterRender&&a.l.w(l.afterRender,null,[e,k.$data]));
return e}function l(b,c,f){return a.H(b)?b():"function"===typeof b?b(c,f):b}var n;a.Db=function(b){if(b!=e&&!(b instanceof a.O))throw Error("templateEngine must inherit from ko.templateEngine");n=b};a.Ab=function(b,c,f,q,m){f=f||{};if((f.templateEngine||n)==e)throw Error("Set a template engine before calling renderTemplate");m=m||"replaceChildren";if(q){var w=d(q);return a.B(function(){var e=c&&c instanceof a.U?c:new a.U(a.a.c(c)),n=l(b,e.$data,e),e=h(q,m,n,e,f);"replaceNode"==m&&(q=e,w=d(q))},null,
{wa:function(){return!w||!a.a.nb(w)},i:w&&"replaceNode"==m?w.parentNode:w})}return a.M.wb(function(d){a.Ab(b,c,f,d,"replaceNode")})};a.kd=function(b,c,d,g,n){function q(a,b){f(b,w);d.afterRender&&d.afterRender(b,a);w=null}function m(a,c){w=n.createChildContext(a,d.as,function(a){a.$index=c});var f=l(b,a,w);return h(null,"ignoreTargetNode",f,w,d)}var w;return a.B(function(){var b=a.a.c(c)||[];"undefined"==typeof b.length&&(b=[b]);b=a.a.Ka(b,function(b){return d.includeDestroyed||b===e||null===b||!a.a.c(b._destroy)});
a.l.w(a.a.Bb,null,[g,b,m,d,q])},null,{i:g})};var q=a.a.e.I();a.d.template={init:function(b,c){var f=a.a.c(c());if("string"==typeof f||f.name)a.f.xa(b);else{if("nodes"in f){if(f=f.nodes||[],a.H(f))throw Error('The "nodes" option must be a plain, non-observable array.');}else f=a.f.childNodes(b);f=a.a.jc(f);(new a.v.qa(b)).nodes(f)}return{controlsDescendantBindings:!0}},update:function(b,c,f,d,g){var h=c(),k;c=a.a.c(h);f=!0;d=null;"string"==typeof c?c={}:(h=c.name,"if"in c&&(f=a.a.c(c["if"])),f&&"ifnot"in
c&&(f=!a.a.c(c.ifnot)),k=a.a.c(c.data));"foreach"in c?d=a.kd(h||b,f&&c.foreach||[],c,b,g):f?(g="data"in c?g.createChildContext(k,c.as):g,d=a.Ab(h||b,g,c,b)):a.f.xa(b);g=d;(k=a.a.e.get(b,q))&&"function"==typeof k.k&&k.k();a.a.e.set(b,q,g&&g.ba()?g:e)}};a.h.ta.template=function(b){b=a.h.yb(b);return 1==b.length&&b[0].unknown||a.h.ad(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"};a.f.Z.template=!0})();a.b("setTemplateEngine",a.Db);a.b("renderTemplate",
a.Ab);a.a.dc=function(a,b,d){if(a.length&&b.length){var e,h,l,n,q;for(e=h=0;(!d||e<d)&&(n=a[h]);++h){for(l=0;q=b[l];++l)if(n.value===q.value){n.moved=q.index;q.moved=n.index;b.splice(l,1);e=l=0;break}e+=l}}};a.a.ib=function(){function b(c,d,e,h,l){var n=Math.min,q=Math.max,m=[],p,w=c.length,y,D=d.length,u=D-w||1,J=w+D+1,C,E,v;for(p=0;p<=w;p++)for(E=C,m.push(C=[]),v=n(D,p+u),y=q(0,p-1);y<=v;y++)C[y]=y?p?c[p-1]===d[y-1]?E[y-1]:n(E[y]||J,C[y-1]||J)+1:y+1:p+1;n=[];q=[];u=[];p=w;for(y=D;p||y;)D=m[p][y]-
1,y&&D===m[p][y-1]?q.push(n[n.length]={status:e,value:d[--y],index:y}):p&&D===m[p-1][y]?u.push(n[n.length]={status:h,value:c[--p],index:p}):(--y,--p,l.sparse||n.push({status:"retained",value:d[y]}));a.a.dc(u,q,!l.dontLimitMoves&&10*w);return n.reverse()}return function(a,d,e){e="boolean"===typeof e?{dontLimitMoves:e}:e||{};a=a||[];d=d||[];return a.length<d.length?b(a,d,"added","deleted",e):b(d,a,"deleted","added",e)}}();a.b("utils.compareArrays",a.a.ib);(function(){function b(c,f,d,g,h){var l=[],
n=a.B(function(){var b=f(d,h,a.a.za(l,c))||[];0<l.length&&(a.a.qc(l,b),g&&a.l.w(g,null,[d,b,h]));l.length=0;a.a.ra(l,b)},null,{i:c,wa:function(){return!a.a.Qb(l)}});return{ca:l,B:n.ba()?n:e}}var f=a.a.e.I(),d=a.a.e.I();a.a.Bb=function(h,l,n,q,m){function w(b,c){z=D[c];v!==c&&(K[b]=z);z.qb(v++);a.a.za(z.ca,h);C.push(z);H.push(z)}function p(b,c){if(b)for(var f=0,d=c.length;f<d;f++)c[f]&&a.a.q(c[f].ca,function(a){b(a,f,c[f].ja)})}l=l||[];q=q||{};var y=a.a.e.get(h,f)===e,D=a.a.e.get(h,f)||[],u=a.a.fb(D,
function(a){return a.ja}),J=a.a.ib(u,l,q.dontLimitMoves),C=[],E=0,v=0,A=[],H=[];l=[];for(var K=[],u=[],z,N=0,aa,ba;aa=J[N];N++)switch(ba=aa.moved,aa.status){case "deleted":ba===e&&(z=D[E],z.B&&(z.B.k(),z.B=e),a.a.za(z.ca,h).length&&(q.beforeRemove&&(C.push(z),H.push(z),z.ja===d?z=null:l[N]=z),z&&A.push.apply(A,z.ca)));E++;break;case "retained":w(N,E++);break;case "added":ba!==e?w(N,ba):(z={ja:aa.value,qb:a.N(v++)},C.push(z),H.push(z),y||(u[N]=z))}a.a.e.set(h,f,C);p(q.beforeMove,K);a.a.q(A,q.beforeRemove?
a.$:a.removeNode);for(var N=0,y=a.f.firstChild(h),I;z=H[N];N++){z.ca||a.a.extend(z,b(h,n,z.ja,m,z.qb));for(E=0;J=z.ca[E];y=J.nextSibling,I=J,E++)J!==y&&a.f.gc(h,J,I);!z.Wc&&m&&(m(z.ja,z.ca,z.qb),z.Wc=!0)}p(q.beforeRemove,l);for(N=0;N<l.length;++N)l[N]&&(l[N].ja=d);p(q.afterMove,K);p(q.afterAdd,u)}})();a.b("utils.setDomNodeChildrenFromArrayMapping",a.a.Bb);a.W=function(){this.allowTemplateRewriting=!1};a.W.prototype=new a.O;a.W.prototype.renderTemplateSource=function(b,f,d,e){if(f=(9>a.a.C?0:b.nodes)?
b.nodes():null)return a.a.V(f.cloneNode(!0).childNodes);b=b.text();return a.a.ma(b,e)};a.W.sb=new a.W;a.Db(a.W.sb);a.b("nativeTemplateEngine",a.W);(function(){a.vb=function(){var a=this.$c=function(){if(!b||!b.tmpl)return 0;try{if(0<=b.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(c,d,e,h){h=h||m;e=e||{};if(2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var l=c.data("precompiled");
l||(l=c.text()||"",l=b.template(null,"{{ko_with $item.koBindingContext}}"+l+"{{/ko_with}}"),c.data("precompiled",l));c=[d.$data];d=b.extend({koBindingContext:d},e.templateOptions);d=b.tmpl(l,c,d);d.appendTo(h.createElement("div"));b.fragments={};return d};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};this.addTemplate=function(a,b){m.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(b.tmpl.tag.ko_code={open:"__.push($1 || '');"},
b.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};a.vb.prototype=new a.O;var c=new a.vb;0<c.$c&&a.Db(c);a.b("jqueryTmplTemplateEngine",a.vb)})()})})()})();
(function(e){"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?e(require("knockout"),exports):"function"===typeof define&&define.amd?define(["knockout","exports"],e):e(ko,ko.mapping={})})(function(e,d){function m(a,b){var e,h;for(h in b)if(b.hasOwnProperty(h)&&b[h])if(e=d.getType(a[h]),h&&a[h]&&"array"!==e&&"string"!==e)m(a[h],b[h]);else if("array"===d.getType(a[h])&&"array"===d.getType(b[h])){e=a;for(var l=h,c=a[h],f=b[h],g={},k=c.length-1;0<=k;--k)g[c[k]]=c[k];for(k=
f.length-1;0<=k;--k)g[f[k]]=f[k];c=[];f=void 0;for(f in g)c.push(g[f]);e[l]=c}else a[h]=b[h]}function h(a,b){var d={};m(d,a);m(d,b);return d}function b(a,b){for(var d=h({},a),e=I.length-1;0<=e;e--){var m=I[e];d[m]&&(d[""]instanceof Object||(d[""]={}),d[""][m]=d[m],delete d[m])}b&&(d.ignore=l(b.ignore,d.ignore),d.include=l(b.include,d.include),d.copy=l(b.copy,d.copy),d.observe=l(b.observe,d.observe));d.ignore=l(d.ignore,A.ignore);d.include=l(d.include,A.include);d.copy=l(d.copy,A.copy);d.observe=l(d.observe,
A.observe);d.mappedProperties=d.mappedProperties||{};d.copiedProperties=d.copiedProperties||{};return d}function l(a,b){"array"!==d.getType(a)&&(a="undefined"===d.getType(a)?[]:[a]);"array"!==d.getType(b)&&(b="undefined"===d.getType(b)?[]:[b]);return e.utils.arrayGetDistinctValues(a.concat(b))}function D(b,l,n,m,J,c,f){var g="array"===d.getType(e.utils.unwrapObservable(l));c=c||"";if(d.isMapped(b)){var k=e.utils.unwrapObservable(b)[a];n=h(k,n)}var E=f||J,v=function(){return n[m]&&n[m].create instanceof
Function},x=function(a){var b=H,c=e.dependentObservable;e.dependentObservable=function(a,c,f){f=f||{};a&&"object"==typeof a&&(f=a);var d=f.deferEvaluation,g=!1;f.deferEvaluation=!0;a=new Y(a,c,f);if(!d){var h=a,d=e.dependentObservable;e.dependentObservable=Y;a=e.isWriteableObservable(h);e.dependentObservable=d;d=Y({read:function(){g||(e.utils.arrayRemoveItem(b,h),g=!0);return h.apply(h,arguments)},write:a&&function(a){return h(a)},deferEvaluation:!0});d.__DO=h;a=d;b.push(a)}return a};e.dependentObservable.fn=
Y.fn;e.computed=e.dependentObservable;a=e.utils.unwrapObservable(J)instanceof Array?n[m].create({data:a||l,parent:E,skip:W}):n[m].create({data:a||l,parent:E});e.dependentObservable=c;e.computed=e.dependentObservable;return a},t=function(){return n[m]&&n[m].update instanceof Function},r=function(a,b){var c={data:b||l,parent:E,target:e.utils.unwrapObservable(a)};e.isWriteableObservable(a)&&(c.observable=a);return n[m].update(c)};if(f=T.get(l))return f;m=m||"";if(g){var g=[],p=!1,B=function(a){return a};
n[m]&&n[m].key&&(B=n[m].key,p=!0);e.isObservable(b)||(b=e.observableArray([]),b.mappedRemove=function(a){var c="function"==typeof a?a:function(b){return b===B(a)};return b.remove(function(a){return c(B(a))})},b.mappedRemoveAll=function(a){var c=K(a,B);return b.remove(function(a){return-1!=e.utils.arrayIndexOf(c,B(a))})},b.mappedDestroy=function(a){var c="function"==typeof a?a:function(b){return b===B(a)};return b.destroy(function(a){return c(B(a))})},b.mappedDestroyAll=function(a){var c=K(a,B);return b.destroy(function(a){return-1!=
e.utils.arrayIndexOf(c,B(a))})},b.mappedIndexOf=function(a){var c=K(b(),B);a=B(a);return e.utils.arrayIndexOf(c,a)},b.mappedGet=function(a){return b()[b.mappedIndexOf(a)]},b.mappedCreate=function(a){if(-1!==b.mappedIndexOf(a))throw Error("There already is an object with the key that you specified.");var c=v()?x(a):a;t()&&(a=r(c,a),e.isWriteableObservable(c)?c(a):c=a);b.push(c);return c});f=K(e.utils.unwrapObservable(b),B).sort();k=K(l,B);p&&k.sort();p=e.utils.compareArrays(f,k);f={};var A,F=e.utils.unwrapObservable(l),
I={},M=!0,k=0;for(A=F.length;k<A;k++){var S=B(F[k]);if(void 0===S||S instanceof Object){M=!1;break}I[S]=F[k]}var F=[],P=0,k=0;for(A=p.length;k<A;k++){var S=p[k],O,U=c+"["+k+"]";switch(S.status){case "added":var R=M?I[S.value]:C(e.utils.unwrapObservable(l),S.value,B);O=D(void 0,R,n,m,b,U,J);v()||(O=e.utils.unwrapObservable(O));U=u(e.utils.unwrapObservable(l),R,f);O===W?P++:F[U-P]=O;f[U]=!0;break;case "retained":R=M?I[S.value]:C(e.utils.unwrapObservable(l),S.value,B);O=C(b,S.value,B);D(O,R,n,m,b,U,
J);U=u(e.utils.unwrapObservable(l),R,f);F[U]=O;f[U]=!0;break;case "deleted":O=C(b,S.value,B)}g.push({event:S.status,item:O})}b(F);n[m]&&n[m].arrayChanged&&e.utils.arrayForEach(g,function(a){n[m].arrayChanged(a.event,a.item)})}else if(Q(l)){b=e.utils.unwrapObservable(b);if(!b){if(v())return p=x(),t()&&(p=r(p)),p;if(t())return r(p);b={}}t()&&(b=r(b));T.save(l,b);if(t())return b;X(l,function(a){var f=c.length?c+"."+a:a;if(-1==e.utils.arrayIndexOf(n.ignore,f))if(-1!=e.utils.arrayIndexOf(n.copy,f))b[a]=
l[a];else if("object"!=typeof l[a]&&"array"!=typeof l[a]&&0<n.observe.length&&-1==e.utils.arrayIndexOf(n.observe,f))b[a]=l[a],n.copiedProperties[f]=!0;else{var d=T.get(l[a]),g=D(b[a],l[a],n,a,b,f,b),d=d||g;if(0<n.observe.length&&-1==e.utils.arrayIndexOf(n.observe,f))b[a]=d(),n.copiedProperties[f]=!0;else{if(e.isWriteableObservable(b[a])){if(d=e.utils.unwrapObservable(d),b[a]()!==d)b[a](d)}else d=void 0===b[a]?d:e.utils.unwrapObservable(d),b[a]=d;n.mappedProperties[f]=!0}}})}else switch(d.getType(l)){case "function":t()?
e.isWriteableObservable(l)?(l(r(l)),b=l):b=r(l):b=l;break;default:if(e.isWriteableObservable(b))return O=t()?r(b):e.utils.unwrapObservable(l),b(O),O;v()||t();b=v()?x():e.observable(e.utils.unwrapObservable(l));t()&&b(r(b))}return b}function u(a,b,d){for(var e=0,h=a.length;e<h;e++)if(!0!==d[e]&&a[e]===b)return e;return null}function E(a,b){var h;b&&(h=b(a));"undefined"===d.getType(h)&&(h=a);return e.utils.unwrapObservable(h)}function C(a,b,d){a=e.utils.unwrapObservable(a);for(var h=0,l=a.length;h<
l;h++){var c=a[h];if(E(c,d)===b)return c}throw Error("When calling ko.update*, the key '"+b+"' was not found!");}function K(a,b){return e.utils.arrayMap(e.utils.unwrapObservable(a),function(a){return b?E(a,b):a})}function X(a,b){if("array"===d.getType(a))for(var e=0;e<a.length;e++)b(e);else for(e in a)b(e)}function Q(a){var b=d.getType(a);return("object"===b||"array"===b)&&null!==a}function R(){var a=[],b=[];this.save=function(d,h){var l=e.utils.arrayIndexOf(a,d);0<=l?b[l]=h:(a.push(d),b.push(h))};
this.get=function(d){d=e.utils.arrayIndexOf(a,d);return 0<=d?b[d]:void 0}}function Z(){var a={},b=function(b){var d;try{d=b}catch(e){d="$$$"}b=a[d];void 0===b&&(b=new R,a[d]=b);return b};this.save=function(a,d){b(a).save(a,d)};this.get=function(a){return b(a).get(a)}}var a="__ko_mapping__",Y=e.dependentObservable,P=0,H,T,I=["create","update","key","arrayChanged"],W={},v={include:["_destroy"],ignore:[],copy:[],observe:[]},A=v;d.isMapped=function(b){return(b=e.utils.unwrapObservable(b))&&b[a]};d.fromJS=
function(d){if(0==arguments.length)throw Error("When calling ko.fromJS, pass the object you want to convert.");try{P++||(H=[],T=new Z);var e,l;2==arguments.length&&(arguments[1][a]?l=arguments[1]:e=arguments[1]);3==arguments.length&&(e=arguments[1],l=arguments[2]);l&&(e=h(e,l[a]));e=b(e);var m=D(l,d,e);l&&(m=l);if(!--P)for(;H.length;){var u=H.pop();u&&(u(),u.__DO.throttleEvaluation=u.throttleEvaluation)}m[a]=h(m[a],e);return m}catch(c){throw P=0,c;}};d.fromJSON=function(a){var b=e.utils.parseJson(a);
arguments[0]=b;return d.fromJS.apply(this,arguments)};d.updateFromJS=function(){throw Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!");};d.updateFromJSON=function(){throw Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!");};d.toJS=function(h,l){A||d.resetDefaultOptions();if(0==arguments.length)throw Error("When calling ko.mapping.toJS, pass the object you want to convert.");
if("array"!==d.getType(A.ignore))throw Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==d.getType(A.include))throw Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==d.getType(A.copy))throw Error("ko.mapping.defaultOptions().copy should be an array.");l=b(l,h[a]);return d.visitModel(h,function(a){return e.utils.unwrapObservable(a)},l)};d.toJSON=function(a,b){var h=d.toJS(a,b);return e.utils.stringifyJson(h)};d.defaultOptions=function(){if(0<arguments.length)A=
arguments[0];else return A};d.resetDefaultOptions=function(){A={include:v.include.slice(0),ignore:v.ignore.slice(0),copy:v.copy.slice(0)}};d.getType=function(a){if(a&&"object"===typeof a){if(a.constructor===Date)return"date";if(a.constructor===Array)return"array"}return typeof a};d.visitModel=function(h,l,m){m=m||{};m.visitedObjects=m.visitedObjects||new Z;var D,u=e.utils.unwrapObservable(h);if(Q(u))m=b(m,u[a]),l(h,m.parentName),D="array"===d.getType(u)?[]:{};else return l(h,m.parentName);m.visitedObjects.save(h,
D);var c=m.parentName;X(u,function(b){if(!m.ignore||-1==e.utils.arrayIndexOf(m.ignore,b)){var h=u[b],k=m,q=c||"";"array"===d.getType(u)?c&&(q+="["+b+"]"):(c&&(q+="."),q+=b);k.parentName=q;if(-1!==e.utils.arrayIndexOf(m.copy,b)||-1!==e.utils.arrayIndexOf(m.include,b)||!u[a]||!u[a].mappedProperties||u[a].mappedProperties[b]||!u[a].copiedProperties||u[a].copiedProperties[b]||"array"===d.getType(u))switch(d.getType(e.utils.unwrapObservable(h))){case "object":case "array":case "undefined":k=m.visitedObjects.get(h);
D[b]="undefined"!==d.getType(k)?k:d.visitModel(h,l,m);break;default:D[b]=l(h,m.parentName)}}});return D}});ko.bindingHandlers.executeOnEnter={init:function(e,d,m,h,b){var l=m.get("executeOnEnter");jQuery(e).keypress(function(d){return 13===(d.which?d.which:d.keyCode)?(l.call(b.$data,d),!1):!0})}};
ko.bindingHandlers.foreachprop={transformObject:function(e,d){var m=[],h;for(h in e)e.hasOwnProperty(h)&&m.push({key:h,value:e[h]});d||m.sort(function(b,d){return b.key.localeCompare(d.key)});return ko.observableArray(m)},init:function(e,d,m,h,b){m=m.get("unsorted");d=ko.utils.unwrapObservable(d());d=ko.bindingHandlers.foreachprop.transformObject(d,m);b=b.createChildContext(b.$rawData,null);jQuery(e).data("childBindingContext",b);ko.applyBindingsToNode(e,{foreach:d},b);return{controlsDescendantBindings:!0}},
update:function(e,d,m,h,b){b=m.get("unsorted");d=ko.utils.unwrapObservable(d());d=ko.bindingHandlers.foreachprop.transformObject(d,b);b=jQuery(e).data("childBindingContext");ko.bindingHandlers.foreach.update(e,d,m,h,b);return{controlsDescendantBindings:!0}}};
function NodeFilterLinkParams(e){var d=this;d.linkicon=e.linkicon||"";d.classnames=e.classnames||"";d.filterval=e.filterval||"";d.filterkey=e.filterkey||"";d.filter=e.filter||"";d.linktext=e.linktext||"";d.textcss=e.textcss||"";d.suffix=e.suffix||"";d.tag=e.tag;d.title=e.title||"";d.filterData=function(e){return d.filter?{"data-node-filter":ko.unwrap(d.filter),href:e.linkForFilterString(ko.unwrap(d.filter))}:{"data-node-filter":e.escapeFilter(d.filterkey+":")+" "+e.escapeFilter(ko.unwrap(d.filterval)),
href:e.linkForFilterParams(d.filterkey,ko.unwrap(d.filterval))}};d.attributes=function(e){e=d.filterData(e);d.tag&&(e["data-node-tag"]=ko.unwrap(d.tag));d.title&&(e.title=ko.unwrap(d.title));return e};d.viewtext=function(){return(d.linktext?ko.unwrap(d.linktext):d.filter?ko.unwrap(d.filter):ko.unwrap(d.filterval))+ko.unwrap(d.suffix)}}ko.components.register("node-filter-link",{viewModel:NodeFilterLinkParams,template:'<a  class="nodefilterlink"  href="#"  data-bind="attr: attributes($root),  css: classnames"  >     <span data-bind="if: linkicon"><i data-bind="css: linkicon"></i></span><span data-bind="if: !linkicon"><span data-bind="text: viewtext(), css: textcss"></span></span></a>'});
ko.bindingHandlers.bootstrapPopover={init:function(e,d,m,h,b){m.get("bootstrapPopoverContentRef")?_initPopoverContentRef(null,{element:e,contentRef:ko.unwrap(m.get("bootstrapPopoverContentRef"))}):m.get("bootstrapPopoverContentFor")&&_initPopoverContentFor(null,{element:e,target:ko.unwrap(m.get("bootstrapPopoverContentFor"))})}};
ko.bindingHandlers.bootstrapTooltip={init:function(e,d,m,h,b){jQuery(e).tooltip({});ko.utils.domNodeDisposal.addDisposeCallback(e,function(){jQuery(e).tooltip("destroy")})},update:function(e,d,m,h,b){d=d();ko.isObservable(d)&&(ko.unwrap(d),jQuery(e).tooltip("destroy"),jQuery(e).data("original-title",null),jQuery(e).tooltip({}))}};
ko.bindingHandlers.messageTemplate={init:function(e,d,m,h,b){d=jQuery(e).text();jQuery(e).data("ko-message-template",d);return{controlsDescendantBindings:!0}},update:function(e,d,m,h,b){m=m.get("messageTemplatePluralize");d=ko.utils.unwrapObservable(d());h=jQuery(e).data("ko-message-template");d=messageTemplate(h,d,m);ko.utils.setTextContent(e,d)}};var NODE_FILTER_ALL=".*";
function NodeSummary(e){var d=this;d.error=ko.observable();d.tags=ko.observableArray();d.filters=ko.observableArray();d.defaultFilter=ko.observable();d.totalCount=ko.observable(0);d.baseUrl=e.baseUrl?e.baseUrl:"";d.filterToDelete=ko.observable();d.reload=function(){jQuery.ajax({url:_genUrl(appLinks.frameworkNodeSummaryAjax),type:"GET",error:function(e,h,b){d.error("Recent commands list: request failed for "+requrl+": "+b+", "+h)}}).success(function(e){ko.mapping.fromJS(e,{},d)})};d.linkForTagFilter=
function(e){return _genUrl(d.baseUrl,{filter:"tags:"+e.tag()})};d.linkForFilterName=function(e){return _genUrl(d.baseUrl,{filterName:e.name()})};d.linkForNodeFilters=function(e){return _genUrl(d.baseUrl,e.getPageParams())};d.findFilterByName=function(e){var h=ko.utils.arrayFilter(d.filters(),function(b){return b.name()==e});return h&&1==h.length?h[0]:null};d.removeDefault=function(){setFilter("nodes","!").success(function(e,h,b){d.defaultFilter(null)})};d.setDefaultAll=function(){d.setDefault(NODE_FILTER_ALL)};
d.setDefault=function(e){var h=null;if("string"==typeof e)if(e==NODE_FILTER_ALL)h=e;else{e=d.findFilterByName(e);if(!e)return;h=e.name()}else h=e.name();setFilter("nodes",h).success(function(b,e,m){d.defaultFilter(h)})};d.deleteFilterConfirm=function(e){if("string"==typeof e&&(e=d.findFilterByName(e),!e))return;d.filterToDelete(e);jQuery("#deleteFilterKOModal").modal("show")};d.deleteFilter=function(e){jQuery("#deleteFilterKOModal").modal("hide");jQuery.ajax({url:_genUrl(appLinks.frameworkDeleteNodeFilterAjax,
{filtername:e.name()}),beforeSend:_ajaxSendTokens.curry("ajaxDeleteFilterTokens")}).success(function(h,b,l){d.filterToDelete(null);d.filters.remove(e)}).success(_ajaxReceiveTokens.curry("ajaxDeleteFilterTokens"))};e&&ko.mapping.fromJS(e,{},d)}var CSSColors="aliceblue antiquewhite aqua aquamarine azure beige bisque black blanchedalmond blue blueviolet brown burlywood cadetblue chartreuse chocolate coral cornflowerblue cornsilk crimson cyan darkblue darkcyan darkgoldenrod darkgray darkgreen darkkhaki darkmagenta darkolivegreen darkorange darkorchid darkred darksalmon darkseagreen darkslateblue darkslategray darkturquoise darkviolet deeppink deepskyblue dimgray dodgerblue firebrick floralwhite forestgreen fuchsia gainsboro ghostwhite gold goldenrod gray green greenyellow honeydew hotpink indianred indigo ivory khaki lavender lavenderblush lawngreen lemonchiffon lightblue lightcoral lightcyan lightgoldenrodyellow lightgreen lightgrey lightpink lightsalmon lightseagreen lightskyblue lightslategray lightsteelblue lightyellow lime limegreen linen magenta maroon mediumaquamarine mediumblue mediumorchid mediumpurple mediumseagreen mediumslateblue mediumspringgreen mediumturquoise mediumvioletred midnightblue mintcream mistyrose moccasin navajowhite navy oldlace olive olivedrab orange orangered orchid palegoldenrod palegreen paleturquoise palevioletred papayawhip peachpuff peru pink plum powderblue purple red rosybrown royalblue saddlebrown salmon sandybrown seagreen seashell sienna silver skyblue slateblue slategray snow springgreen steelblue tan teal thistle tomato turquoise violet wheat white whitesmoke yellow yellowgreen".split(" ");
function NodeEntry(e){e&&ko.mapping.fromJS(e,{},this)}function TagSummary(e){this.tag=ko.observable(e.tag);this.value=ko.observable(e.value);e&&ko.mapping.fromJS(e,{},this)}
function NodeSet(e){var d=this;d.nodes=ko.observableArray([]);d.tagsummary=ko.observableArray([]);var m={nodes:{create:function(d){return new NodeEntry(d.data)}},tagsummary:{key:function(d){return ko.utils.unwrapObservable(d.tag)},create:function(d){return new TagSummary(d.data)}}};d.glyphiconCss=function(d){return d.match(/^glyphicon-[a-z-]+$/)?"glyphicon "+d:""};d.glyphiconBadges=function(d){var b=[];if(d["ui:badges"]){d=d["ui:badges"]().split(/,\s*/g);for(var e=0;e<d.length;e++)d[e].match(/^glyphicon-[a-z-]+$/)&&
b.push(d[e])}return b};d.isAnsiFg=function(d){return null!=d&&"string"==typeof d&&d.match(/^ansi-fg-(light-)?(black|green|red|yellow|blue|magenta|cyan|white)$/)};d.isStyleFg=function(d){return null!=d&&"string"==typeof d&&d.match(/^#[0-9a-fA-F]{3,6}$/)||0<=CSSColors.indexOf(d)};d.isAnsiBg=function(d){return null!=d&&"string"==typeof d&&d.match(/^ansi-bg-(black|green|red|yellow|blue|magenta|cyan|white|default)$/)};d.isStyleBg=function(d){return null!=d&&"string"==typeof d&&d.match(/^#[0-9a-fA-F]{3,6}$/)||
0<=CSSColors.indexOf(d)};d.iconFgCss=function(e){var b=e["ui:icon:color"]?e["ui:icon:color"]():null;e=e["ui:color"]?e["ui:color"]():null;return d.isAnsiFg(b)?b:d.isAnsiFg(e)?e:null};d.iconBgCss=function(e){var b=e["ui:icon:bgcolor"]?e["ui:icon:bgcolor"]():null;e=e["ui:bgcolor"]?e["ui:bgcolor"]():null;return d.isAnsiBg(b)?b:d.isAnsiBg(e)?e:null};d.iconCss=function(e){var b=[],l=d.iconFgCss(e);l&&b.push(l);(e=d.iconBgCss(e))&&b.push(e);return b.join(" ")};d.nodeFgCss=function(e){e=e["ui:color"]?e["ui:color"]():
null;return d.isAnsiFg(e)?e:null};d.nodeBgCss=function(e){e=e["ui:bgcolor"]?e["ui:bgcolor"]():null;return d.isAnsiBg(e)?e:null};d.nodeCss=function(e){var b=[],l=d.nodeFgCss(e);l&&b.push(l);(e=d.nodeBgCss(e))&&b.push(e);return b.join(" ")};d.iconStyle=function(e){var b={};if(!d.iconFgCss(e)){var l=e["ui:icon:color"]?e["ui:icon:color"]():null,m=e["ui:color"]?e["ui:color"]():null;d.isStyleFg(l)?b.color=l:d.isStyleFg(m)&&(b.color=m)}d.iconBgCss(e)||(l=e["ui:icon:bgcolor"]?e["ui:icon:bgcolor"]():null,
e=e["ui:bgcolor"]?e["ui:bgcolor"]():null,d.isStyleBg(l)?b["background-color"]=l:d.isStyleBg(e)&&(b["background-color"]=e));return b};d.nodeStyle=function(e){var b={},l=e["ui:color"]?e["ui:color"]():null;!d.nodeFgCss(e)&&d.isStyleFg(l)&&(b.color=l);l=e["ui:bgcolor"]?e["ui:bgcolor"]():null;!d.nodeBgCss(e)&&d.isStyleBg(l)&&(b["background-color"]=l);return b};d.startsWith=function(d,b){return d.length>=b.length&&d.substring(0,b.length)==b};d.attributesInNamespace=function(e,b){var l=[],m;for(m in e)d.startsWith(m,
b+":")&&e[m]()&&l.push({name:m,value:e[m](),shortname:m.substring(b.length+1)});l.sort(function(b,d){return b.shortname.localeCompare(d.shortname)});return l};d.attributeNamespaceRegex=/^(.+?):.+$/;d.attributeNamespaceNames=function(e){var b=[],l;for(l in e)(e=l.match(d.attributeNamespaceRegex))&&1<e.length&&0>b.indexOf(e[1])&&b.push(e[1]);b.sort();return b};d.attributeNamespaces=function(e){var b={},l=[],m;for(m in e){var u=m.match(d.attributeNamespaceRegex);u&&1<u.length&&(b[u[1]]||(b[u[1]]=[],
l.push(u[1])),b[u[1]].push({name:m,value:ko.utils.unwrapObservable(e[m]),shortname:m.substring(u[1].length+1)}))}l.sort();e=[];for(m=0;m<l.length;m++)u=b[l[m]],u.sort(function(b,d){return b.shortname.localeCompare(d.shortname)}),e.push({ns:l[m],values:u});return e};d.OsAttributeNames="nodename hostname username description tags osFamily osName osVersion osArch".split(" ");d.displayAttributes=function(e){var b={},l;for(l in e)0>l.indexOf(":")&&0>d.OsAttributeNames.indexOf(l)&&(b[l]=e[l]);return b};
d.expandNodeAttributes=function(d,b){return b.replace(/\$\{node\.([a-zA-Z-.]+)\}/g,function(b,e,m,E){return d[e]?d[e]()||"":E})};d.convertTagSummary=function(d){var b=[],e;for(e in d)b.push({tag:e,value:d[e]});return b};d.loadJS=function(e){ko.mapping.fromJS({nodes:e.nodes,tagsummary:d.convertTagSummary(e.tagsummary)},m,d)};e&&d.loadJS(e)}
function NodeFilters(e,d,m,h){var b=this;b.baseRunUrl=e;b.baseSaveJobUrl=d;b.baseNodesPageUrl=m;b.filterName=ko.observable(h.filterName);b.filter=ko.observable(h.filter);b.filterAll=ko.observable(h.filterAll);b.nodeExcludePrecedence=ko.observable(null==h.nodeExcludePrecedence||h.nodeExcludePrecedence?"true":"false");b.nodefilterLinkId=h.nodefilterLinkId;b.total=ko.observable(0);b.allcount=ko.observable(0);b.loading=ko.observable(!1);b.error=ko.observable(null);b.project=ko.observable(h.project);b.page=
ko.observable(h.page?h.page:0);b.pagingMax=ko.observable(h.pagingMax?h.pagingMax:20);b.paging=ko.observable(null!=h.paging?h.paging?!0:!1:!1);b.maxShown=ko.observable(h.maxShown);b.view=ko.observable(h.view);b.emptyMode=ko.observable(h.emptyMode?h.emptyMode:"localnode");b.emptyMessage=ko.observable(h.emptyMessage?h.emptyMessage:"No match");b.hideAll=ko.observable(null!=h.hideAll?h.hideAll?!0:!1:!1);b.nodeSummary=ko.observable(h.nodeSummary?h.nodeSummary:null);b.nodeSet=ko.observable(new NodeSet);
b.truncated=ko.observable(!1);b.loaded=ko.observable(!1);b.browse=ko.observable(!1);b.colkeys=ko.observableArray([]);this.pageDisplay=ko.computed({read:function(){return b.page()+1},write:function(d){b.page(d-1);b.browse(!0);b.updateMatchedNodes()},owner:b});b.filterColumns=ko.pureComputed(function(){return ko.utils.arrayFilter(b.colkeys(),function(d){return!b.nodeSet().startsWith(d,"ui:")})});b.useDefaultColumns=ko.pureComputed(function(){return 1>b.filterColumns().size()});b.totalColumnsCount=ko.pureComputed(function(){return b.useDefaultColumns()?
5:2+b.filterColumns().size()});b.isFilterNameAll=ko.pureComputed(function(){return b.filterName()==NODE_FILTER_ALL});b.filterNameDisplay=ko.pureComputed(function(){return b.isFilterNameAll()?"All Nodes":b.filterName()});b.canSaveFilter=ko.pureComputed(function(){return!b.filterName()&&b.filterWithoutAll()});b.canDeleteFilter=ko.pureComputed(function(){return b.filterName()&&!b.isFilterNameAll()});b.canSetDefaultFilter=ko.pureComputed(function(){return b.filterName()&&b.filterName()!=b.nodeSummary().defaultFilter()});
b.canRemoveDefaultFilter=ko.pureComputed(function(){return b.filterName()&&b.filterName()==b.nodeSummary().defaultFilter()});b.deleteFilter=function(){b.nodeSummary().deleteFilterConfirm(b.filterName())};b.setDefaultFilter=function(){b.nodeSummary().setDefault(b.filterName())};b.pageRemaining=ko.computed(function(){return 0>=b.total()||0>b.page()?0:b.allcount()-(b.page()+1)*b.pagingMax()});b.hasMoreNodes=ko.computed(function(){return 0<b.pageRemaining()});b.hasMultiplePages=ko.computed(function(){return b.pageRemaining()>
b.pagingMax()});b.hasPaging=ko.computed(function(){return b.paging()&&b.total()>b.pagingMax()});b.maxPages=ko.pureComputed(function(){return b.paging()&&Math.ceil(b.total()/b.pagingMax())});b.pageNumbersSkipped=ko.computed(function(){for(var d=[],e=b.page(),h=b.maxPages(),m=0;m<h;m++)m>=e-3&&m<=e+3||3>m||m>=h-3?d.push(m):m!=e-3-1&&m!=e+3+1||d.push("..");return d});b.nodesTitle=ko.computed(function(){return 1==b.allcount()?h.nodesTitleSingular||"Node":h.nodesTitlePlural||"Nodes"});b.filterWithoutAll=
ko.computed({read:function(){return b.filterAll()&&b.filter()==NODE_FILTER_ALL&&b.hideAll()?"":b.filter()},write:function(d){b.filter(d)},owner:this});b.filterIsSet=ko.pureComputed(function(){return!!b.filterWithoutAll()||!!b.filterName()});b.filter.subscribe(function(d){""==d&&b.hideAll()?b.filterAll(!0):d==NODE_FILTER_ALL&&b.filterAll(!0)});b.filter.subscribe(function(d){""==d&&"blank"==b.emptyMode()&&b.clear()});b.filter.subscribe(function(d){d===NODE_FILTER_ALL?b.filterName(NODE_FILTER_ALL):""!=
d&&b.filterName()&&b.filterName(null)});b.nodeExcludePrecedence.subscribe(function(d){b.updateMatchedNodes()});b.loading.subscribe(function(d){d||b.loaded(!0)});b.hasNodes=ko.computed(function(){return 0!=b.allcount()});b.runCommand=function(){document.location=_genUrl(b.baseRunUrl,{filter:b.filter(),filterName:b.filterName()?b.filterName():""})};b.saveJob=function(){document.location=_genUrl(b.baseSaveJobUrl,{filter:b.filter(),filterName:b.filterName()?b.filterName():""})};b.nodesPageView=function(){document.location=
_genUrl(b.baseNodesPageUrl,{filter:b.filter(),filterName:b.filterName()?b.filterName():""})};b.clear=function(){b.page(0);b.total(0);b.allcount(-1)};b.reset=function(){b.clear();b.filterAll(!1);b.filterWithoutAll(null);b.filterName(null)};b.useFilterString=function(d){b.filterAll(!1);b.filterWithoutAll(d);b.filterName(null);b.clear();b.updateMatchedNodes()};b.getPageParams=function(){return{filter:b.filter()||"",filterName:b.filterName()||"",filterAll:b.filterAll()||"",page:b.page()||0,max:b.pagingMax()||
20}};b.getPageUrl=function(){return b.nodeSummary().linkForNodeFilters(b)};b.escapeFilter=function(b){if(""!=b&&!b.match(/[ '"\r\n]/))return null==b?"":b;var d='"';null!=b&&(d+=b.replace(/"/g,'""'));return d+'"'};b.paramsAsfilter=function(d){var e=[],h;for(h in d)e.push(b.escapeFilter(h+":")),e.push(b.escapeFilter(d[h]));return e.join(" ")};b.linkForFilterString=function(d){return _genUrl(b.baseNodesPageUrl,{filter:d})};b.linkForFilterParams=function(d,e){var h;"object"==typeof d?h=b.paramsAsfilter(d):
"string"==typeof d&&"string"==typeof e&&(h={},h[d]=e,h=b.paramsAsfilter(h));return b.linkForFilterString(h)};b.triggerNodeRemoteEdit=function(d){doRemoteEdit(d.nodename(),b.project(),b.nodeSet().expandNodeAttributes(d.attributes,d.attributes.remoteUrl()))};b.setPageParams=function(d){b.filterAll(d.filterAll);b.filter(d.filter);b.filterName(d.filterName);b.clear();b.page(d.page||0);b.pagingMax(d.max||20);b.updateMatchedNodes()};b.selectNodeFilterLink=function(d,e){var h=b.filter(),m=jQuery(d).data("node-filter-name"),
C=jQuery(d).data("node-filter"),K=jQuery(d).data("node-tag");C&&0<=C.indexOf("&")&&(C=html_unescape(C));var X=jQuery(d).data("node-filter-all"),Q=h?h.indexOf("tags: "):-1;if(e&&K&&0<=Q){for(var C=h.substring(0,Q),h=h.substring(Q+6),R="";0==h.indexOf(" ");)h=h.substring(1);Q=h.indexOf(" ");0<Q&&(R=h.substring(Q),h=h.substring(0,Q));C=C+"tags: "+h+"+"+K+R}else C&&!m&&h&&!X&&h!=NODE_FILTER_ALL?C=h+" "+C:X&&(C=NODE_FILTER_ALL);b.filterAll(X);b.filter(C);b.filterName(m);b.clear();b.updateMatchedNodes()};
b.updateNodesNextPage=function(){b.page()||b.page(0);b.page(b.page()+1);b.updateMatchedNodes()};b.browseNodesPage=function(d){if(b.page()!=d){if(!d||d>=b.maxPages()||0>d)d=0;b.pageDisplay(d+1)}};b.browseNodesPageNext=function(){b.page()+1<b.maxPages()&&b.browseNodesPage(b.page()+1)};b.browseNodesPagePrev=function(){0<b.page()&&b.browseNodesPage(b.page()-1)};b.browseNodesPageUrl=function(d){var e=b.getPageParams();0<=d&&d<b.maxPages()?e.page=d:e.page=0;return _genUrl(b.baseNodesPageUrl,e)};b.browseNodesPagePrevUrl=
function(){return b.browseNodesPageUrl(b.page()-1)};b.browseNodesPageNextUrl=function(){return b.browseNodesPageUrl(b.page()+1)};b.updateNodesRemainingPages=function(){b.page(-1);b.updateMatchedNodes()};b.loadJS=function(d){ko.mapping.fromJS(d,{},b)};b.pagingMax.subscribe(function(){b.updateMatchedNodes()});b.newFilterText=function(){b.page(0);b.updateMatchedNodes()};b.updateMatchedNodes=function(){if((b.filter()||"blank"!=b.emptyMode())&&b.project()){var d=b.filterName()?{filterName:b.filterName()}:
b.filter()?{filter:b.filter()}:{},e=b.page(),h={view:b.view()?b.view():"table",declarenone:!0,fullresults:!0,expanddetail:!0,inlinepaging:!1,nodefilterLinkId:b.nodefilterLinkId};b.paging()&&(h.page=e,h.max=b.pagingMax(),h.inlinepaging=!0,0!=e&&(h.view="tableContent"));b.maxShown()&&(h.maxShown=b.maxShown());d=Object.extend(h,d);if("localnode"==b.emptyMode()&&!b.filter())d.localNodeOnly="true";else if("blank"==b.emptyMode()&&!b.filter()){b.clear();return}e=b.nodeExcludePrecedence();d.nodeExcludePrecedence=
"string"==typeof e&&"false"===e||"boolean"==typeof e&&!e?"false":"true";b.loading(!0);var m=_genUrl(appLinks.frameworkNodesQueryAjax,d);jQuery.ajax({type:"GET",dataType:"json",url:m,error:function(d,e,h){b.loading(!1);"function"==typeof errcallback&&b.error("Failed "+m+": "+h+", "+e)},success:function(d,e,h){b.loading(!1);b.nodeSet().loadJS({nodes:d.allnodes,tagsummary:d.tagsummary});b.loadJS({allcount:d.allcount,total:d.total,truncated:d.truncated,colkeys:d.colkeys})}})}}}
var remoteSite,remoteEditStarted=!1,remoteEditExpect=!1,projectname;function doRemoteEdit(e,d,m){_remoteEditClear();projectname=d;setText("editNodeIdent",e);e=document.createElement("iframe");e.width="640px";e.height="480px";_remoteEditExpect(m);e.src=m;$("remoteEditTarget").appendChild(e);_remoteEditShow()}function _remoteEditExpect(e){remoteEditExpect=!0;remoteSite=e;remoteEditStarted=!1;Event.observe(window,"message",_rdeckNodeEditOnmessage)}
function _remoteEditStop(){remoteEditExpect=!1;remoteSite=null;remoteEditStarted=!1;projectname=null;Event.stopObserving(window,"message",_rdeckNodeEditOnmessage)}function _remoteEditClear(){_remoteEditStop();_clearTarget();shouldrefresh=!1;clearHtml("editNodeIdent");var e=$("remoteEditError");clearHtml(e);e.hide()}function _remoteEditShow(){$("remoteEditTarget").show();$("remoteEditholder").show();$("remoteEditResultHolder").hide();$("nodesTable").hide()}
function _remoteEditHide(){$("remoteEditholder").hide();$("remoteEditTarget").hide();$("remoteEditToolbar").show();$("nodesTable").show()}function _clearTarget(){clearHtml("remoteEditTarget");$("remoteEditTarget").hide()}function _remoteEditCompleted(){_remoteEditStop();_remoteEditHide();_remoteEditClear()}var shouldrefresh=!1;function _remoteEditContinue(){shouldrefresh?document.location=appLinks.frameworkNodes:_remoteEditCompleted()}function _remoteEditDidSave(){}
function _rdeckNodeEditFinished(e){e?(setText($("remoteEditResultText"),"Node changes were saved successfully."),_remoteEditDidSave()):setText($("remoteEditResultText"),"Node changes were not saved.");_remoteEditStop();_clearTarget();$("remoteEditToolbar").hide();$("remoteEditResultHolder").show()}function _rdeckNodeEditError(e,d){_remoteEditStop();_clearTarget();var m=$("remoteEditError");setText(m,(e?e+" reported an error: ":"")+d);m.show()}
function _rdeckNodeEditStarted(){remoteEditStarted=!0}var PROTOCOL="rundeck:node:edit";
function _rdeckNodeEditOnmessage(e){if(remoteEditExpect&&remoteSite&&remoteSite.startsWith(e.origin+"/")){var d=e.data;remoteEditStarted||PROTOCOL+":started"!=d?PROTOCOL+":error"==d||d.startsWith(PROTOCOL+":error:")?(d=d.substring((PROTOCOL+":error").length),d.startsWith(":")&&(d=d.substring(1)),_rdeckNodeEditError(e.origin,d?d:"(No message)")):remoteEditStarted&&(PROTOCOL+":finished:true"==d?_rdeckNodeEditFinished(!0):PROTOCOL+":finished:false"==d?_rdeckNodeEditFinished(!1):_rdeckNodeEditError(null,
"Unexpected message received from ["+e.origin+"]: "+d)):_rdeckNodeEditStarted()}}function showError(e){appendText($("error"),e);$("error").show()}var nodeFilter,nodespage=0,pageParams={};function expandResultNodes(e,d){loadNodeFilter(null,nodeFilter.filter(),nodeFilter.filterAll(),d,e)}
function loadNodeFilter(e,d,m,h,b){jQuery(".nodefilterlink").removeClass("active");b||(b=0);h||(h="nodelist");e||d||null!=m||(e=nodeFilter.filterName(),d=nodeFilter.filter(),m=nodeFilter.filterAll());if(e||d){nodespage=b;var l=0==b?"table":"tableContent",D=e?{filterName:e}:{filter:d};D.nodeExcludePrecedence="true";e?(jQuery("a[data-node-filter-name='"+e+"']").addClass("active"),jQuery(".hiddenNodeFilter").val(d),jQuery(".hiddenNodeFilterName").val(e)):(jQuery(".hiddenNodeFilter").val(d),jQuery(".hiddenNodeFilterName").val(""));
nodeFilter.filterAll(m);nodeFilter.filterName(e);nodeFilter.filter(d);nodeFilter.loading(!0);_updateMatchedNodes(D,h,pageParams.project,!1,{view:l,expanddetail:!0,inlinepaging:!0,page:b,max:pageParams.pagingMax},function(b){nodeFilter.loading(!1)},function(b,d,e){nodeFilter.loading(!1);e.getResponseHeader("X-Rundeck-Error-Message")?nodeFilter.error(e.getResponseHeader("X-Rundeck-Error-Message")):nodeFilter.error(e.statusText)})}}
function _loadNextNodesPageTable(e,d,m,h){nodespage||(nodespage=0);var b=nodespage+1;if(0>d||e*b<d){var l=new Element("tbody");$(m).insert({bottom:l});expandResultNodes(b*(0>d?-1:1),Element.identify(l))}m=e*(b+1);m>=d||0>d?$(h).hide():(setText($("moreCount"),d-m),d-m<e&&$("nextPageButton").hide())}
function _updateBoxInfo(e,d){"nodetable"==e&&(null!=d.total&&"undefined"!=typeof nodeFilter&&nodeFilter.total(d.total),null!=d.allcount&&"undefined"!=typeof nodeFilter&&nodeFilter.allcount(d.allcount),null!=d.filter&&"undefined"!=typeof nodeFilter&&nodeFilter.filter(d.filter))}window.onpopstate=function(e){e.state&&(e.state.start?(filterParams={},pageLoad()):(nodeFilter.setPageParams(e.state),nodeFilter.updateMatchedNodes()))};var filterParams={},nodeSummary;
function pageLoad(){var e;filterParams.filterName||filterParams.filter||filterParams.filterAll?(nodeFilter.setPageParams(filterParams),nodeFilter.updateMatchedNodes(),e=nodeFilter.getPageParams(),nodeSummary.reload()):(nodeFilter.reset(),nodeSummary.reload(),jQuery("#tab_link_summary > a").tab("show"),e={start:!0});"function"==typeof history.replaceState&&(history.state||history.replaceState(e,null,document.location))}
function init(){pageParams=loadJsonData("pageParams");filterParams=loadJsonData("filterParamsJSON");nodeSummary=new NodeSummary({baseUrl:appLinks.frameworkNodes});nodeFilter=new NodeFilters(appLinks.frameworkAdhoc,appLinks.scheduledExecutionCreate,appLinks.frameworkNodes,Object.extend(filterParams,{project:pageParams.project,paging:!0,nodesTitleSingular:message("Node"),nodesTitlePlural:message("Node.plural"),nodeSummary:nodeSummary}));ko.applyBindings(nodeFilter);nodeFilter.filterName.subscribe(function(e){e&&
(jQuery("a[data-node-filter-name]").removeClass("active"),jQuery("a[data-node-filter-name='"+e+"']").addClass("active"))});nodeFilter.loading.subscribe(function(e){jQuery("#tab_link_result > a").tab("show")});jQuery("body").on("click",".nodefilterlink",function(e){var d=e.shiftKey;e.preventDefault();nodeFilter.selectNodeFilterLink(this,d);"function"==typeof history.pushState&&(e=nodeFilter.getPageParams(),d=nodeFilter.getPageUrl(),history.pushState(e,document.title,d))});nodeFilter.browse.subscribe(function(e){if("function"==
typeof history.pushState&&e){e=nodeFilter.getPageParams();var d=nodeFilter.getPageUrl();history.pushState(e,document.title,d);nodeFilter.browse(!1)}});jQuery("#tab_link_summary").on("show.bs.tab",function(e){nodeSummary.reload()});pageLoad()}jQuery(init);