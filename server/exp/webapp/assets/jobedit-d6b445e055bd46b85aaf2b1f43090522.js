//# sourceMappingURL=jobedit.js.map
function showError(a){appendHtml($("editerror"),a);$("editerror").show()}function showRowSelected(a,b,c){c=document.getElementsByClassName(c,b);for(b=0;b<c.length;b++)$(c[b]).removeClassName("selected");a&&$(a)&&$(a).addClassName("selected")}var jobEdittedHandler;function _onJobEdit(a){jobEdittedHandler=a}function jobWasEdited(){"function"==typeof jobEdittedHandler&&jobEdittedHandler()}var _jobOptionData=[];function _optionData(a){_jobOptionData=a||[]}
function _addOption(a){_jobOptionData.push(a)}function _removeOptionName(a){var b=_jobOptionData.find(function(b){return b.name===a});0<=b&&_jobOptionData.splice(b,1)}var _VAR_DATA={job:[],node:[],eh:[],globals:[]};function _jobGlobalVarData(){if(1>_VAR_DATA.globals.length){var a=loadJsonData("globalVarData");a&&a.each(function(a){_VAR_DATA.globals.push({key:"globals."+a,category:"Global Vars"})})}return _VAR_DATA.globals}
function _jobVarData(){if(1>_VAR_DATA.job.length){var a={id:{title:"Job ID"},execid:{title:"Execution ID"},name:{title:"Job Name"},group:{title:"Job Group"},username:{title:"Name of user executing the job"},project:{title:"Project name"},loglevel:{title:"Execution log level",desc:"Logging level, one of: INFO, DEBUG"},"user.email":{title:"Email of user executing the job"},retryAttempt:{title:"Retry attempt number"},wasRetry:{title:"True if execution is a retry"}};"id execid name group username project loglevel user.email retryAttempt wasRetry".split(" ").each(function(b){_VAR_DATA.job.push({key:"job."+
b,category:"Job",title:a[b].title,desc:a[b].desc})})}return _VAR_DATA.job}
function _jobNodeData(){if(1>_VAR_DATA.node.length){var a={name:{title:"Node Name"},hostname:{title:"Node Hostname"},username:{title:"Node username"},description:{title:"Node description"},tags:{title:"Node tags"},"os-name":{title:"OS Name"},"os-family":{title:"OS Family"},"os-arch":{title:"OS Architecture"},"os-version":{title:"OS Version"}};"name hostname username description tags os-name os-family os-arch os-version".split(" ").each(function(b){_VAR_DATA.node.push({key:"node."+b,category:"Node",
title:a[b].title,desc:"(only available in node step context)"})})}return _VAR_DATA.node}
function _jobEhData(){if(1>_VAR_DATA.eh.length){var a={message:{title:"Error Message"},resultCode:{title:"Result Code",desc:"Exit code from an execution (if available)"},failedNodes:{title:"Failed Nodes List"},reason:{title:"Error Reason",desc:"A code indicating the reason the step failed"}};["message","resultCode","failedNodes","reason"].each(function(b){_VAR_DATA.eh.push({key:"result."+b,category:"Error Handler",title:a[b].title,desc:a[b].desc})})}return _VAR_DATA.eh}
function postLoadItemEdit(a,b,c){var d=jQuery(a);d.find("input[type=text]").each(function(a,b){b.observe("keypress",noenter)});0<d.find("input[type=text]").length&&d.find("input[type=text]")[0].focus();c=c||d.data("wfitemnodestep");addWfAutocomplete(d,b,function(){var a=d.find("input[name=nodeStep][type=radio]:checked");return a.length?"true"==a.val():c},function(a){return jQuery(a).hasClass("_wfscriptitem")},function(a,b){if(jQuery(a).hasClass("_wfscriptitem")){var c=d.find("._wfiedit").data("rkey");
c&&workflowEditor.scriptSteps()[c].guessAceMode.subscribe(function(a){setAceSyntaxMode(a,b)})}},function(a){return jQuery(a).hasClass("context_env_autocomplete")?(a=d.find("._wfiedit").data("rkey"))&&workflowEditor.scriptSteps()[a]&&workflowEditor.scriptSteps()[a].guessAceMode()||"sh":null})}
function addWfAutocomplete(a,b,c,d,e,f){var k=[].concat(_jobVarData()),k=k.concat(_jobGlobalVarData());b&&(k=k.concat(_jobEhData()));var h=function(a){return("RD_"+a).toUpperCase().replace(/[^a-zA-Z0-9_]/g,"_").replace(/[{}$]/,"")},m={sh:function(a){return"$"+h(a)},powershell:function(a){return"$env:"+h(a)},batchfile:function(a){return"%"+h(a)+"%"}},l=function(a,b,d){a=a||"${";b=b||"}";var e=[],g=[].concat(k);c&&c()&&(g=g.concat(_jobNodeData()));for(var f=m[d]||m.sh,h=0;h<g.length;h++)e.push({value:a+
g[h].key+b,data:g[h]}),d&&e.push({value:f(g[h].key),data:g[h]});for(g=0;g<_jobOptionData.length;g++)e.push({value:a+("option."+_jobOptionData[g].name)+b,data:{category:"Options",title:"Option value",desc:"For option: "+_jobOptionData[g].name}}),d&&e.push({value:f("option."+_jobOptionData[g].name),data:{category:"Options",title:"Option value",desc:"For option: "+_jobOptionData[g].name}}),"file"==_jobOptionData[g].type&&(e.push({value:a+("file."+_jobOptionData[g].name)+b,data:{category:"File Option",
title:"The local file path",desc:"For file option: "+_jobOptionData[g].name}}),e.push({value:a+("file."+_jobOptionData[g].name+".fileName")+b,data:{category:"File Option",title:"The original File name",desc:"For file option: "+_jobOptionData[g].name}}),e.push({value:a+("file."+_jobOptionData[g].name+".sha")+b,data:{category:"File Option",title:"The file contents SHA256 value",desc:"For file option: "+_jobOptionData[g].name}}),d&&(e.push({value:f("file."+_jobOptionData[g].name),data:{category:"File Option",
title:"The local file path",desc:"For file option: "+_jobOptionData[g].name}}),e.push({value:f("file."+_jobOptionData[g].name+".fileName"),data:{category:"File Option",title:"The original File name",desc:"For file option:"+_jobOptionData[g].name}}),e.push({value:f("file."+_jobOptionData[g].name+".sha"),data:{category:"File Option",title:"The file contents SHA256 value",desc:"For file option: "+_jobOptionData[g].name}})));return e};a.find("textarea.apply_ace").each(function(a,b){var c=d&&d(b),f=_addAceTextarea(b,
null,function(a,b,d,e){a=getAceSyntaxMode(a);return(c?l("@","@",a):l(null,null,a)).map(function(a){return{name:a.value,value:a.value,score:1,meta:a.data&&a.data.category||null,title:a.data&&a.data.title||null,desc:a.data&&a.data.desc||null,type:"rdvar"}})});e&&e(b,f)});a.find(".context_env_autocomplete,.context_var_autocomplete").each(function(a,b){var c=jQuery(b),d=f&&f(b)||null;c.devbridgeAutocomplete({delimiter:/( |(?=\$))/,tabDisabled:!0,lookup:function(a,b){var c=a.toLowerCase(),e=jQuery.grep(l(null,
null,d),function(a){return-1!==a.value.toLowerCase().indexOf(c)});b({suggestions:e})},groupBy:"category",formatResult:function(a,b){return a.data.title?jQuery.Autocomplete.formatResult(a,b)+" - "+a.data.title:jQuery.Autocomplete.formatResult(a,b)}})})}
function _initJobPickerAutocomplete(a,b,c){var d=jQuery("#schedEditFrameworkProject").val();jQuery("#"+a).devbridgeAutocomplete({minChars:0,deferRequestBy:500,lookup:function(a,b){var k=c&&jQuery("#"+c).val()||d;jQuery.ajax({url:_genUrl(appLinks.menuJobSearchJson,{jobFilter:a,project:k,runAuthRequired:!0}),success:function(a,c){b({suggestions:jQuery.map(a,function(a){return{value:a.name,data:a}})})}})},onSelect:function(a){jQuery("#"+b).val(a.data.group)}})}var _iseditting=null;
function _wfiedit(a,b,c){_iseditting||(jobWasEdited(),b={num:b,isErrorHandler:c?!0:!1,key:a},getCurSEID()&&(b.scheduledExecutionId=getCurSEID()),jQuery("#wfli_"+a).load(_genUrl(appLinks.workflowEdit,b),function(b,e,f){_hideWFItemControls(a);postLoadItemEdit("#wfli_"+a,c)}))}function _wficopy(a,b,c){_ajaxWFAction(appLinks.workflowCopy,{num:b,edit:!0})}
function _wfiview(a,b,c){b={num:b,edit:!0,key:a,isErrorHandler:c?!0:!1};getCurSEID()&&(b.scheduledExecutionId=getCurSEID());jQuery("#wfli_"+a).load(_genUrl(appLinks.workflowRender,b),_showWFItemControls)}
function _wfisave(a,b,c,d){jobWasEdited();c=jQuery("#"+c+" :input").serialize();jQuery.ajax({type:"POST",url:_genUrl(appLinks.workflowSave),data:c,beforeSend:_ajaxSendTokens.curry("job_edit_tokens"),success:function(c,f,k){f=jQuery("#wfli_"+a);f.html(c);1>f.find("div.wfitemEditForm").size()?(_showWFItemControls(),d&&_hideWFItemControlsAddEH(b)):postLoadItemEdit("#wfli_"+a,d)}}).success(_ajaxReceiveTokens.curry("job_edit_tokens"))}var newitemElem;
function _wfiaddnew(a,b){jobWasEdited();var c={newitemtype:a,newitemnodestep:b?!0:!1};getCurSEID()&&(c.scheduledExecutionId=getCurSEID());clearHtml("wfnewitem");jQuery("#wfnewtypes").hide();_hideWFItemControls("new");var d=jQuery("#workflowContent"),e=d.find("ol").first(),f=d.find("ol > li").length;c.key=f;d=jQuery('<li><span></span><div></div><ul class="wfhandleritem" style="display:none"><li></li></ul></li>');1==f%2&&d.addClass("alternate");d.data("wfitemnum",f);d.find("div").attr("id","wfivis_"+
f);d.find("ul").data("wfitemnum",f);d.find("ul li").attr("id","wfli_eh_"+f);e.append(d);newitemElem=d.find("span").first()[0];jQuery(newitemElem).attr("id","wfli_"+f);jQuery(newitemElem).data("wfitemnodestep",b);jQuery(newitemElem).load(_genUrl(appLinks.workflowEdit,c),function(){postLoadItemEdit("#wfli_"+f,!1,b?!0:!1)})}function _addAceTextarea(a,b,c){return _setupAceTextareaEditor(a,function(a){jobWasEdited();b&&b(a)},c)}
function _wfisavenew(a){jobWasEdited();a=jQuery("#"+a+" :input").serialize();jQuery.ajax({type:"POST",url:_genUrl(appLinks.workflowSave),data:a,beforeSend:_ajaxSendTokens.curry("job_edit_tokens"),success:function(a,c,d){jQuery(newitemElem).html(a);0<jQuery(newitemElem).find(".wfitemEditForm").length?postLoadItemEdit(newitemElem):(a=jQuery(newitemElem.parentNode),a.highlight(),jQuery("#wfnewbutton").show(),_showWFItemControls(),jQuery("#workflowDropfinal").data("wfitemnum",parseInt(a.data("wfitemnum"))+
1),newitemElem=null)}}).success(_ajaxReceiveTokens.curry("job_edit_tokens"))}function _wficancelnew(){jQuery(newitemElem.parentNode).remove();newitemElem=null;jQuery("#wfnewbutton").show();_showWFItemControls()}function _findParentAttr(a,b){return jQuery(a).closest("["+b+"]").attr(b)}function _evtNewStepChooseType(a){a=a.element();a=_findParentAttr(a,"data-step-type");_wfiaddnew(a,!1)}function _evtNewNodeStepChooseType(a){a=a.element();a=_findParentAttr(a,"data-node-step-type");_wfiaddnew(a,!0)}
function _evtNewStepCancel(a){jQuery("#wfnewtypes").hide();jQuery("#wfnewbutton").show()}function _hideWFItemControls(a){jQuery("#workflowContent").find("span.wfitemcontrols").hide();jQuery("#wfundoredo,#wfnewbutton").hide();_iseditting=a}function _updateEmptyMessage(){0<jQuery("#workflowContent").find("ol li").length?jQuery("#wfempty").hide():jQuery("#wfempty").show()}
function _showWFItemControls(){jQuery("#workflowContent").find("span.wfitemcontrols").show();jQuery("#wfundoredo,#wfnewbutton").show();_updateWFUndoRedo();_enableWFDragdrop();_updateEmptyMessage();_iseditting=null}function _hideWFItemControlsAddEH(a){jQuery("#wfli_"+a).find(".wfitem_add_errorhandler").hide()}function _evtNewEHChooseType(a){a=a.element();var b=_findParentAttr(a,"data-step-type");_wfiaddNewErrorHandler(a,b,null,!1)}
function _evtNewEHNodeStepType(a){a=a.element();var b=_findParentAttr(a,"data-node-step-type");_wfiaddNewErrorHandler(a,b,null,!0)}function _hideAddNewEHLinks(){jQuery("span.wfitem_add_errorhandler").hide()}function _showAddNewEHLinks(){jQuery("span.wfitem_add_errorhandler").show()}function _evtNewEHCancel(a){jQuery(a.element()).closest("ul.wfhandleritem").hide();_hideAddNewEH();_showWFItemControls()}
function _wficancelnewEH(a){jQuery(a).closest("ul.wfhandleritem").hide();a=jQuery(a).closest("ul.wfhandleritem li").first();clearHtml(a[0]);_showWFItemControls()}function _hideAddNewEH(){var a=jQuery("#wfnewtypes"),b=jQuery("#wfnew_eh_types");b.hide();b.detach();a.append(b)}
function _wfishownewErrorHandler(a,b,c){b=jQuery("#wfnew_eh_types");a=jQuery("#wfli_eh_"+a);clearHtml(a[0]);b.detach();a.append(b);var d=jQuery("#wf_strat_node_first").is(":checked");c=!(c&&d);d=b.find(".step_section");c?d.show():d.hide();b.show();a.parent().show();_hideWFItemControls("eh")}
function _wfiaddNewErrorHandler(a,b,c,d){null==c&&(a=jQuery(a).closest("ul.wfhandleritem"),1==a.length&&(c=a.data("wfitemnum")));a="eh_"+c;b={newitemtype:b,key:a,num:c,isErrorHandler:!0,newitemnodestep:d?!0:!1};getCurSEID()&&(b.scheduledExecutionId=getCurSEID());var e=jQuery("#wfli_"+a);_hideAddNewEH();e.data("wfitemnodestep",d);e.load(_genUrl(appLinks.workflowEdit,b),function(){postLoadItemEdit(e,!0,d)})}
function _doMoveItem(a,b){_ajaxWFAction(appLinks.workflowReorder,{fromnum:a,tonum:b,edit:!0})}function _doRemoveItem(a,b,c){var d={delnum:b,edit:!0,key:a,isErrorHandler:c};jQuery("#wfivis_"+a).fadeOut("fast",function(a){_ajaxWFAction(appLinks.workflowRemove,d)})}function _doUndoWFAction(){_ajaxWFAction(appLinks.workflowUndo,{edit:!0})}function _doRedoWFAction(){_ajaxWFAction(appLinks.workflowRedo,{edit:!0})}function _doResetWFAction(){_ajaxWFAction(appLinks.workflowRevert,{edit:!0})}
function _ajaxWFAction(a,b){jobWasEdited();getCurSEID()&&(b.scheduledExecutionId=getCurSEID());jQuery.ajax({type:"POST",url:_genUrl(a),data:b,beforeSend:_ajaxSendTokens.curry("reqtoken_undo_workflow"),success:function(a,b,e){jQuery("#workflowContent").find("ol").html(a);newitemElem=null;jQuery("#wfnewbutton").show();_showWFItemControls()}})}function _updateWFUndoRedo(){var a={};getCurSEID()&&(a.scheduledExecutionId=getCurSEID());jQuery("#wfundoredo").load(_genUrl(appLinks.workflowRenderUndo,a))}
function moveDragItem(a,b){var c=jQuery(a).data("wfitemnum"),d=jQuery(b).data("wfitemnum");d>c&&--d;_doMoveItem(c,d)}function _enableWFDragdrop(){_enableDragdrop("#workflowContent ol>li","workflowDropfinal",moveDragItem)}
function _enableDragdrop(a,b,c){$$(a).each(function(a){new Draggable(a,{revert:"failure",ghosting:!1,constraint:"vertical",handle:"dragHandle",scroll:window,onStart:function(a){$(b).show()},onEnd:function(a){$(b).hide()}});Droppables.add(a,{hoverclass:"hoverActive",onDrop:c});$(a).addClassName("ready")});$$("#"+b).each(function(a){Droppables.add(a,{hoverclass:"hoverActive",onDrop:c});$(a).addClassName("ready")})}
function _doRevertAction(a){return"workflow"==a?_doResetWFAction():"opts"==a?_doRevertOptsAction():null}function _doRedoAction(a){return"workflow"==a?_doRedoWFAction():"opts"==a?_doRedoOptsAction():null}function _doUndoAction(a){return"workflow"==a?_doUndoWFAction():"opts"==a?_doUndoOptsAction():null}var newoptli;
function _showOptControls(){$$("#optionsContent .opteditcontrols").each(Element.show);$("optnewbutton").show();_updateOptsUndoRedo();_showOptEmptyMessage();_enableOptDragDrop();clearHtml("optsload")}function _enableOptDragDrop(){_enableDragdrop("#optionContent ul>li","optionDropFinal",_dragReorderOption)}function _showOptEmptyMessage(){$("optionsContent").down("ul li")?($("optempty").hide(),$("optheader").show()):($("optempty").show(),$("optheader").hide())}
function _hideOptControls(){$$("#optionsContent .opteditcontrols").each(Element.hide);$("optnewbutton").hide();clearHtml("optsload")}function _updateOptsUndoRedo(){var a={};getCurSEID()&&(a.scheduledExecutionId=getCurSEID());jQuery("#optundoredo").load(_genUrl(appLinks.editOptsRenderUndo,a))}
function _configureInputRestrictions(a){$(a).select("input").each(function(a){"text"==a.type&&a.observe("keypress",noenter)});$(a).select("input.restrictOptName").each(function(a){"text"==a.type&&a.observe("keypress",function(a){return controlkeycode(a)||onlychars("[a-zA-Z_0-9.\\t-]",a)})})}function _isjobScheduled(){return"true"==jQuery("#scheduledTrue:checked").val()}
function _optedit(a,b){jobWasEdited();var c={name:a};getCurSEID()&&(c.scheduledExecutionId=getCurSEID());c.jobWasScheduled=_isjobScheduled();$("optsload").loading();jQuery.ajax({type:"GET",url:_genUrl(appLinks.editOptsEdit,c),success:function(a,c,f){jQuery(b).html(a);_hideOptControls();_configureInputRestrictions(b)},failure:function(a,b,c){alert("error: "+b)}})}
function _optview(a,b){var c={name:a,edit:!0};getCurSEID()&&(c.scheduledExecutionId=getCurSEID());c.jobWasScheduled=_isjobScheduled();jQuery(b).load(_genUrl(appLinks.editOptsRender,c),_showOptControls)}
function _optsave(a,b,c){jobWasEdited();$("optsload").loading();jQuery.ajax({type:"POST",url:_genUrl(appLinks.editOptsSave,{jobWasScheduled:_isjobScheduled()}),data:jQuery("#"+a+" :input").serialize(),beforeSend:_ajaxSendTokens.curry(b),success:function(a,b,f){jQuery(c).html(a);1>jQuery(c).find("div.optEditForm").length?(_showOptControls(),jQuery(c).highlight()):(_configureInputRestrictions(c),_hideOptControls())}})}
function _optaddnewIfNone(){var a=$$("#optionsContent ul li");a&&0!=a.length||_optaddnew()}
function _optaddnew(){jobWasEdited();var a={newoption:!0};getCurSEID()&&(a.scheduledExecutionId=getCurSEID());_hideOptControls();var b=$("optionsContent").down("ul"),c=$$("#optionsContent ul li").length;newoptli=new Element("li");1==c%2&&newoptli.addClassName("alternate");newoptli.addClassName("optEntry");var d=new Element("div");d.setAttribute("id","optvis_"+c);newoptli.appendChild(d);b.appendChild(newoptli);$("optsload").loading();jQuery(d).load(_genUrl(appLinks.editOptsEdit,a),null,function(a,
b,c){"success"==b&&(_configureInputRestrictions(d),_hideOptControls());clearHtml("optsload")})}function _optcancelnew(){var a=$("optionsContent").down("ul");$(a).removeChild(newoptli);newoptli=null;_showOptControls()}
function _reloadOpts(){var a={newoption:!0,edit:!0};getCurSEID()&&(a.scheduledExecutionId=getCurSEID());$("optionsContent").down("ul.options");$("optsload").loading();jQuery("#optionsContent").find("ul.options").load(_genUrl(appLinks.editOptsRenderAll,a),function(a,c,d){_showOptControls()})}
function _summarizeOpts(){var a={newoption:!0,edit:!0};getCurSEID()&&(a.scheduledExecutionId=getCurSEID());$("optssummary");$("optsload").loading();jQuery("#optssummary").load(_genUrl(appLinks.editOptsRenderSummary,a),_showOptControls)}
function _optsavenew(a,b){jobWasEdited();var c=jQuery("#"+a+" :input").serialize(),d=jQuery("#"+a+" :input[name=name]").val(),e=jQuery("#"+a+" :input[name=type]").val();$("optsload").loading();jQuery.ajax({type:"POST",url:_genUrl(appLinks.editOptsSave,{jobWasScheduled:_isjobScheduled()}),data:c,beforeSend:_ajaxSendTokens.curry(b),success:function(a,b,c){jQuery(newoptli).html(a);_addOption({name:d,type:e});newoptli.down("div.optEditForm")?newoptli.down("div.optEditForm")&&(_configureInputRestrictions(newoptli),
_hideOptControls()):($(newoptli).highlight(),newoptli=null,_showOptControls(),_reloadOpts())}})}
function _doRemoveOption(a,b,c){jobWasEdited();var d={name:a,edit:!0};getCurSEID()&&(d.scheduledExecutionId=getCurSEID());$("optsload").loading();jQuery($(b)).slideUp("fast",function(b){jQuery.ajax({type:"POST",url:_genUrl(appLinks.editOptsRemove),data:d,beforeSend:_ajaxSendTokens.curry(c),success:function(b,c,d){_removeOptionName(a);jQuery("#optionsContent").find("ul").html(b);_showOptControls()}})})}
function _dragReorderOption(a,b){var c=jQuery(a).data("optName"),d=jQuery(b).data("optName"),e={},e=!d&&jQuery(b).data("isFinal")?{end:!0}:{before:d};_doReorderOption(c,e)}
function _doReorderOption(a,b){jobWasEdited();var c={name:a,edit:!0};b.pos?c.relativePosition=b.pos:b.end?c.last=!0:b.before&&(c.before=b.before);getCurSEID()&&(c.scheduledExecutionId=getCurSEID());$("optsload").loading();jQuery.ajax({type:"POST",url:_genUrl(appLinks.editOptsReorder,c),beforeSend:_ajaxSendTokens.curry("reqtoken_undo_opts"),success:function(a,b,c){jQuery("#optionsContent").find("ul").html(a);_showOptControls()}})}
function _doUndoOptsAction(){var a={edit:!0};getCurSEID()&&(a.scheduledExecutionId=getCurSEID());jQuery.ajax({type:"POST",url:_genUrl(appLinks.editOptsUndo),data:a,beforeSend:_ajaxSendTokens.curry("reqtoken_undo_opts"),success:function(a,c,d){jQuery("#optionsContent").find("ul").html(a);_showOptControls()}})}
function _doRedoOptsAction(){var a={edit:!0};getCurSEID()&&(a.scheduledExecutionId=getCurSEID());jQuery.ajax({type:"POST",url:_genUrl(appLinks.editOptsRedo),data:a,beforeSend:_ajaxSendTokens.curry("reqtoken_undo_opts"),success:function(a,c,d){jQuery("#optionsContent").find("ul").html(a);_showOptControls()}})}
function _doRevertOptsAction(){var a={edit:!0};getCurSEID()&&(a.scheduledExecutionId=getCurSEID());jQuery.ajax({type:"POST",url:_genUrl(appLinks.editOptsRevert),data:a,beforeSend:_ajaxSendTokens.curry("reqtoken_undo_opts"),success:function(a,c,d){jQuery("#optionsContent").find("ul").html(a);_showOptControls()}})}var jobNameFieldId,jobGroupFieldId;
function jobChosen(a,b,c){jobWasEdited();jobNameFieldId&&jobGroupFieldId&&(jQuery("#"+jobNameFieldId).val(a),jQuery("#"+jobGroupFieldId).val(b),doyftsuccess(jobNameFieldId),doyftsuccess(jobGroupFieldId));1===jQuery(c).closest(".modal").length&&jQuery(c).closest(".modal").modal("hide")}
function loadJobChooserModal(a,b,c,d,e,f){jQuery(a).hasClass("active")?jQuery("#"+e).modal("hide"):(jobNameFieldId=b,jobGroupFieldId=c,b=selFrameworkProject,d&&(b=jQuery("#"+d).val()),jQuery(a).button("loading").addClass("active"),jQuery.ajax({url:_genUrl(appLinks.menuJobsPicker,{jobsjscallback:"true",runAuthRequired:!0,projFilter:b}),success:function(b,c,d){jQuery(a).button("reset").removeClass("active");jQuery("#"+f).html(b);jQuery("#"+e).modal("show")},error:function(b,c,d){showError("Error performing request: menuJobsPicker: "+
transport);jQuery(a).button("reset").removeClass("active")}}))}function groupChosen(a){jobWasEdited();jQuery("#schedJobGroup").val(a);jQuery("#schedJobGroup").highlight();jQuery("#groupChooseBtn").popover("hide")}
function loadGroupChooser(){var a=jQuery("#groupChooseBtn");a.button("loading");jQuery("#schedEditFrameworkProject").val();"true"==a.data("grouptreeshown")?(a.popover("hide"),a.button("reset")):jQuery.get(appLinks.scheduledExecutionGroupTreeFragment+"?jscallback=true",function(a){var c=jQuery("#groupChooseBtn");c.popover({html:!0,container:"body",placement:"left",content:a,trigger:"manual"}).popover("show");c.button("reset")})}
jQuery(window).load(function(){jQuery("#groupChooseBtn").click(loadGroupChooser);jQuery("#groupChooseBtn").on("shown.bs.popover",function(a){jQuery("#groupChooseBtn").data("grouptreeshown","true")});jQuery("#groupChooseBtn").on("hide.bs.popover",function(a){jQuery("#groupChooseBtn").data("grouptreeshown","false")});jQuery(".notifyFields").each(function(a,b){addWfAutocomplete(jQuery(b))})});